function _W(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function ko(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bw={exports:{}},Nh={};var i5;function jW(){if(i5)return Nh;i5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Nh.Fragment=t,Nh.jsx=r,Nh.jsxs=r,Nh}var o5;function AW(){return o5||(o5=1,bw.exports=jW()),bw.exports}var i=AW(),vw={exports:{}},lt={};var l5;function TW(){if(l5)return lt;l5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function N(M,L,J){this.props=M,this.context=L,this.refs=k,this.updater=J||v}N.prototype.isReactComponent={},N.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=N.prototype;function _(M,L,J){this.props=M,this.context=L,this.refs=k,this.updater=J||v}var O=_.prototype=new E;O.constructor=_,S(O,N.prototype),O.isPureReactComponent=!0;var j=Array.isArray;function A(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function V(M,L,J){var se=J.ref;return{$$typeof:e,type:M,key:L,ref:se!==void 0?se:null,props:J}}function W(M,L){return V(M.type,L,M.props)}function G(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function $(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return L[J]})}var z=/\/+/g;function Y(M,L){return typeof M=="object"&&M!==null&&M.key!=null?$(""+M.key):L.toString(36)}function le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(A,A):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,L,J,se,je){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case e:case t:Le=!0;break;case m:return Le=M._init,H(Le(M._payload),L,J,se,je)}}if(Le)return je=je(M),Le=se===""?"."+Y(M,0):se,j(je)?(J="",Le!=null&&(J=Le.replace(z,"$&/")+"/"),H(je,L,J,"",function(Ee){return Ee})):je!=null&&(G(je)&&(je=W(je,J+(je.key==null||M&&M.key===je.key?"":(""+je.key).replace(z,"$&/")+"/")+Le)),L.push(je)),1;Le=0;var Ce=se===""?".":se+":";if(j(M))for(var Q=0;Q<M.length;Q++)se=M[Q],Re=Ce+Y(se,Q),Le+=H(se,L,J,Re,je);else if(Q=b(M),typeof Q=="function")for(M=Q.call(M),Q=0;!(se=M.next()).done;)se=se.value,Re=Ce+Y(se,Q++),Le+=H(se,L,J,Re,je);else if(Re==="object"){if(typeof M.then=="function")return H(le(M),L,J,se,je);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ee(M,L,J){if(M==null)return M;var se=[],je=0;return H(M,se,"","",function(Re){return L.call(J,Re,je++)}),se}function q(M){if(M._status===-1){var L=M._result;L=L(),L.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},D={map:ee,forEach:function(M,L,J){ee(M,function(){L.apply(this,arguments)},J)},count:function(M){var L=0;return ee(M,function(){L++}),L},toArray:function(M){return ee(M,function(L){return L})||[]},only:function(M){if(!G(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return lt.Activity=g,lt.Children=D,lt.Component=N,lt.Fragment=r,lt.Profiler=a,lt.PureComponent=_,lt.StrictMode=n,lt.Suspense=d,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,lt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},lt.cache=function(M){return function(){return M.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(M,L,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=S({},M.props),je=M.key;if(L!=null)for(Re in L.key!==void 0&&(je=""+L.key),L)!U.call(L,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&L.ref===void 0||(se[Re]=L[Re]);var Re=arguments.length-2;if(Re===1)se.children=J;else if(1<Re){for(var Le=Array(Re),Ce=0;Ce<Re;Ce++)Le[Ce]=arguments[Ce+2];se.children=Le}return V(M.type,je,se)},lt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},lt.createElement=function(M,L,J){var se,je={},Re=null;if(L!=null)for(se in L.key!==void 0&&(Re=""+L.key),L)U.call(L,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(je[se]=L[se]);var Le=arguments.length-2;if(Le===1)je.children=J;else if(1<Le){for(var Ce=Array(Le),Q=0;Q<Le;Q++)Ce[Q]=arguments[Q+2];je.children=Ce}if(M&&M.defaultProps)for(se in Le=M.defaultProps,Le)je[se]===void 0&&(je[se]=Le[se]);return V(M,Re,je)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(M){return{$$typeof:u,render:M}},lt.isValidElement=G,lt.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:q}},lt.memo=function(M,L){return{$$typeof:f,type:M,compare:L===void 0?null:L}},lt.startTransition=function(M){var L=R.T,J={};R.T=J;try{var se=M(),je=R.S;je!==null&&je(J,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(A,te)}catch(Re){te(Re)}finally{L!==null&&J.types!==null&&(L.types=J.types),R.T=L}},lt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},lt.use=function(M){return R.H.use(M)},lt.useActionState=function(M,L,J){return R.H.useActionState(M,L,J)},lt.useCallback=function(M,L){return R.H.useCallback(M,L)},lt.useContext=function(M){return R.H.useContext(M)},lt.useDebugValue=function(){},lt.useDeferredValue=function(M,L){return R.H.useDeferredValue(M,L)},lt.useEffect=function(M,L){return R.H.useEffect(M,L)},lt.useEffectEvent=function(M){return R.H.useEffectEvent(M)},lt.useId=function(){return R.H.useId()},lt.useImperativeHandle=function(M,L,J){return R.H.useImperativeHandle(M,L,J)},lt.useInsertionEffect=function(M,L){return R.H.useInsertionEffect(M,L)},lt.useLayoutEffect=function(M,L){return R.H.useLayoutEffect(M,L)},lt.useMemo=function(M,L){return R.H.useMemo(M,L)},lt.useOptimistic=function(M,L){return R.H.useOptimistic(M,L)},lt.useReducer=function(M,L,J){return R.H.useReducer(M,L,J)},lt.useRef=function(M){return R.H.useRef(M)},lt.useState=function(M){return R.H.useState(M)},lt.useSyncExternalStore=function(M,L,J){return R.H.useSyncExternalStore(M,L,J)},lt.useTransition=function(){return R.H.useTransition()},lt.version="19.2.3",lt}var c5;function nf(){return c5||(c5=1,vw.exports=TW()),vw.exports}var x=nf();const Kt=ko(x),IW=_W({__proto__:null,default:Kt},[x]);var ww={exports:{}},Eh={},kw={exports:{}},Sw={};var u5;function OW(){return u5||(u5=1,(function(e){function t(H,ee){var q=H.length;H.push(ee);e:for(;0<q;){var te=q-1>>>1,D=H[te];if(0<a(D,ee))H[te]=ee,H[q]=D,q=te;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ee=H[0],q=H.pop();if(q!==ee){H[0]=q;e:for(var te=0,D=H.length,M=D>>>1;te<M;){var L=2*(te+1)-1,J=H[L],se=L+1,je=H[se];if(0>a(J,q))se<D&&0>a(je,J)?(H[te]=je,H[se]=q,te=se):(H[te]=J,H[L]=q,te=L);else if(se<D&&0>a(je,q))H[te]=je,H[se]=q,te=se;else break e}}return ee}function a(H,ee){var q=H.sortIndex-ee.sortIndex;return q!==0?q:H.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,y=3,b=!1,v=!1,S=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var ee=r(f);ee!==null;){if(ee.callback===null)n(f);else if(ee.startTime<=H)n(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=r(f)}}function j(H){if(S=!1,O(H),!v)if(r(d)!==null)v=!0,A||(A=!0,$());else{var ee=r(f);ee!==null&&le(j,ee.startTime-H)}}var A=!1,R=-1,U=5,V=-1;function W(){return k?!0:!(e.unstable_now()-V<U)}function G(){if(k=!1,A){var H=e.unstable_now();V=H;var ee=!0;try{e:{v=!1,S&&(S=!1,E(R),R=-1),b=!0;var q=y;try{t:{for(O(H),g=r(d);g!==null&&!(g.expirationTime>H&&W());){var te=g.callback;if(typeof te=="function"){g.callback=null,y=g.priorityLevel;var D=te(g.expirationTime<=H);if(H=e.unstable_now(),typeof D=="function"){g.callback=D,O(H),ee=!0;break t}g===r(d)&&n(d),O(H)}else n(d);g=r(d)}if(g!==null)ee=!0;else{var M=r(f);M!==null&&le(j,M.startTime-H),ee=!1}}break e}finally{g=null,y=q,b=!1}ee=void 0}}finally{ee?$():A=!1}}}var $;if(typeof _=="function")$=function(){_(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=G,$=function(){Y.postMessage(null)}}else $=function(){N(G,0)};function le(H,ee){R=N(function(){H(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var q=y;y=ee;try{return H()}finally{y=q}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=y;y=H;try{return ee()}finally{y=q}},e.unstable_scheduleCallback=function(H,ee,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,H={id:m++,callback:ee,priorityLevel:H,startTime:q,expirationTime:D,sortIndex:-1},q>te?(H.sortIndex=q,t(f,H),r(d)===null&&H===r(f)&&(S?(E(R),R=-1):S=!0,le(j,q-te))):(H.sortIndex=D,t(d,H),v||b||(v=!0,A||(A=!0,$()))),H},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(H){var ee=y;return function(){var q=y;y=ee;try{return H.apply(this,arguments)}finally{y=q}}}})(Sw)),Sw}var d5;function MW(){return d5||(d5=1,kw.exports=OW()),kw.exports}var Cw={exports:{}},Nn={};var f5;function RW(){if(f5)return Nn;f5=1;var e=nf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Nn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,m)},Nn.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},Nn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Nn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Nn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Nn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Nn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Nn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Nn.requestFormReset=function(d){n.d.r(d)},Nn.unstable_batchedUpdates=function(d,f){return d(f)},Nn.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},Nn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Nn.version="19.2.3",Nn}var h5;function P8(){if(h5)return Cw.exports;h5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cw.exports=RW(),Cw.exports}var m5;function DW(){if(m5)return Eh;m5=1;var e=MW(),t=nf(),r=P8();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(n(188))}function f(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,p=c;;){var w=h.return;if(w===null)break;var C=w.alternate;if(C===null){if(p=w.return,p!==null){h=p;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===h)return d(w),o;if(C===p)return d(w),c;C=C.sibling}throw Error(n(188))}if(h.return!==p.return)h=w,p=C;else{for(var T=!1,P=w.child;P;){if(P===h){T=!0,h=w,p=C;break}if(P===p){T=!0,p=w,h=C;break}P=P.sibling}if(!T){for(P=C.child;P;){if(P===h){T=!0,h=C,p=w;break}if(P===p){T=!0,p=C,h=w;break}P=P.sibling}if(!T)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function $(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList";case V:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case _:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case R:return c=o.displayName||null,c!==null?c:Y(o.type)||"Memo";case U:c=o._payload,o=o._init;try{return Y(o(c))}catch{}}return null}var le=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},te=[],D=-1;function M(o){return{current:o}}function L(o){0>D||(o.current=te[D],te[D]=null,D--)}function J(o,c){D++,te[D]=o.current,o.current=c}var se=M(null),je=M(null),Re=M(null),Le=M(null);function Ce(o,c){switch(J(Re,c),J(je,o),J(se,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?A4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=A4(c),o=T4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}L(se),J(se,o)}function Q(){L(se),L(je),L(Re)}function Ee(o){o.memoizedState!==null&&J(Le,o);var c=se.current,h=T4(c,o.type);c!==h&&(J(je,o),J(se,h))}function we(o){je.current===o&&(L(se),L(je)),Le.current===o&&(L(Le),wh._currentValue=q)}var ae,nt;function De(o){if(ae===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ae=c&&c[1]||"",nt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+o+nt}var Ve=!1;function Ze(o,c){if(!o||Ve)return"";Ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var ue=ge}Reflect.construct(o,[],Se)}else{try{Se.call()}catch(ge){ue=ge}o.call(Se.prototype)}}else{try{throw Error()}catch(ge){ue=ge}(Se=o())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&ue&&typeof ge.stack=="string")return[ge.stack,ue.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),T=C[0],P=C[1];if(T&&P){var K=T.split(`
`),oe=P.split(`
`);for(w=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;w<oe.length&&!oe[w].includes("DetermineComponentFrameRoot");)w++;if(p===K.length||w===oe.length)for(p=K.length-1,w=oe.length-1;1<=p&&0<=w&&K[p]!==oe[w];)w--;for(;1<=p&&0<=w;p--,w--)if(K[p]!==oe[w]){if(p!==1||w!==1)do if(p--,w--,0>w||K[p]!==oe[w]){var ye=`
`+K[p].replace(" at new "," at ");return o.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",o.displayName)),ye}while(1<=p&&0<=w);break}}}finally{Ve=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?De(h):""}function ce(o,c){switch(o.tag){case 26:case 27:case 5:return De(o.type);case 16:return De("Lazy");case 13:return o.child!==c&&c!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Ze(o.type,!1);case 11:return Ze(o.type.render,!1);case 1:return Ze(o.type,!0);case 31:return De("Activity");default:return""}}function Ae(o){try{var c="",h=null;do c+=ce(o,h),h=o,o=o.return;while(o);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Z=Object.prototype.hasOwnProperty,me=e.unstable_scheduleCallback,Pe=e.unstable_cancelCallback,Te=e.unstable_shouldYield,Ye=e.unstable_requestPaint,Be=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,Sn=e.unstable_ImmediatePriority,dn=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,I=e.unstable_LowPriority,F=e.unstable_IdlePriority,B=e.log,ne=e.unstable_setDisableYieldValue,ve=null,fe=null;function Ne(o){if(typeof B=="function"&&ne(o),fe&&typeof fe.setStrictMode=="function")try{fe.setStrictMode(ve,o)}catch{}}var _e=Math.clz32?Math.clz32:fr,Ie=Math.log,it=Math.LN2;function fr(o){return o>>>=0,o===0?32:31-(Ie(o)/it|0)|0}var Cn=256,Xs=262144,Ni=4194304;function Cs(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function To(o,c,h){var p=o.pendingLanes;if(p===0)return 0;var w=0,C=o.suspendedLanes,T=o.pingedLanes;o=o.warmLanes;var P=p&134217727;return P!==0?(p=P&~C,p!==0?w=Cs(p):(T&=P,T!==0?w=Cs(T):h||(h=P&~o,h!==0&&(w=Cs(h))))):(P=p&~C,P!==0?w=Cs(P):T!==0?w=Cs(T):h||(h=p&~o,h!==0&&(w=Cs(h)))),w===0?0:c!==0&&c!==w&&(c&C)===0&&(C=w&-w,h=c&-c,C>=h||C===32&&(h&4194048)!==0)?c:w}function Gl(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Nm(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(){var o=Ni;return Ni<<=1,(Ni&62914560)===0&&(Ni=4194304),o}function pe(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function et(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ct(o,c,h,p,w,C){var T=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var P=o.entanglements,K=o.expirationTimes,oe=o.hiddenUpdates;for(h=T&~h;0<h;){var ye=31-_e(h),Se=1<<ye;P[ye]=0,K[ye]=-1;var ue=oe[ye];if(ue!==null)for(oe[ye]=null,ye=0;ye<ue.length;ye++){var ge=ue[ye];ge!==null&&(ge.lane&=-536870913)}h&=~Se}p!==0&&Ka(o,p,0),C!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=C&~(T&~c))}function Ka(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var p=31-_e(c);o.entangledLanes|=c,o.entanglements[p]=o.entanglements[p]|1073741824|h&261930}function _m(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var p=31-_e(h),w=1<<p;w&c|o[p]&c&&(o[p]|=c),h&=~w}}function hA(o,c){var h=c&-c;return h=(h&42)!==0?1:lv(h),(h&(o.suspendedLanes|c))!==0?0:h}function lv(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function cv(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function mA(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:Z4(o.type))}function gA(o,c){var h=ee.p;try{return ee.p=o,c()}finally{ee.p=h}}var Io=Math.random().toString(36).slice(2),fn="__reactFiber$"+Io,Jn="__reactProps$"+Io,fu="__reactContainer$"+Io,uv="__reactEvents$"+Io,pK="__reactListeners$"+Io,yK="__reactHandles$"+Io,pA="__reactResources$"+Io,Pf="__reactMarker$"+Io;function dv(o){delete o[fn],delete o[Jn],delete o[uv],delete o[pK],delete o[yK]}function hu(o){var c=o[fn];if(c)return c;for(var h=o.parentNode;h;){if(c=h[fu]||h[fn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=L4(o);o!==null;){if(h=o[fn])return h;o=L4(o)}return c}o=h,h=o.parentNode}return null}function mu(o){if(o=o[fn]||o[fu]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Lf(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function gu(o){var c=o[pA];return c||(c=o[pA]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Qr(o){o[Pf]=!0}var yA=new Set,xA={};function Wl(o,c){pu(o,c),pu(o+"Capture",c)}function pu(o,c){for(xA[o]=c,o=0;o<c.length;o++)yA.add(c[o])}var xK=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bA={},vA={};function bK(o){return Z.call(vA,o)?!0:Z.call(bA,o)?!1:xK.test(o)?vA[o]=!0:(bA[o]=!0,!1)}function jm(o,c,h){if(bK(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Am(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Ei(o,c,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+p)}}function Ga(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wA(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function vK(o,c,h){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,C=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(T){h=""+T,C.call(this,T)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function fv(o){if(!o._valueTracker){var c=wA(o)?"checked":"value";o._valueTracker=vK(o,c,""+o[c])}}function kA(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return o&&(p=wA(o)?o.checked?"true":"false":o.value),o=p,o!==h?(c.setValue(o),!0):!1}function Tm(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var wK=/[\n"\\]/g;function Wa(o){return o.replace(wK,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function hv(o,c,h,p,w,C,T,P){o.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?o.type=T:o.removeAttribute("type"),c!=null?T==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ga(c)):o.value!==""+Ga(c)&&(o.value=""+Ga(c)):T!=="submit"&&T!=="reset"||o.removeAttribute("value"),c!=null?mv(o,T,Ga(c)):h!=null?mv(o,T,Ga(h)):p!=null&&o.removeAttribute("value"),w==null&&C!=null&&(o.defaultChecked=!!C),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.name=""+Ga(P):o.removeAttribute("name")}function SA(o,c,h,p,w,C,T,P){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),c!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){fv(o);return}h=h!=null?""+Ga(h):"",c=c!=null?""+Ga(c):h,P||c===o.value||(o.value=c),o.defaultValue=c}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=P?o.checked:!!p,o.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.name=T),fv(o)}function mv(o,c,h){c==="number"&&Tm(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function yu(o,c,h,p){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&p&&(o[h].defaultSelected=!0)}else{for(h=""+Ga(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,p&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function CA(o,c,h){if(c!=null&&(c=""+Ga(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Ga(h):""}function NA(o,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(n(92));if(le(p)){if(1<p.length)throw Error(n(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=Ga(c),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p),fv(o)}function xu(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var kK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function EA(o,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":p?o.setProperty(c,h):typeof h!="number"||h===0||kK.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function _A(o,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var w in c)p=c[w],c.hasOwnProperty(w)&&h[w]!==p&&EA(o,w,p)}else for(var C in c)c.hasOwnProperty(C)&&EA(o,C,c[C])}function gv(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Im(o){return CK.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function _i(){}var pv=null;function yv(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bu=null,vu=null;function jA(o){var c=mu(o);if(c&&(o=c.stateNode)){var h=o[Jn]||null;e:switch(o=c.stateNode,c.type){case"input":if(hv(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wa(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==o&&p.form===o.form){var w=p[Jn]||null;if(!w)throw Error(n(90));hv(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===o.form&&kA(p)}break e;case"textarea":CA(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&yu(o,!!h.multiple,c,!1)}}}var xv=!1;function AA(o,c,h){if(xv)return o(c,h);xv=!0;try{var p=o(c);return p}finally{if(xv=!1,(bu!==null||vu!==null)&&(xg(),bu&&(c=bu,o=vu,vu=bu=null,jA(c),o)))for(c=0;c<o.length;c++)jA(o[c])}}function Uf(o,c){var h=o.stateNode;if(h===null)return null;var p=h[Jn]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bv=!1;if(ji)try{var Ff={};Object.defineProperty(Ff,"passive",{get:function(){bv=!0}}),window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,Ff)}catch{bv=!1}var Oo=null,vv=null,Om=null;function TA(){if(Om)return Om;var o,c=vv,h=c.length,p,w="value"in Oo?Oo.value:Oo.textContent,C=w.length;for(o=0;o<h&&c[o]===w[o];o++);var T=h-o;for(p=1;p<=T&&c[h-p]===w[C-p];p++);return Om=w.slice(o,1<p?1-p:void 0)}function Mm(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Rm(){return!0}function IA(){return!1}function Qn(o){function c(h,p,w,C,T){this._reactName=h,this._targetInst=w,this.type=p,this.nativeEvent=C,this.target=T,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(h=o[P],this[P]=h?h(C):C[P]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Rm:IA,this.isPropagationStopped=IA,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),c}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=Qn(Vl),Bf=g({},Vl,{view:0,detail:0}),NK=Qn(Bf),wv,kv,zf,Pm=g({},Bf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==zf&&(zf&&o.type==="mousemove"?(wv=o.screenX-zf.screenX,kv=o.screenY-zf.screenY):kv=wv=0,zf=o),wv)},movementY:function(o){return"movementY"in o?o.movementY:kv}}),OA=Qn(Pm),EK=g({},Pm,{dataTransfer:0}),_K=Qn(EK),jK=g({},Bf,{relatedTarget:0}),Sv=Qn(jK),AK=g({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),TK=Qn(AK),IK=g({},Vl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),OK=Qn(IK),MK=g({},Vl,{data:0}),MA=Qn(MK),RK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LK(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=PK[o])?!!c[o]:!1}function Cv(){return LK}var UK=g({},Bf,{key:function(o){if(o.key){var c=RK[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Mm(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?DK[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cv,charCode:function(o){return o.type==="keypress"?Mm(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Mm(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),FK=Qn(UK),BK=g({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RA=Qn(BK),zK=g({},Bf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cv}),$K=Qn(zK),HK=g({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qK=Qn(HK),KK=g({},Pm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),GK=Qn(KK),WK=g({},Vl,{newState:0,oldState:0}),VK=Qn(WK),YK=[9,13,27,32],Nv=ji&&"CompositionEvent"in window,$f=null;ji&&"documentMode"in document&&($f=document.documentMode);var XK=ji&&"TextEvent"in window&&!$f,DA=ji&&(!Nv||$f&&8<$f&&11>=$f),PA=" ",LA=!1;function UA(o,c){switch(o){case"keyup":return YK.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FA(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wu=!1;function JK(o,c){switch(o){case"compositionend":return FA(c);case"keypress":return c.which!==32?null:(LA=!0,PA);case"textInput":return o=c.data,o===PA&&LA?null:o;default:return null}}function QK(o,c){if(wu)return o==="compositionend"||!Nv&&UA(o,c)?(o=TA(),Om=vv=Oo=null,wu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return DA&&c.locale!=="ko"?null:c.data;default:return null}}var ZK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BA(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ZK[o.type]:c==="textarea"}function zA(o,c,h,p){bu?vu?vu.push(p):vu=[p]:bu=p,c=Ng(c,"onChange"),0<c.length&&(h=new Dm("onChange","change",null,h,p),o.push({event:h,listeners:c}))}var Hf=null,qf=null;function eG(o){S4(o,0)}function Lm(o){var c=Lf(o);if(kA(c))return o}function $A(o,c){if(o==="change")return c}var HA=!1;if(ji){var Ev;if(ji){var _v="oninput"in document;if(!_v){var qA=document.createElement("div");qA.setAttribute("oninput","return;"),_v=typeof qA.oninput=="function"}Ev=_v}else Ev=!1;HA=Ev&&(!document.documentMode||9<document.documentMode)}function KA(){Hf&&(Hf.detachEvent("onpropertychange",GA),qf=Hf=null)}function GA(o){if(o.propertyName==="value"&&Lm(qf)){var c=[];zA(c,qf,o,yv(o)),AA(eG,c)}}function tG(o,c,h){o==="focusin"?(KA(),Hf=c,qf=h,Hf.attachEvent("onpropertychange",GA)):o==="focusout"&&KA()}function rG(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lm(qf)}function nG(o,c){if(o==="click")return Lm(c)}function aG(o,c){if(o==="input"||o==="change")return Lm(c)}function sG(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ka=typeof Object.is=="function"?Object.is:sG;function Kf(o,c){if(ka(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var w=h[p];if(!Z.call(c,w)||!ka(o[w],c[w]))return!1}return!0}function WA(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function VA(o,c){var h=WA(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=c&&p>=c)return{node:h,offset:c-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=WA(h)}}function YA(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?YA(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function XA(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Tm(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Tm(o.document)}return c}function jv(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var iG=ji&&"documentMode"in document&&11>=document.documentMode,ku=null,Av=null,Gf=null,Tv=!1;function JA(o,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Tv||ku==null||ku!==Tm(p)||(p=ku,"selectionStart"in p&&jv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Gf&&Kf(Gf,p)||(Gf=p,p=Ng(Av,"onSelect"),0<p.length&&(c=new Dm("onSelect","select",null,c,h),o.push({event:c,listeners:p}),c.target=ku)))}function Yl(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Su={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionrun:Yl("Transition","TransitionRun"),transitionstart:Yl("Transition","TransitionStart"),transitioncancel:Yl("Transition","TransitionCancel"),transitionend:Yl("Transition","TransitionEnd")},Iv={},QA={};ji&&(QA=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Xl(o){if(Iv[o])return Iv[o];if(!Su[o])return o;var c=Su[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in QA)return Iv[o]=c[h];return o}var ZA=Xl("animationend"),eT=Xl("animationiteration"),tT=Xl("animationstart"),oG=Xl("transitionrun"),lG=Xl("transitionstart"),cG=Xl("transitioncancel"),rT=Xl("transitionend"),nT=new Map,Ov="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ov.push("scrollEnd");function Ns(o,c){nT.set(o,c),Wl(c,[o])}var Um=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Va=[],Cu=0,Mv=0;function Fm(){for(var o=Cu,c=Mv=Cu=0;c<o;){var h=Va[c];Va[c++]=null;var p=Va[c];Va[c++]=null;var w=Va[c];Va[c++]=null;var C=Va[c];if(Va[c++]=null,p!==null&&w!==null){var T=p.pending;T===null?w.next=w:(w.next=T.next,T.next=w),p.pending=w}C!==0&&aT(h,w,C)}}function Bm(o,c,h,p){Va[Cu++]=o,Va[Cu++]=c,Va[Cu++]=h,Va[Cu++]=p,Mv|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Rv(o,c,h,p){return Bm(o,c,h,p),zm(o)}function Jl(o,c){return Bm(o,null,null,c),zm(o)}function aT(o,c,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var w=!1,C=o.return;C!==null;)C.childLanes|=h,p=C.alternate,p!==null&&(p.childLanes|=h),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(w=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,w&&c!==null&&(w=31-_e(h),o=C.hiddenUpdates,p=o[w],p===null?o[w]=[c]:p.push(c),c.lane=h|536870912),C):null}function zm(o){if(50<mh)throw mh=0,H1=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Nu={};function uG(o,c,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(o,c,h,p){return new uG(o,c,h,p)}function Dv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ai(o,c){var h=o.alternate;return h===null?(h=Sa(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function sT(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function $m(o,c,h,p,w,C){var T=0;if(p=o,typeof o=="function")Dv(o)&&(T=1);else if(typeof o=="string")T=gW(o,h,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case V:return o=Sa(31,h,c,w),o.elementType=V,o.lanes=C,o;case S:return Ql(h.children,w,C,c);case k:T=8,w|=24;break;case N:return o=Sa(12,h,c,w|2),o.elementType=N,o.lanes=C,o;case j:return o=Sa(13,h,c,w),o.elementType=j,o.lanes=C,o;case A:return o=Sa(19,h,c,w),o.elementType=A,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case _:T=10;break e;case E:T=9;break e;case O:T=11;break e;case R:T=14;break e;case U:T=16,p=null;break e}T=29,h=Error(n(130,o===null?"null":typeof o,"")),p=null}return c=Sa(T,h,c,w),c.elementType=o,c.type=p,c.lanes=C,c}function Ql(o,c,h,p){return o=Sa(7,o,p,c),o.lanes=h,o}function Pv(o,c,h){return o=Sa(6,o,null,c),o.lanes=h,o}function iT(o){var c=Sa(18,null,null,0);return c.stateNode=o,c}function Lv(o,c,h){return c=Sa(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var oT=new WeakMap;function Ya(o,c){if(typeof o=="object"&&o!==null){var h=oT.get(o);return h!==void 0?h:(c={value:o,source:c,stack:Ae(c)},oT.set(o,c),c)}return{value:o,source:c,stack:Ae(c)}}var Eu=[],_u=0,Hm=null,Wf=0,Xa=[],Ja=0,Mo=null,Js=1,Qs="";function Ti(o,c){Eu[_u++]=Wf,Eu[_u++]=Hm,Hm=o,Wf=c}function lT(o,c,h){Xa[Ja++]=Js,Xa[Ja++]=Qs,Xa[Ja++]=Mo,Mo=o;var p=Js;o=Qs;var w=32-_e(p)-1;p&=~(1<<w),h+=1;var C=32-_e(c)+w;if(30<C){var T=w-w%5;C=(p&(1<<T)-1).toString(32),p>>=T,w-=T,Js=1<<32-_e(c)+w|h<<w|p,Qs=C+o}else Js=1<<C|h<<w|p,Qs=o}function Uv(o){o.return!==null&&(Ti(o,1),lT(o,1,0))}function Fv(o){for(;o===Hm;)Hm=Eu[--_u],Eu[_u]=null,Wf=Eu[--_u],Eu[_u]=null;for(;o===Mo;)Mo=Xa[--Ja],Xa[Ja]=null,Qs=Xa[--Ja],Xa[Ja]=null,Js=Xa[--Ja],Xa[Ja]=null}function cT(o,c){Xa[Ja++]=Js,Xa[Ja++]=Qs,Xa[Ja++]=Mo,Js=c.id,Qs=c.overflow,Mo=o}var hn=null,or=null,kt=!1,Ro=null,Qa=!1,Bv=Error(n(519));function Do(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vf(Ya(c,o)),Bv}function uT(o){var c=o.stateNode,h=o.type,p=o.memoizedProps;switch(c[fn]=o,c[Jn]=p,h){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<ph.length;h++)pt(ph[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),SA(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),NA(c,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||_4(c.textContent,h)?(p.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),p.onScroll!=null&&pt("scroll",c),p.onScrollEnd!=null&&pt("scrollend",c),p.onClick!=null&&(c.onclick=_i),c=!0):c=!1,c||Do(o,!0)}function dT(o){for(hn=o.return;hn;)switch(hn.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:hn=hn.return}}function ju(o){if(o!==hn)return!1;if(!kt)return dT(o),kt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||aw(o.type,o.memoizedProps)),h=!h),h&&or&&Do(o),dT(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));or=P4(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));or=P4(o)}else c===27?(c=or,Yo(o.type)?(o=cw,cw=null,or=o):or=c):or=hn?es(o.stateNode.nextSibling):null;return!0}function Zl(){or=hn=null,kt=!1}function zv(){var o=Ro;return o!==null&&(ra===null?ra=o:ra.push.apply(ra,o),Ro=null),o}function Vf(o){Ro===null?Ro=[o]:Ro.push(o)}var $v=M(null),ec=null,Ii=null;function Po(o,c,h){J($v,c._currentValue),c._currentValue=h}function Oi(o){o._currentValue=$v.current,L($v)}function Hv(o,c,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),o===h)break;o=o.return}}function qv(o,c,h,p){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var C=w.dependencies;if(C!==null){var T=w.child;C=C.firstContext;e:for(;C!==null;){var P=C;C=w;for(var K=0;K<c.length;K++)if(P.context===c[K]){C.lanes|=h,P=C.alternate,P!==null&&(P.lanes|=h),Hv(C.return,h,o),p||(T=null);break e}C=P.next}}else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=h,C=T.alternate,C!==null&&(C.lanes|=h),Hv(T,h,o),T=null}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}}function Au(o,c,h,p){o=null;for(var w=c,C=!1;w!==null;){if(!C){if((w.flags&524288)!==0)C=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var T=w.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var P=w.type;ka(w.pendingProps.value,T.value)||(o!==null?o.push(P):o=[P])}}else if(w===Le.current){if(T=w.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(wh):o=[wh])}w=w.return}o!==null&&qv(c,o,h,p),c.flags|=262144}function qm(o){for(o=o.firstContext;o!==null;){if(!ka(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function tc(o){ec=o,Ii=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mn(o){return fT(ec,o)}function Km(o,c){return ec===null&&tc(o),fT(o,c)}function fT(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Ii===null){if(o===null)throw Error(n(308));Ii=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ii=Ii.next=c;return h}var dG=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},fG=e.unstable_scheduleCallback,hG=e.unstable_NormalPriority,Or={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kv(){return{controller:new dG,data:new Map,refCount:0}}function Yf(o){o.refCount--,o.refCount===0&&fG(hG,function(){o.controller.abort()})}var Xf=null,Gv=0,Tu=0,Iu=null;function mG(o,c){if(Xf===null){var h=Xf=[];Gv=0,Tu=Y1(),Iu={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Gv++,c.then(hT,hT),c}function hT(){if(--Gv===0&&Xf!==null){Iu!==null&&(Iu.status="fulfilled");var o=Xf;Xf=null,Tu=0,Iu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function gG(o,c){var h=[],p={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return o.then(function(){p.status="fulfilled",p.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(p.status="rejected",p.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),p}var mT=H.S;H.S=function(o,c){J3=Be(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&mG(o,c),mT!==null&&mT(o,c)};var rc=M(null);function Wv(){var o=rc.current;return o!==null?o:Wt.pooledCache}function Gm(o,c){c===null?J(rc,rc.current):J(rc,c.pool)}function gT(){var o=Wv();return o===null?null:{parent:Or._currentValue,pool:o}}var Ou=Error(n(460)),Vv=Error(n(474)),Wm=Error(n(542)),Vm={then:function(){}};function pT(o){return o=o.status,o==="fulfilled"||o==="rejected"}function yT(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(_i,_i),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,bT(o),o;default:if(typeof c.status=="string")c.then(_i,_i);else{if(o=Wt,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(p){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=p}},function(p){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,bT(o),o}throw ac=c,Ou}}function nc(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ac=h,Ou):h}}var ac=null;function xT(){if(ac===null)throw Error(n(459));var o=ac;return ac=null,o}function bT(o){if(o===Ou||o===Wm)throw Error(n(483))}var Mu=null,Jf=0;function Ym(o){var c=Jf;return Jf+=1,Mu===null&&(Mu=[]),yT(Mu,o,c)}function Qf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Xm(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function vT(o){function c(re,X){if(o){var ie=re.deletions;ie===null?(re.deletions=[X],re.flags|=16):ie.push(X)}}function h(re,X){if(!o)return null;for(;X!==null;)c(re,X),X=X.sibling;return null}function p(re){for(var X=new Map;re!==null;)re.key!==null?X.set(re.key,re):X.set(re.index,re),re=re.sibling;return X}function w(re,X){return re=Ai(re,X),re.index=0,re.sibling=null,re}function C(re,X,ie){return re.index=ie,o?(ie=re.alternate,ie!==null?(ie=ie.index,ie<X?(re.flags|=67108866,X):ie):(re.flags|=67108866,X)):(re.flags|=1048576,X)}function T(re){return o&&re.alternate===null&&(re.flags|=67108866),re}function P(re,X,ie,ke){return X===null||X.tag!==6?(X=Pv(ie,re.mode,ke),X.return=re,X):(X=w(X,ie),X.return=re,X)}function K(re,X,ie,ke){var Xe=ie.type;return Xe===S?ye(re,X,ie.props.children,ke,ie.key):X!==null&&(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&nc(Xe)===X.type)?(X=w(X,ie.props),Qf(X,ie),X.return=re,X):(X=$m(ie.type,ie.key,ie.props,null,re.mode,ke),Qf(X,ie),X.return=re,X)}function oe(re,X,ie,ke){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=Lv(ie,re.mode,ke),X.return=re,X):(X=w(X,ie.children||[]),X.return=re,X)}function ye(re,X,ie,ke,Xe){return X===null||X.tag!==7?(X=Ql(ie,re.mode,ke,Xe),X.return=re,X):(X=w(X,ie),X.return=re,X)}function Se(re,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Pv(""+X,re.mode,ie),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ie=$m(X.type,X.key,X.props,null,re.mode,ie),Qf(ie,X),ie.return=re,ie;case v:return X=Lv(X,re.mode,ie),X.return=re,X;case U:return X=nc(X),Se(re,X,ie)}if(le(X)||$(X))return X=Ql(X,re.mode,ie,null),X.return=re,X;if(typeof X.then=="function")return Se(re,Ym(X),ie);if(X.$$typeof===_)return Se(re,Km(re,X),ie);Xm(re,X)}return null}function ue(re,X,ie,ke){var Xe=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Xe!==null?null:P(re,X,""+ie,ke);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Xe?K(re,X,ie,ke):null;case v:return ie.key===Xe?oe(re,X,ie,ke):null;case U:return ie=nc(ie),ue(re,X,ie,ke)}if(le(ie)||$(ie))return Xe!==null?null:ye(re,X,ie,ke,null);if(typeof ie.then=="function")return ue(re,X,Ym(ie),ke);if(ie.$$typeof===_)return ue(re,X,Km(re,ie),ke);Xm(re,ie)}return null}function ge(re,X,ie,ke,Xe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return re=re.get(ie)||null,P(X,re,""+ke,Xe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return re=re.get(ke.key===null?ie:ke.key)||null,K(X,re,ke,Xe);case v:return re=re.get(ke.key===null?ie:ke.key)||null,oe(X,re,ke,Xe);case U:return ke=nc(ke),ge(re,X,ie,ke,Xe)}if(le(ke)||$(ke))return re=re.get(ie)||null,ye(X,re,ke,Xe,null);if(typeof ke.then=="function")return ge(re,X,ie,Ym(ke),Xe);if(ke.$$typeof===_)return ge(re,X,ie,Km(X,ke),Xe);Xm(X,ke)}return null}function $e(re,X,ie,ke){for(var Xe=null,_t=null,Ke=X,ft=X=0,xt=null;Ke!==null&&ft<ie.length;ft++){Ke.index>ft?(xt=Ke,Ke=null):xt=Ke.sibling;var jt=ue(re,Ke,ie[ft],ke);if(jt===null){Ke===null&&(Ke=xt);break}o&&Ke&&jt.alternate===null&&c(re,Ke),X=C(jt,X,ft),_t===null?Xe=jt:_t.sibling=jt,_t=jt,Ke=xt}if(ft===ie.length)return h(re,Ke),kt&&Ti(re,ft),Xe;if(Ke===null){for(;ft<ie.length;ft++)Ke=Se(re,ie[ft],ke),Ke!==null&&(X=C(Ke,X,ft),_t===null?Xe=Ke:_t.sibling=Ke,_t=Ke);return kt&&Ti(re,ft),Xe}for(Ke=p(Ke);ft<ie.length;ft++)xt=ge(Ke,re,ft,ie[ft],ke),xt!==null&&(o&&xt.alternate!==null&&Ke.delete(xt.key===null?ft:xt.key),X=C(xt,X,ft),_t===null?Xe=xt:_t.sibling=xt,_t=xt);return o&&Ke.forEach(function(el){return c(re,el)}),kt&&Ti(re,ft),Xe}function tt(re,X,ie,ke){if(ie==null)throw Error(n(151));for(var Xe=null,_t=null,Ke=X,ft=X=0,xt=null,jt=ie.next();Ke!==null&&!jt.done;ft++,jt=ie.next()){Ke.index>ft?(xt=Ke,Ke=null):xt=Ke.sibling;var el=ue(re,Ke,jt.value,ke);if(el===null){Ke===null&&(Ke=xt);break}o&&Ke&&el.alternate===null&&c(re,Ke),X=C(el,X,ft),_t===null?Xe=el:_t.sibling=el,_t=el,Ke=xt}if(jt.done)return h(re,Ke),kt&&Ti(re,ft),Xe;if(Ke===null){for(;!jt.done;ft++,jt=ie.next())jt=Se(re,jt.value,ke),jt!==null&&(X=C(jt,X,ft),_t===null?Xe=jt:_t.sibling=jt,_t=jt);return kt&&Ti(re,ft),Xe}for(Ke=p(Ke);!jt.done;ft++,jt=ie.next())jt=ge(Ke,re,ft,jt.value,ke),jt!==null&&(o&&jt.alternate!==null&&Ke.delete(jt.key===null?ft:jt.key),X=C(jt,X,ft),_t===null?Xe=jt:_t.sibling=jt,_t=jt);return o&&Ke.forEach(function(EW){return c(re,EW)}),kt&&Ti(re,ft),Xe}function Ht(re,X,ie,ke){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Xe=ie.key;X!==null;){if(X.key===Xe){if(Xe=ie.type,Xe===S){if(X.tag===7){h(re,X.sibling),ke=w(X,ie.props.children),ke.return=re,re=ke;break e}}else if(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===U&&nc(Xe)===X.type){h(re,X.sibling),ke=w(X,ie.props),Qf(ke,ie),ke.return=re,re=ke;break e}h(re,X);break}else c(re,X);X=X.sibling}ie.type===S?(ke=Ql(ie.props.children,re.mode,ke,ie.key),ke.return=re,re=ke):(ke=$m(ie.type,ie.key,ie.props,null,re.mode,ke),Qf(ke,ie),ke.return=re,re=ke)}return T(re);case v:e:{for(Xe=ie.key;X!==null;){if(X.key===Xe)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){h(re,X.sibling),ke=w(X,ie.children||[]),ke.return=re,re=ke;break e}else{h(re,X);break}else c(re,X);X=X.sibling}ke=Lv(ie,re.mode,ke),ke.return=re,re=ke}return T(re);case U:return ie=nc(ie),Ht(re,X,ie,ke)}if(le(ie))return $e(re,X,ie,ke);if($(ie)){if(Xe=$(ie),typeof Xe!="function")throw Error(n(150));return ie=Xe.call(ie),tt(re,X,ie,ke)}if(typeof ie.then=="function")return Ht(re,X,Ym(ie),ke);if(ie.$$typeof===_)return Ht(re,X,Km(re,ie),ke);Xm(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(h(re,X.sibling),ke=w(X,ie),ke.return=re,re=ke):(h(re,X),ke=Pv(ie,re.mode,ke),ke.return=re,re=ke),T(re)):h(re,X)}return function(re,X,ie,ke){try{Jf=0;var Xe=Ht(re,X,ie,ke);return Mu=null,Xe}catch(Ke){if(Ke===Ou||Ke===Wm)throw Ke;var _t=Sa(29,Ke,null,re.mode);return _t.lanes=ke,_t.return=re,_t}}}var sc=vT(!0),wT=vT(!1),Lo=!1;function Yv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xv(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Uo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Fo(o,c,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(It&2)!==0){var w=p.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),p.pending=c,c=zm(o),aT(o,null,h),c}return Bm(o,p,c,h),zm(o)}function Zf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,_m(o,h)}}function Jv(o,c){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var w=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var T={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?w=C=T:C=C.next=T,h=h.next}while(h!==null);C===null?w=C=c:C=C.next=c}else w=C=c;h={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var Qv=!1;function eh(){if(Qv){var o=Iu;if(o!==null)throw o}}function th(o,c,h,p){Qv=!1;var w=o.updateQueue;Lo=!1;var C=w.firstBaseUpdate,T=w.lastBaseUpdate,P=w.shared.pending;if(P!==null){w.shared.pending=null;var K=P,oe=K.next;K.next=null,T===null?C=oe:T.next=oe,T=K;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,P=ye.lastBaseUpdate,P!==T&&(P===null?ye.firstBaseUpdate=oe:P.next=oe,ye.lastBaseUpdate=K))}if(C!==null){var Se=w.baseState;T=0,ye=oe=K=null,P=C;do{var ue=P.lane&-536870913,ge=ue!==P.lane;if(ge?(yt&ue)===ue:(p&ue)===ue){ue!==0&&ue===Tu&&(Qv=!0),ye!==null&&(ye=ye.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var $e=o,tt=P;ue=c;var Ht=h;switch(tt.tag){case 1:if($e=tt.payload,typeof $e=="function"){Se=$e.call(Ht,Se,ue);break e}Se=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=tt.payload,ue=typeof $e=="function"?$e.call(Ht,Se,ue):$e,ue==null)break e;Se=g({},Se,ue);break e;case 2:Lo=!0}}ue=P.callback,ue!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=w.callbacks,ge===null?w.callbacks=[ue]:ge.push(ue))}else ge={lane:ue,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ye===null?(oe=ye=ge,K=Se):ye=ye.next=ge,T|=ue;if(P=P.next,P===null){if(P=w.shared.pending,P===null)break;ge=P,P=ge.next,ge.next=null,w.lastBaseUpdate=ge,w.shared.pending=null}}while(!0);ye===null&&(K=Se),w.baseState=K,w.firstBaseUpdate=oe,w.lastBaseUpdate=ye,C===null&&(w.shared.lanes=0),qo|=T,o.lanes=T,o.memoizedState=Se}}function kT(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function ST(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)kT(h[o],c)}var Ru=M(null),Jm=M(0);function CT(o,c){o=zi,J(Jm,o),J(Ru,c),zi=o|c.baseLanes}function Zv(){J(Jm,zi),J(Ru,Ru.current)}function e1(){zi=Jm.current,L(Ru),L(Jm)}var Ca=M(null),Za=null;function Bo(o){var c=o.alternate;J(Ar,Ar.current&1),J(Ca,o),Za===null&&(c===null||Ru.current!==null||c.memoizedState!==null)&&(Za=o)}function t1(o){J(Ar,Ar.current),J(Ca,o),Za===null&&(Za=o)}function NT(o){o.tag===22?(J(Ar,Ar.current),J(Ca,o),Za===null&&(Za=o)):zo()}function zo(){J(Ar,Ar.current),J(Ca,Ca.current)}function Na(o){L(Ca),Za===o&&(Za=null),L(Ar)}var Ar=M(0);function Qm(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ow(h)||lw(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Mi=0,ut=null,zt=null,Mr=null,Zm=!1,Du=!1,ic=!1,eg=0,rh=0,Pu=null,pG=0;function Sr(){throw Error(n(321))}function r1(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!ka(o[h],c[h]))return!1;return!0}function n1(o,c,h,p,w,C){return Mi=C,ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,H.H=o===null||o.memoizedState===null?l3:x1,ic=!1,C=h(p,w),ic=!1,Du&&(C=_T(c,h,p,w)),ET(o),C}function ET(o){H.H=sh;var c=zt!==null&&zt.next!==null;if(Mi=0,Mr=zt=ut=null,Zm=!1,rh=0,Pu=null,c)throw Error(n(300));o===null||Rr||(o=o.dependencies,o!==null&&qm(o)&&(Rr=!0))}function _T(o,c,h,p){ut=o;var w=0;do{if(Du&&(Pu=null),rh=0,Du=!1,25<=w)throw Error(n(301));if(w+=1,Mr=zt=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}H.H=c3,C=c(h,p)}while(Du);return C}function yG(){var o=H.H,c=o.useState()[0];return c=typeof c.then=="function"?nh(c):c,o=o.useState()[0],(zt!==null?zt.memoizedState:null)!==o&&(ut.flags|=1024),c}function a1(){var o=eg!==0;return eg=0,o}function s1(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function i1(o){if(Zm){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Zm=!1}Mi=0,Mr=zt=ut=null,Du=!1,rh=eg=0,Pu=null}function Ln(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?ut.memoizedState=Mr=o:Mr=Mr.next=o,Mr}function Tr(){if(zt===null){var o=ut.alternate;o=o!==null?o.memoizedState:null}else o=zt.next;var c=Mr===null?ut.memoizedState:Mr.next;if(c!==null)Mr=c,zt=o;else{if(o===null)throw ut.alternate===null?Error(n(467)):Error(n(310));zt=o,o={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Mr===null?ut.memoizedState=Mr=o:Mr=Mr.next=o}return Mr}function tg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(o){var c=rh;return rh+=1,Pu===null&&(Pu=[]),o=yT(Pu,o,c),c=ut,(Mr===null?c.memoizedState:Mr.next)===null&&(c=c.alternate,H.H=c===null||c.memoizedState===null?l3:x1),o}function rg(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return nh(o);if(o.$$typeof===_)return mn(o)}throw Error(n(438,String(o)))}function o1(o){var c=null,h=ut.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=ut.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=tg(),ut.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),p=0;p<o;p++)h[p]=W;return c.index++,h}function Ri(o,c){return typeof c=="function"?c(o):c}function ng(o){var c=Tr();return l1(c,zt,o)}function l1(o,c,h){var p=o.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=h;var w=o.baseQueue,C=p.pending;if(C!==null){if(w!==null){var T=w.next;w.next=C.next,C.next=T}c.baseQueue=w=C,p.pending=null}if(C=o.baseState,w===null)o.memoizedState=C;else{c=w.next;var P=T=null,K=null,oe=c,ye=!1;do{var Se=oe.lane&-536870913;if(Se!==oe.lane?(yt&Se)===Se:(Mi&Se)===Se){var ue=oe.revertLane;if(ue===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),Se===Tu&&(ye=!0);else if((Mi&ue)===ue){oe=oe.next,ue===Tu&&(ye=!0);continue}else Se={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(P=K=Se,T=C):K=K.next=Se,ut.lanes|=ue,qo|=ue;Se=oe.action,ic&&h(C,Se),C=oe.hasEagerState?oe.eagerState:h(C,Se)}else ue={lane:Se,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(P=K=ue,T=C):K=K.next=ue,ut.lanes|=Se,qo|=Se;oe=oe.next}while(oe!==null&&oe!==c);if(K===null?T=C:K.next=P,!ka(C,o.memoizedState)&&(Rr=!0,ye&&(h=Iu,h!==null)))throw h;o.memoizedState=C,o.baseState=T,o.baseQueue=K,p.lastRenderedState=C}return w===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function c1(o){var c=Tr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var p=h.dispatch,w=h.pending,C=c.memoizedState;if(w!==null){h.pending=null;var T=w=w.next;do C=o(C,T.action),T=T.next;while(T!==w);ka(C,c.memoizedState)||(Rr=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),h.lastRenderedState=C}return[C,p]}function jT(o,c,h){var p=ut,w=Tr(),C=kt;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=c();var T=!ka((zt||w).memoizedState,h);if(T&&(w.memoizedState=h,Rr=!0),w=w.queue,f1(IT.bind(null,p,w,o),[o]),w.getSnapshot!==c||T||Mr!==null&&Mr.memoizedState.tag&1){if(p.flags|=2048,Lu(9,{destroy:void 0},TT.bind(null,p,w,h,c),null),Wt===null)throw Error(n(349));C||(Mi&127)!==0||AT(p,c,h)}return h}function AT(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=ut.updateQueue,c===null?(c=tg(),ut.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function TT(o,c,h,p){c.value=h,c.getSnapshot=p,OT(c)&&MT(o)}function IT(o,c,h){return h(function(){OT(c)&&MT(o)})}function OT(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!ka(o,h)}catch{return!0}}function MT(o){var c=Jl(o,2);c!==null&&na(c,o,2)}function u1(o){var c=Ln();if(typeof o=="function"){var h=o;if(o=h(),ic){Ne(!0);try{h()}finally{Ne(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},c}function RT(o,c,h,p){return o.baseState=h,l1(o,zt,typeof p=="function"?p:Ri)}function xG(o,c,h,p,w){if(ig(o))throw Error(n(485));if(o=c.action,o!==null){var C={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){C.listeners.push(T)}};H.T!==null?h(!0):C.isTransition=!1,p(C),h=c.pending,h===null?(C.next=c.pending=C,DT(c,C)):(C.next=h.next,c.pending=h.next=C)}}function DT(o,c){var h=c.action,p=c.payload,w=o.state;if(c.isTransition){var C=H.T,T={};H.T=T;try{var P=h(w,p),K=H.S;K!==null&&K(T,P),PT(o,c,P)}catch(oe){d1(o,c,oe)}finally{C!==null&&T.types!==null&&(C.types=T.types),H.T=C}}else try{C=h(w,p),PT(o,c,C)}catch(oe){d1(o,c,oe)}}function PT(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){LT(o,c,p)},function(p){return d1(o,c,p)}):LT(o,c,h)}function LT(o,c,h){c.status="fulfilled",c.value=h,UT(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,DT(o,h)))}function d1(o,c,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,UT(c),c=c.next;while(c!==p)}o.action=null}function UT(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function FT(o,c){return c}function BT(o,c){if(kt){var h=Wt.formState;if(h!==null){e:{var p=ut;if(kt){if(or){t:{for(var w=or,C=Qa;w.nodeType!==8;){if(!C){w=null;break t}if(w=es(w.nextSibling),w===null){w=null;break t}}C=w.data,w=C==="F!"||C==="F"?w:null}if(w){or=es(w.nextSibling),p=w.data==="F!";break e}}Do(p)}p=!1}p&&(c=h[0])}}return h=Ln(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FT,lastRenderedState:c},h.queue=p,h=s3.bind(null,ut,p),p.dispatch=h,p=u1(!1),C=y1.bind(null,ut,!1,p.queue),p=Ln(),w={state:c,dispatch:null,action:o,pending:null},p.queue=w,h=xG.bind(null,ut,w,C,h),w.dispatch=h,p.memoizedState=o,[c,h,!1]}function zT(o){var c=Tr();return $T(c,zt,o)}function $T(o,c,h){if(c=l1(o,c,FT)[0],o=ng(Ri)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=nh(c)}catch(T){throw T===Ou?Wm:T}else p=c;c=Tr();var w=c.queue,C=w.dispatch;return h!==c.memoizedState&&(ut.flags|=2048,Lu(9,{destroy:void 0},bG.bind(null,w,h),null)),[p,C,o]}function bG(o,c){o.action=c}function HT(o){var c=Tr(),h=zt;if(h!==null)return $T(c,h,o);Tr(),c=c.memoizedState,h=Tr();var p=h.queue.dispatch;return h.memoizedState=o,[c,p,!1]}function Lu(o,c,h,p){return o={tag:o,create:h,deps:p,inst:c,next:null},c=ut.updateQueue,c===null&&(c=tg(),ut.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,c.lastEffect=o),o}function qT(){return Tr().memoizedState}function ag(o,c,h,p){var w=Ln();ut.flags|=o,w.memoizedState=Lu(1|c,{destroy:void 0},h,p===void 0?null:p)}function sg(o,c,h,p){var w=Tr();p=p===void 0?null:p;var C=w.memoizedState.inst;zt!==null&&p!==null&&r1(p,zt.memoizedState.deps)?w.memoizedState=Lu(c,C,h,p):(ut.flags|=o,w.memoizedState=Lu(1|c,C,h,p))}function KT(o,c){ag(8390656,8,o,c)}function f1(o,c){sg(2048,8,o,c)}function vG(o){ut.flags|=4;var c=ut.updateQueue;if(c===null)c=tg(),ut.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function GT(o){var c=Tr().memoizedState;return vG({ref:c,nextImpl:o}),function(){if((It&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function WT(o,c){return sg(4,2,o,c)}function VT(o,c){return sg(4,4,o,c)}function YT(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function XT(o,c,h){h=h!=null?h.concat([o]):null,sg(4,4,YT.bind(null,c,o),h)}function h1(){}function JT(o,c){var h=Tr();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&r1(c,p[1])?p[0]:(h.memoizedState=[o,c],o)}function QT(o,c){var h=Tr();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&r1(c,p[1]))return p[0];if(p=o(),ic){Ne(!0);try{o()}finally{Ne(!1)}}return h.memoizedState=[p,c],p}function m1(o,c,h){return h===void 0||(Mi&1073741824)!==0&&(yt&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=Z3(),ut.lanes|=o,qo|=o,h)}function ZT(o,c,h,p){return ka(h,c)?h:Ru.current!==null?(o=m1(o,h,p),ka(o,c)||(Rr=!0),o):(Mi&42)===0||(Mi&1073741824)!==0&&(yt&261930)===0?(Rr=!0,o.memoizedState=h):(o=Z3(),ut.lanes|=o,qo|=o,c)}function e3(o,c,h,p,w){var C=ee.p;ee.p=C!==0&&8>C?C:8;var T=H.T,P={};H.T=P,y1(o,!1,c,h);try{var K=w(),oe=H.S;if(oe!==null&&oe(P,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=gG(K,p);ah(o,c,ye,ja(o))}else ah(o,c,p,ja(o))}catch(Se){ah(o,c,{then:function(){},status:"rejected",reason:Se},ja())}finally{ee.p=C,T!==null&&P.types!==null&&(T.types=P.types),H.T=T}}function wG(){}function g1(o,c,h,p){if(o.tag!==5)throw Error(n(476));var w=t3(o).queue;e3(o,w,c,q,h===null?wG:function(){return r3(o),h(p)})}function t3(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:q},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function r3(o){var c=t3(o);c.next===null&&(c=o.alternate.memoizedState),ah(o,c.next.queue,{},ja())}function p1(){return mn(wh)}function n3(){return Tr().memoizedState}function a3(){return Tr().memoizedState}function kG(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=ja();o=Uo(h);var p=Fo(c,o,h);p!==null&&(na(p,c,h),Zf(p,c,h)),c={cache:Kv()},o.payload=c;return}c=c.return}}function SG(o,c,h){var p=ja();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ig(o)?i3(c,h):(h=Rv(o,c,h,p),h!==null&&(na(h,o,p),o3(h,c,p)))}function s3(o,c,h){var p=ja();ah(o,c,h,p)}function ah(o,c,h,p){var w={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(ig(o))i3(c,w);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var T=c.lastRenderedState,P=C(T,h);if(w.hasEagerState=!0,w.eagerState=P,ka(P,T))return Bm(o,c,w,0),Wt===null&&Fm(),!1}catch{}if(h=Rv(o,c,w,p),h!==null)return na(h,o,p),o3(h,c,p),!0}return!1}function y1(o,c,h,p){if(p={lane:2,revertLane:Y1(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ig(o)){if(c)throw Error(n(479))}else c=Rv(o,h,p,2),c!==null&&na(c,o,2)}function ig(o){var c=o.alternate;return o===ut||c!==null&&c===ut}function i3(o,c){Du=Zm=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function o3(o,c,h){if((h&4194048)!==0){var p=c.lanes;p&=o.pendingLanes,h|=p,c.lanes=h,_m(o,h)}}var sh={readContext:mn,use:rg,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr};sh.useEffectEvent=Sr;var l3={readContext:mn,use:rg,useCallback:function(o,c){return Ln().memoizedState=[o,c===void 0?null:c],o},useContext:mn,useEffect:KT,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,ag(4194308,4,YT.bind(null,c,o),h)},useLayoutEffect:function(o,c){return ag(4194308,4,o,c)},useInsertionEffect:function(o,c){ag(4,2,o,c)},useMemo:function(o,c){var h=Ln();c=c===void 0?null:c;var p=o();if(ic){Ne(!0);try{o()}finally{Ne(!1)}}return h.memoizedState=[p,c],p},useReducer:function(o,c,h){var p=Ln();if(h!==void 0){var w=h(c);if(ic){Ne(!0);try{h(c)}finally{Ne(!1)}}}else w=c;return p.memoizedState=p.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},p.queue=o,o=o.dispatch=SG.bind(null,ut,o),[p.memoizedState,o]},useRef:function(o){var c=Ln();return o={current:o},c.memoizedState=o},useState:function(o){o=u1(o);var c=o.queue,h=s3.bind(null,ut,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:h1,useDeferredValue:function(o,c){var h=Ln();return m1(h,o,c)},useTransition:function(){var o=u1(!1);return o=e3.bind(null,ut,o.queue,!0,!1),Ln().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var p=ut,w=Ln();if(kt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Wt===null)throw Error(n(349));(yt&127)!==0||AT(p,c,h)}w.memoizedState=h;var C={value:h,getSnapshot:c};return w.queue=C,KT(IT.bind(null,p,C,o),[o]),p.flags|=2048,Lu(9,{destroy:void 0},TT.bind(null,p,C,h,c),null),h},useId:function(){var o=Ln(),c=Wt.identifierPrefix;if(kt){var h=Qs,p=Js;h=(p&~(1<<32-_e(p)-1)).toString(32)+h,c="_"+c+"R_"+h,h=eg++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=pG++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:p1,useFormState:BT,useActionState:BT,useOptimistic:function(o){var c=Ln();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=y1.bind(null,ut,!0,h),h.dispatch=c,[o,c]},useMemoCache:o1,useCacheRefresh:function(){return Ln().memoizedState=kG.bind(null,ut)},useEffectEvent:function(o){var c=Ln(),h={impl:o};return c.memoizedState=h,function(){if((It&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},x1={readContext:mn,use:rg,useCallback:JT,useContext:mn,useEffect:f1,useImperativeHandle:XT,useInsertionEffect:WT,useLayoutEffect:VT,useMemo:QT,useReducer:ng,useRef:qT,useState:function(){return ng(Ri)},useDebugValue:h1,useDeferredValue:function(o,c){var h=Tr();return ZT(h,zt.memoizedState,o,c)},useTransition:function(){var o=ng(Ri)[0],c=Tr().memoizedState;return[typeof o=="boolean"?o:nh(o),c]},useSyncExternalStore:jT,useId:n3,useHostTransitionStatus:p1,useFormState:zT,useActionState:zT,useOptimistic:function(o,c){var h=Tr();return RT(h,zt,o,c)},useMemoCache:o1,useCacheRefresh:a3};x1.useEffectEvent=GT;var c3={readContext:mn,use:rg,useCallback:JT,useContext:mn,useEffect:f1,useImperativeHandle:XT,useInsertionEffect:WT,useLayoutEffect:VT,useMemo:QT,useReducer:c1,useRef:qT,useState:function(){return c1(Ri)},useDebugValue:h1,useDeferredValue:function(o,c){var h=Tr();return zt===null?m1(h,o,c):ZT(h,zt.memoizedState,o,c)},useTransition:function(){var o=c1(Ri)[0],c=Tr().memoizedState;return[typeof o=="boolean"?o:nh(o),c]},useSyncExternalStore:jT,useId:n3,useHostTransitionStatus:p1,useFormState:HT,useActionState:HT,useOptimistic:function(o,c){var h=Tr();return zt!==null?RT(h,zt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:o1,useCacheRefresh:a3};c3.useEffectEvent=GT;function b1(o,c,h,p){c=o.memoizedState,h=h(p,c),h=h==null?c:g({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var v1={enqueueSetState:function(o,c,h){o=o._reactInternals;var p=ja(),w=Uo(p);w.payload=c,h!=null&&(w.callback=h),c=Fo(o,w,p),c!==null&&(na(c,o,p),Zf(c,o,p))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var p=ja(),w=Uo(p);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=Fo(o,w,p),c!==null&&(na(c,o,p),Zf(c,o,p))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=ja(),p=Uo(h);p.tag=2,c!=null&&(p.callback=c),c=Fo(o,p,h),c!==null&&(na(c,o,h),Zf(c,o,h))}};function u3(o,c,h,p,w,C,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,C,T):c.prototype&&c.prototype.isPureReactComponent?!Kf(h,p)||!Kf(w,C):!0}function d3(o,c,h,p){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==o&&v1.enqueueReplaceState(c,c.state,null)}function oc(o,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(o=o.defaultProps){h===c&&(h=g({},h));for(var w in o)h[w]===void 0&&(h[w]=o[w])}return h}function f3(o){Um(o)}function h3(o){console.error(o)}function m3(o){Um(o)}function og(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function g3(o,c,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function w1(o,c,h){return h=Uo(h),h.tag=3,h.payload={element:null},h.callback=function(){og(o,c)},h}function p3(o){return o=Uo(o),o.tag=3,o}function y3(o,c,h,p){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var C=p.value;o.payload=function(){return w(C)},o.callback=function(){g3(c,h,p)}}var T=h.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(o.callback=function(){g3(c,h,p),typeof w!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var P=p.stack;this.componentDidCatch(p.value,{componentStack:P!==null?P:""})})}function CG(o,c,h,p,w){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&Au(c,h,w,!0),h=Ca.current,h!==null){switch(h.tag){case 31:case 13:return Za===null?bg():h.alternate===null&&Cr===0&&(Cr=3),h.flags&=-257,h.flags|=65536,h.lanes=w,p===Vm?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),G1(o,p,w)),!1;case 22:return h.flags|=65536,p===Vm?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),G1(o,p,w)),!1}throw Error(n(435,h.tag))}return G1(o,p,w),bg(),!1}if(kt)return c=Ca.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,p!==Bv&&(o=Error(n(422),{cause:p}),Vf(Ya(o,h)))):(p!==Bv&&(c=Error(n(423),{cause:p}),Vf(Ya(c,h))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,p=Ya(p,h),w=w1(o.stateNode,p,w),Jv(o,w),Cr!==4&&(Cr=2)),!1;var C=Error(n(520),{cause:p});if(C=Ya(C,h),hh===null?hh=[C]:hh.push(C),Cr!==4&&(Cr=2),c===null)return!0;p=Ya(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=w&-w,h.lanes|=o,o=w1(h.stateNode,p,o),Jv(h,o),!1;case 1:if(c=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ko===null||!Ko.has(C))))return h.flags|=65536,w&=-w,h.lanes|=w,w=p3(w),y3(w,o,h,p),Jv(h,w),!1}h=h.return}while(h!==null);return!1}var k1=Error(n(461)),Rr=!1;function gn(o,c,h,p){c.child=o===null?wT(c,null,h,p):sc(c,o.child,h,p)}function x3(o,c,h,p,w){h=h.render;var C=c.ref;if("ref"in p){var T={};for(var P in p)P!=="ref"&&(T[P]=p[P])}else T=p;return tc(c),p=n1(o,c,h,T,C,w),P=a1(),o!==null&&!Rr?(s1(o,c,w),Di(o,c,w)):(kt&&P&&Uv(c),c.flags|=1,gn(o,c,p,w),c.child)}function b3(o,c,h,p,w){if(o===null){var C=h.type;return typeof C=="function"&&!Dv(C)&&C.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=C,v3(o,c,C,p,w)):(o=$m(h.type,null,p,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(C=o.child,!T1(o,w)){var T=C.memoizedProps;if(h=h.compare,h=h!==null?h:Kf,h(T,p)&&o.ref===c.ref)return Di(o,c,w)}return c.flags|=1,o=Ai(C,p),o.ref=c.ref,o.return=c,c.child=o}function v3(o,c,h,p,w){if(o!==null){var C=o.memoizedProps;if(Kf(C,p)&&o.ref===c.ref)if(Rr=!1,c.pendingProps=p=C,T1(o,w))(o.flags&131072)!==0&&(Rr=!0);else return c.lanes=o.lanes,Di(o,c,w)}return S1(o,c,h,p,w)}function w3(o,c,h,p){var w=p.children,C=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,o!==null){for(p=c.child=o.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~C}else p=0,c.child=null;return k3(o,c,C,h,p)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Gm(c,C!==null?C.cachePool:null),C!==null?CT(c,C):Zv(),NT(c);else return p=c.lanes=536870912,k3(o,c,C!==null?C.baseLanes|h:h,h,p)}else C!==null?(Gm(c,C.cachePool),CT(c,C),zo(),c.memoizedState=null):(o!==null&&Gm(c,null),Zv(),zo());return gn(o,c,w,h),c.child}function ih(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function k3(o,c,h,p,w){var C=Wv();return C=C===null?null:{parent:Or._currentValue,pool:C},c.memoizedState={baseLanes:h,cachePool:C},o!==null&&Gm(c,null),Zv(),NT(c),o!==null&&Au(o,c,p,!0),c.childLanes=w,null}function lg(o,c){return c=ug({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function S3(o,c,h){return sc(c,o.child,null,h),o=lg(c,c.pendingProps),o.flags|=2,Na(c),c.memoizedState=null,o}function NG(o,c,h){var p=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(kt){if(p.mode==="hidden")return o=lg(c,p),c.lanes=536870912,ih(null,o);if(t1(c),(o=or)?(o=D4(o,Qa),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Mo!==null?{id:Js,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},h=iT(o),h.return=c,c.child=h,hn=c,or=null)):o=null,o===null)throw Do(c);return c.lanes=536870912,null}return lg(c,p)}var C=o.memoizedState;if(C!==null){var T=C.dehydrated;if(t1(c),w)if(c.flags&256)c.flags&=-257,c=S3(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(Rr||Au(o,c,h,!1),w=(h&o.childLanes)!==0,Rr||w){if(p=Wt,p!==null&&(T=hA(p,h),T!==0&&T!==C.retryLane))throw C.retryLane=T,Jl(o,T),na(p,o,T),k1;bg(),c=S3(o,c,h)}else o=C.treeContext,or=es(T.nextSibling),hn=c,kt=!0,Ro=null,Qa=!1,o!==null&&cT(c,o),c=lg(c,p),c.flags|=4096;return c}return o=Ai(o.child,{mode:p.mode,children:p.children}),o.ref=c.ref,c.child=o,o.return=c,o}function cg(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function S1(o,c,h,p,w){return tc(c),h=n1(o,c,h,p,void 0,w),p=a1(),o!==null&&!Rr?(s1(o,c,w),Di(o,c,w)):(kt&&p&&Uv(c),c.flags|=1,gn(o,c,h,w),c.child)}function C3(o,c,h,p,w,C){return tc(c),c.updateQueue=null,h=_T(c,p,h,w),ET(o),p=a1(),o!==null&&!Rr?(s1(o,c,C),Di(o,c,C)):(kt&&p&&Uv(c),c.flags|=1,gn(o,c,h,C),c.child)}function N3(o,c,h,p,w){if(tc(c),c.stateNode===null){var C=Nu,T=h.contextType;typeof T=="object"&&T!==null&&(C=mn(T)),C=new h(p,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=v1,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=p,C.state=c.memoizedState,C.refs={},Yv(c),T=h.contextType,C.context=typeof T=="object"&&T!==null?mn(T):Nu,C.state=c.memoizedState,T=h.getDerivedStateFromProps,typeof T=="function"&&(b1(c,h,T,p),C.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(T=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),T!==C.state&&v1.enqueueReplaceState(C,C.state,null),th(c,p,C,w),eh(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(o===null){C=c.stateNode;var P=c.memoizedProps,K=oc(h,P);C.props=K;var oe=C.context,ye=h.contextType;T=Nu,typeof ye=="object"&&ye!==null&&(T=mn(ye));var Se=h.getDerivedStateFromProps;ye=typeof Se=="function"||typeof C.getSnapshotBeforeUpdate=="function",P=c.pendingProps!==P,ye||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P||oe!==T)&&d3(c,C,p,T),Lo=!1;var ue=c.memoizedState;C.state=ue,th(c,p,C,w),eh(),oe=c.memoizedState,P||ue!==oe||Lo?(typeof Se=="function"&&(b1(c,h,Se,p),oe=c.memoizedState),(K=Lo||u3(c,h,K,p,ue,oe,T))?(ye||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=oe),C.props=p,C.state=oe,C.context=T,p=K):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{C=c.stateNode,Xv(o,c),T=c.memoizedProps,ye=oc(h,T),C.props=ye,Se=c.pendingProps,ue=C.context,oe=h.contextType,K=Nu,typeof oe=="object"&&oe!==null&&(K=mn(oe)),P=h.getDerivedStateFromProps,(oe=typeof P=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(T!==Se||ue!==K)&&d3(c,C,p,K),Lo=!1,ue=c.memoizedState,C.state=ue,th(c,p,C,w),eh();var ge=c.memoizedState;T!==Se||ue!==ge||Lo||o!==null&&o.dependencies!==null&&qm(o.dependencies)?(typeof P=="function"&&(b1(c,h,P,p),ge=c.memoizedState),(ye=Lo||u3(c,h,ye,p,ue,ge,K)||o!==null&&o.dependencies!==null&&qm(o.dependencies))?(oe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,ge,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,ge,K)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||T===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=ge),C.props=p,C.state=ge,C.context=K,p=ye):(typeof C.componentDidUpdate!="function"||T===o.memoizedProps&&ue===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&ue===o.memoizedState||(c.flags|=1024),p=!1)}return C=p,cg(o,c),p=(c.flags&128)!==0,C||p?(C=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,o!==null&&p?(c.child=sc(c,o.child,null,w),c.child=sc(c,null,h,w)):gn(o,c,h,w),c.memoizedState=C.state,o=c.child):o=Di(o,c,w),o}function E3(o,c,h,p){return Zl(),c.flags|=256,gn(o,c,h,p),c.child}var C1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N1(o){return{baseLanes:o,cachePool:gT()}}function E1(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=_a),o}function _3(o,c,h){var p=c.pendingProps,w=!1,C=(c.flags&128)!==0,T;if((T=C)||(T=o!==null&&o.memoizedState===null?!1:(Ar.current&2)!==0),T&&(w=!0,c.flags&=-129),T=(c.flags&32)!==0,c.flags&=-33,o===null){if(kt){if(w?Bo(c):zo(),(o=or)?(o=D4(o,Qa),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Mo!==null?{id:Js,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},h=iT(o),h.return=c,c.child=h,hn=c,or=null)):o=null,o===null)throw Do(c);return lw(o)?c.lanes=32:c.lanes=536870912,null}var P=p.children;return p=p.fallback,w?(zo(),w=c.mode,P=ug({mode:"hidden",children:P},w),p=Ql(p,w,h,null),P.return=c,p.return=c,P.sibling=p,c.child=P,p=c.child,p.memoizedState=N1(h),p.childLanes=E1(o,T,h),c.memoizedState=C1,ih(null,p)):(Bo(c),_1(c,P))}var K=o.memoizedState;if(K!==null&&(P=K.dehydrated,P!==null)){if(C)c.flags&256?(Bo(c),c.flags&=-257,c=j1(o,c,h)):c.memoizedState!==null?(zo(),c.child=o.child,c.flags|=128,c=null):(zo(),P=p.fallback,w=c.mode,p=ug({mode:"visible",children:p.children},w),P=Ql(P,w,h,null),P.flags|=2,p.return=c,P.return=c,p.sibling=P,c.child=p,sc(c,o.child,null,h),p=c.child,p.memoizedState=N1(h),p.childLanes=E1(o,T,h),c.memoizedState=C1,c=ih(null,p));else if(Bo(c),lw(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var oe=T.dgst;T=oe,p=Error(n(419)),p.stack="",p.digest=T,Vf({value:p,source:null,stack:null}),c=j1(o,c,h)}else if(Rr||Au(o,c,h,!1),T=(h&o.childLanes)!==0,Rr||T){if(T=Wt,T!==null&&(p=hA(T,h),p!==0&&p!==K.retryLane))throw K.retryLane=p,Jl(o,p),na(T,o,p),k1;ow(P)||bg(),c=j1(o,c,h)}else ow(P)?(c.flags|=192,c.child=o.child,c=null):(o=K.treeContext,or=es(P.nextSibling),hn=c,kt=!0,Ro=null,Qa=!1,o!==null&&cT(c,o),c=_1(c,p.children),c.flags|=4096);return c}return w?(zo(),P=p.fallback,w=c.mode,K=o.child,oe=K.sibling,p=Ai(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,oe!==null?P=Ai(oe,P):(P=Ql(P,w,h,null),P.flags|=2),P.return=c,p.return=c,p.sibling=P,c.child=p,ih(null,p),p=c.child,P=o.child.memoizedState,P===null?P=N1(h):(w=P.cachePool,w!==null?(K=Or._currentValue,w=w.parent!==K?{parent:K,pool:K}:w):w=gT(),P={baseLanes:P.baseLanes|h,cachePool:w}),p.memoizedState=P,p.childLanes=E1(o,T,h),c.memoizedState=C1,ih(o.child,p)):(Bo(c),h=o.child,o=h.sibling,h=Ai(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,o!==null&&(T=c.deletions,T===null?(c.deletions=[o],c.flags|=16):T.push(o)),c.child=h,c.memoizedState=null,h)}function _1(o,c){return c=ug({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function ug(o,c){return o=Sa(22,o,null,c),o.lanes=0,o}function j1(o,c,h){return sc(c,o.child,null,h),o=_1(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function j3(o,c,h){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c),Hv(o.return,c,h)}function A1(o,c,h,p,w,C){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:w,treeForkCount:C}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=h,T.tailMode=w,T.treeForkCount=C)}function A3(o,c,h){var p=c.pendingProps,w=p.revealOrder,C=p.tail;p=p.children;var T=Ar.current,P=(T&2)!==0;if(P?(T=T&1|2,c.flags|=128):T&=1,J(Ar,T),gn(o,c,p,h),p=kt?Wf:0,!P&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&j3(o,h,c);else if(o.tag===19)j3(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&Qm(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),A1(c,!1,w,h,C,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&Qm(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}A1(c,!0,h,null,C,p);break;case"together":A1(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function Di(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),qo|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Au(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Ai(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Ai(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function T1(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&qm(o)))}function EG(o,c,h){switch(c.tag){case 3:Ce(c,c.stateNode.containerInfo),Po(c,Or,o.memoizedState.cache),Zl();break;case 27:case 5:Ee(c);break;case 4:Ce(c,c.stateNode.containerInfo);break;case 10:Po(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,t1(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Bo(c),c.flags|=128,null):(h&c.child.childLanes)!==0?_3(o,c,h):(Bo(c),o=Di(o,c,h),o!==null?o.sibling:null);Bo(c);break;case 19:var w=(o.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(Au(o,c,h,!1),p=(h&c.childLanes)!==0),w){if(p)return A3(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(Ar,Ar.current),p)break;return null;case 22:return c.lanes=0,w3(o,c,h,c.pendingProps);case 24:Po(c,Or,o.memoizedState.cache)}return Di(o,c,h)}function T3(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Rr=!0;else{if(!T1(o,h)&&(c.flags&128)===0)return Rr=!1,EG(o,c,h);Rr=(o.flags&131072)!==0}else Rr=!1,kt&&(c.flags&1048576)!==0&&lT(c,Wf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(o=nc(c.elementType),c.type=o,typeof o=="function")Dv(o)?(p=oc(o,p),c.tag=1,c=N3(null,c,o,p,h)):(c.tag=0,c=S1(null,c,o,p,h));else{if(o!=null){var w=o.$$typeof;if(w===O){c.tag=11,c=x3(null,c,o,p,h);break e}else if(w===R){c.tag=14,c=b3(null,c,o,p,h);break e}}throw c=Y(o)||o,Error(n(306,c,""))}}return c;case 0:return S1(o,c,c.type,c.pendingProps,h);case 1:return p=c.type,w=oc(p,c.pendingProps),N3(o,c,p,w,h);case 3:e:{if(Ce(c,c.stateNode.containerInfo),o===null)throw Error(n(387));p=c.pendingProps;var C=c.memoizedState;w=C.element,Xv(o,c),th(c,p,null,h);var T=c.memoizedState;if(p=T.cache,Po(c,Or,p),p!==C.cache&&qv(c,[Or],h,!0),eh(),p=T.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:T.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=E3(o,c,p,h);break e}else if(p!==w){w=Ya(Error(n(424)),c),Vf(w),c=E3(o,c,p,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(or=es(o.firstChild),hn=c,kt=!0,Ro=null,Qa=!0,h=wT(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Zl(),p===w){c=Di(o,c,h);break e}gn(o,c,p,h)}c=c.child}return c;case 26:return cg(o,c),o===null?(h=z4(c.type,null,c.pendingProps,null))?c.memoizedState=h:kt||(h=c.type,o=c.pendingProps,p=Eg(Re.current).createElement(h),p[fn]=c,p[Jn]=o,pn(p,h,o),Qr(p),c.stateNode=p):c.memoizedState=z4(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ee(c),o===null&&kt&&(p=c.stateNode=U4(c.type,c.pendingProps,Re.current),hn=c,Qa=!0,w=or,Yo(c.type)?(cw=w,or=es(p.firstChild)):or=w),gn(o,c,c.pendingProps.children,h),cg(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&kt&&((w=p=or)&&(p=rW(p,c.type,c.pendingProps,Qa),p!==null?(c.stateNode=p,hn=c,or=es(p.firstChild),Qa=!1,w=!0):w=!1),w||Do(c)),Ee(c),w=c.type,C=c.pendingProps,T=o!==null?o.memoizedProps:null,p=C.children,aw(w,C)?p=null:T!==null&&aw(w,T)&&(c.flags|=32),c.memoizedState!==null&&(w=n1(o,c,yG,null,null,h),wh._currentValue=w),cg(o,c),gn(o,c,p,h),c.child;case 6:return o===null&&kt&&((o=h=or)&&(h=nW(h,c.pendingProps,Qa),h!==null?(c.stateNode=h,hn=c,or=null,o=!0):o=!1),o||Do(c)),null;case 13:return _3(o,c,h);case 4:return Ce(c,c.stateNode.containerInfo),p=c.pendingProps,o===null?c.child=sc(c,null,p,h):gn(o,c,p,h),c.child;case 11:return x3(o,c,c.type,c.pendingProps,h);case 7:return gn(o,c,c.pendingProps,h),c.child;case 8:return gn(o,c,c.pendingProps.children,h),c.child;case 12:return gn(o,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,Po(c,c.type,p.value),gn(o,c,p.children,h),c.child;case 9:return w=c.type._context,p=c.pendingProps.children,tc(c),w=mn(w),p=p(w),c.flags|=1,gn(o,c,p,h),c.child;case 14:return b3(o,c,c.type,c.pendingProps,h);case 15:return v3(o,c,c.type,c.pendingProps,h);case 19:return A3(o,c,h);case 31:return NG(o,c,h);case 22:return w3(o,c,h,c.pendingProps);case 24:return tc(c),p=mn(Or),o===null?(w=Wv(),w===null&&(w=Wt,C=Kv(),w.pooledCache=C,C.refCount++,C!==null&&(w.pooledCacheLanes|=h),w=C),c.memoizedState={parent:p,cache:w},Yv(c),Po(c,Or,w)):((o.lanes&h)!==0&&(Xv(o,c),th(c,null,null,h),eh()),w=o.memoizedState,C=c.memoizedState,w.parent!==p?(w={parent:p,cache:p},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),Po(c,Or,p)):(p=C.cache,Po(c,Or,p),p!==w.cache&&qv(c,[Or],h,!0))),gn(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Pi(o){o.flags|=4}function I1(o,c,h,p,w){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(n4())o.flags|=8192;else throw ac=Vm,Vv}else o.flags&=-16777217}function I3(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!G4(c))if(n4())o.flags|=8192;else throw ac=Vm,Vv}function dg(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Em():536870912,o.lanes|=c,zu|=c)}function oh(o,c){if(!kt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function lr(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=p,o.childLanes=h,c}function _G(o,c,h){var p=c.pendingProps;switch(Fv(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(c),null;case 1:return lr(c),null;case 3:return h=c.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Oi(Or),Q(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ju(c)?Pi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,zv())),lr(c),null;case 26:var w=c.type,C=c.memoizedState;return o===null?(Pi(c),C!==null?(lr(c),I3(c,C)):(lr(c),I1(c,w,null,p,h))):C?C!==o.memoizedState?(Pi(c),lr(c),I3(c,C)):(lr(c),c.flags&=-16777217):(o=o.memoizedProps,o!==p&&Pi(c),lr(c),I1(c,w,o,p,h)),null;case 27:if(we(c),h=Re.current,w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Pi(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return lr(c),null}o=se.current,ju(c)?uT(c):(o=U4(w,p,h),c.stateNode=o,Pi(c))}return lr(c),null;case 5:if(we(c),w=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==p&&Pi(c);else{if(!p){if(c.stateNode===null)throw Error(n(166));return lr(c),null}if(C=se.current,ju(c))uT(c);else{var T=Eg(Re.current);switch(C){case 1:C=T.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:C=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":C=T.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":C=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":C=T.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?T.createElement("select",{is:p.is}):T.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?T.createElement(w,{is:p.is}):T.createElement(w)}}C[fn]=c,C[Jn]=p;e:for(T=c.child;T!==null;){if(T.tag===5||T.tag===6)C.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===c)break e;for(;T.sibling===null;){if(T.return===null||T.return===c)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}c.stateNode=C;e:switch(pn(C,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Pi(c)}}return lr(c),I1(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==p&&Pi(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(n(166));if(o=Re.current,ju(c)){if(o=c.stateNode,h=c.memoizedProps,p=null,w=hn,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}o[fn]=c,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||_4(o.nodeValue,h)),o||Do(c,!0)}else o=Eg(o).createTextNode(p),o[fn]=c,c.stateNode=o}return lr(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(p=ju(c),h!==null){if(o===null){if(!p)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[fn]=c}else Zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;lr(c),o=!1}else h=zv(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(Na(c),c):(Na(c),null);if((c.flags&128)!==0)throw Error(n(558))}return lr(c),null;case 13:if(p=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=ju(c),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[fn]=c}else Zl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;lr(c),w=!1}else w=zv(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Na(c),c):(Na(c),null)}return Na(c),(c.flags&128)!==0?(c.lanes=h,c):(h=p!==null,o=o!==null&&o.memoizedState!==null,h&&(p=c.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==w&&(p.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),dg(c,c.updateQueue),lr(c),null);case 4:return Q(),o===null&&Z1(c.stateNode.containerInfo),lr(c),null;case 10:return Oi(c.type),lr(c),null;case 19:if(L(Ar),p=c.memoizedState,p===null)return lr(c),null;if(w=(c.flags&128)!==0,C=p.rendering,C===null)if(w)oh(p,!1);else{if(Cr!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=Qm(o),C!==null){for(c.flags|=128,oh(p,!1),o=C.updateQueue,c.updateQueue=o,dg(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)sT(h,o),h=h.sibling;return J(Ar,Ar.current&1|2),kt&&Ti(c,p.treeForkCount),c.child}o=o.sibling}p.tail!==null&&Be()>pg&&(c.flags|=128,w=!0,oh(p,!1),c.lanes=4194304)}else{if(!w)if(o=Qm(C),o!==null){if(c.flags|=128,w=!0,o=o.updateQueue,c.updateQueue=o,dg(c,o),oh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!kt)return lr(c),null}else 2*Be()-p.renderingStartTime>pg&&h!==536870912&&(c.flags|=128,w=!0,oh(p,!1),c.lanes=4194304);p.isBackwards?(C.sibling=c.child,c.child=C):(o=p.last,o!==null?o.sibling=C:c.child=C,p.last=C)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Be(),o.sibling=null,h=Ar.current,J(Ar,w?h&1|2:h&1),kt&&Ti(c,p.treeForkCount),o):(lr(c),null);case 22:case 23:return Na(c),e1(),p=c.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&(lr(c),c.subtreeFlags&6&&(c.flags|=8192)):lr(c),h=c.updateQueue,h!==null&&dg(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),o!==null&&L(rc),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Oi(Or),lr(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function jG(o,c){switch(Fv(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Oi(Or),Q(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return we(c),null;case 31:if(c.memoizedState!==null){if(Na(c),c.alternate===null)throw Error(n(340));Zl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Na(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Zl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return L(Ar),null;case 4:return Q(),null;case 10:return Oi(c.type),null;case 22:case 23:return Na(c),e1(),o!==null&&L(rc),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return Oi(Or),null;case 25:return null;default:return null}}function O3(o,c){switch(Fv(c),c.tag){case 3:Oi(Or),Q();break;case 26:case 27:case 5:we(c);break;case 4:Q();break;case 31:c.memoizedState!==null&&Na(c);break;case 13:Na(c);break;case 19:L(Ar);break;case 10:Oi(c.type);break;case 22:case 23:Na(c),e1(),o!==null&&L(rc);break;case 24:Oi(Or)}}function lh(o,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var w=p.next;h=w;do{if((h.tag&o)===o){p=void 0;var C=h.create,T=h.inst;p=C(),T.destroy=p}h=h.next}while(h!==w)}}catch(P){Lt(c,c.return,P)}}function $o(o,c,h){try{var p=c.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var C=w.next;p=C;do{if((p.tag&o)===o){var T=p.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,w=c;var K=h,oe=P;try{oe()}catch(ye){Lt(w,K,ye)}}}p=p.next}while(p!==C)}}catch(ye){Lt(c,c.return,ye)}}function M3(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{ST(c,h)}catch(p){Lt(o,o.return,p)}}}function R3(o,c,h){h.props=oc(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){Lt(o,c,p)}}function ch(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(w){Lt(o,c,w)}}function Zs(o,c){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(w){Lt(o,c,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Lt(o,c,w)}else h.current=null}function D3(o){var c=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(w){Lt(o,o.return,w)}}function O1(o,c,h){try{var p=o.stateNode;XG(p,o.type,h,c),p[Jn]=c}catch(w){Lt(o,o.return,w)}}function P3(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Yo(o.type)||o.tag===4}function M1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||P3(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Yo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function R1(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=_i));else if(p!==4&&(p===27&&Yo(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(R1(o,c,h),o=o.sibling;o!==null;)R1(o,c,h),o=o.sibling}function fg(o,c,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(p!==4&&(p===27&&Yo(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(fg(o,c,h),o=o.sibling;o!==null;)fg(o,c,h),o=o.sibling}function L3(o){var c=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);pn(c,p,h),c[fn]=o,c[Jn]=h}catch(C){Lt(o,o.return,C)}}var Li=!1,Dr=!1,D1=!1,U3=typeof WeakSet=="function"?WeakSet:Set,Zr=null;function AG(o,c){if(o=o.containerInfo,rw=Mg,o=XA(o),jv(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var w=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var T=0,P=-1,K=-1,oe=0,ye=0,Se=o,ue=null;t:for(;;){for(var ge;Se!==h||w!==0&&Se.nodeType!==3||(P=T+w),Se!==C||p!==0&&Se.nodeType!==3||(K=T+p),Se.nodeType===3&&(T+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)ue=Se,Se=ge;for(;;){if(Se===o)break t;if(ue===h&&++oe===w&&(P=T),ue===C&&++ye===p&&(K=T),(ge=Se.nextSibling)!==null)break;Se=ue,ue=Se.parentNode}Se=ge}h=P===-1||K===-1?null:{start:P,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(nw={focusedElem:o,selectionRange:h},Mg=!1,Zr=c;Zr!==null;)if(c=Zr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Zr=o;else for(;Zr!==null;){switch(c=Zr,C=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)w=o[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,h=c,w=C.memoizedProps,C=C.memoizedState,p=h.stateNode;try{var $e=oc(h.type,w);o=p.getSnapshotBeforeUpdate($e,C),p.__reactInternalSnapshotBeforeUpdate=o}catch(tt){Lt(h,h.return,tt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)iw(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":iw(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Zr=o;break}Zr=c.return}}function F3(o,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Fi(o,h),p&4&&lh(5,h);break;case 1:if(Fi(o,h),p&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(T){Lt(h,h.return,T)}else{var w=oc(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(w,c,o.__reactInternalSnapshotBeforeUpdate)}catch(T){Lt(h,h.return,T)}}p&64&&M3(h),p&512&&ch(h,h.return);break;case 3:if(Fi(o,h),p&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{ST(o,c)}catch(T){Lt(h,h.return,T)}}break;case 27:c===null&&p&4&&L3(h);case 26:case 5:Fi(o,h),c===null&&p&4&&D3(h),p&512&&ch(h,h.return);break;case 12:Fi(o,h);break;case 31:Fi(o,h),p&4&&$3(o,h);break;case 13:Fi(o,h),p&4&&H3(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=UG.bind(null,h),aW(o,h))));break;case 22:if(p=h.memoizedState!==null||Li,!p){c=c!==null&&c.memoizedState!==null||Dr,w=Li;var C=Dr;Li=p,(Dr=c)&&!C?Bi(o,h,(h.subtreeFlags&8772)!==0):Fi(o,h),Li=w,Dr=C}break;case 30:break;default:Fi(o,h)}}function B3(o){var c=o.alternate;c!==null&&(o.alternate=null,B3(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&dv(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var hr=null,Zn=!1;function Ui(o,c,h){for(h=h.child;h!==null;)z3(o,c,h),h=h.sibling}function z3(o,c,h){if(fe&&typeof fe.onCommitFiberUnmount=="function")try{fe.onCommitFiberUnmount(ve,h)}catch{}switch(h.tag){case 26:Dr||Zs(h,c),Ui(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Dr||Zs(h,c);var p=hr,w=Zn;Yo(h.type)&&(hr=h.stateNode,Zn=!1),Ui(o,c,h),xh(h.stateNode),hr=p,Zn=w;break;case 5:Dr||Zs(h,c);case 6:if(p=hr,w=Zn,hr=null,Ui(o,c,h),hr=p,Zn=w,hr!==null)if(Zn)try{(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr).removeChild(h.stateNode)}catch(C){Lt(h,c,C)}else try{hr.removeChild(h.stateNode)}catch(C){Lt(h,c,C)}break;case 18:hr!==null&&(Zn?(o=hr,M4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Yu(o)):M4(hr,h.stateNode));break;case 4:p=hr,w=Zn,hr=h.stateNode.containerInfo,Zn=!0,Ui(o,c,h),hr=p,Zn=w;break;case 0:case 11:case 14:case 15:$o(2,h,c),Dr||$o(4,h,c),Ui(o,c,h);break;case 1:Dr||(Zs(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&R3(h,c,p)),Ui(o,c,h);break;case 21:Ui(o,c,h);break;case 22:Dr=(p=Dr)||h.memoizedState!==null,Ui(o,c,h),Dr=p;break;default:Ui(o,c,h)}}function $3(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Yu(o)}catch(h){Lt(c,c.return,h)}}}function H3(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Yu(o)}catch(h){Lt(c,c.return,h)}}function TG(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new U3),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new U3),c;default:throw Error(n(435,o.tag))}}function hg(o,c){var h=TG(o);c.forEach(function(p){if(!h.has(p)){h.add(p);var w=FG.bind(null,o,p);p.then(w,w)}})}function ea(o,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var w=h[p],C=o,T=c,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(Yo(P.type)){hr=P.stateNode,Zn=!1;break e}break;case 5:hr=P.stateNode,Zn=!1;break e;case 3:case 4:hr=P.stateNode.containerInfo,Zn=!0;break e}P=P.return}if(hr===null)throw Error(n(160));z3(C,T,w),hr=null,Zn=!1,C=w.alternate,C!==null&&(C.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)q3(c,o),c=c.sibling}var Es=null;function q3(o,c){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ea(c,o),ta(o),p&4&&($o(3,o,o.return),lh(3,o),$o(5,o,o.return));break;case 1:ea(c,o),ta(o),p&512&&(Dr||h===null||Zs(h,h.return)),p&64&&Li&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var w=Es;if(ea(c,o),ta(o),p&512&&(Dr||h===null||Zs(h,h.return)),p&4){var C=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":C=w.getElementsByTagName("title")[0],(!C||C[Pf]||C[fn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=w.createElement(p),w.head.insertBefore(C,w.querySelector("head > title"))),pn(C,p,h),C[fn]=o,Qr(C),p=C;break e;case"link":var T=q4("link","href",w).get(p+(h.href||""));if(T){for(var P=0;P<T.length;P++)if(C=T[P],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){T.splice(P,1);break t}}C=w.createElement(p),pn(C,p,h),w.head.appendChild(C);break;case"meta":if(T=q4("meta","content",w).get(p+(h.content||""))){for(P=0;P<T.length;P++)if(C=T[P],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){T.splice(P,1);break t}}C=w.createElement(p),pn(C,p,h),w.head.appendChild(C);break;default:throw Error(n(468,p))}C[fn]=o,Qr(C),p=C}o.stateNode=p}else K4(w,o.type,o.stateNode);else o.stateNode=H4(w,p,o.memoizedProps);else C!==p?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,p===null?K4(w,o.type,o.stateNode):H4(w,p,o.memoizedProps)):p===null&&o.stateNode!==null&&O1(o,o.memoizedProps,h.memoizedProps)}break;case 27:ea(c,o),ta(o),p&512&&(Dr||h===null||Zs(h,h.return)),h!==null&&p&4&&O1(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ea(c,o),ta(o),p&512&&(Dr||h===null||Zs(h,h.return)),o.flags&32){w=o.stateNode;try{xu(w,"")}catch($e){Lt(o,o.return,$e)}}p&4&&o.stateNode!=null&&(w=o.memoizedProps,O1(o,w,h!==null?h.memoizedProps:w)),p&1024&&(D1=!0);break;case 6:if(ea(c,o),ta(o),p&4){if(o.stateNode===null)throw Error(n(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch($e){Lt(o,o.return,$e)}}break;case 3:if(Ag=null,w=Es,Es=_g(c.containerInfo),ea(c,o),Es=w,ta(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Yu(c.containerInfo)}catch($e){Lt(o,o.return,$e)}D1&&(D1=!1,K3(o));break;case 4:p=Es,Es=_g(o.stateNode.containerInfo),ea(c,o),ta(o),Es=p;break;case 12:ea(c,o),ta(o);break;case 31:ea(c,o),ta(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,hg(o,p)));break;case 13:ea(c,o),ta(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(gg=Be()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,hg(o,p)));break;case 22:w=o.memoizedState!==null;var K=h!==null&&h.memoizedState!==null,oe=Li,ye=Dr;if(Li=oe||w,Dr=ye||K,ea(c,o),Dr=ye,Li=oe,ta(o),p&8192)e:for(c=o.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||K||Li||Dr||lc(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){K=h=c;try{if(C=K.stateNode,w)T=C.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=K.stateNode;var Se=K.memoizedProps.style,ue=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;P.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch($e){Lt(K,K.return,$e)}}}else if(c.tag===6){if(h===null){K=c;try{K.stateNode.nodeValue=w?"":K.memoizedProps}catch($e){Lt(K,K.return,$e)}}}else if(c.tag===18){if(h===null){K=c;try{var ge=K.stateNode;w?R4(ge,!0):R4(K.stateNode,!1)}catch($e){Lt(K,K.return,$e)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,hg(o,h))));break;case 19:ea(c,o),ta(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,hg(o,p)));break;case 30:break;case 21:break;default:ea(c,o),ta(o)}}function ta(o){var c=o.flags;if(c&2){try{for(var h,p=o.return;p!==null;){if(P3(p)){h=p;break}p=p.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var w=h.stateNode,C=M1(o);fg(o,C,w);break;case 5:var T=h.stateNode;h.flags&32&&(xu(T,""),h.flags&=-33);var P=M1(o);fg(o,P,T);break;case 3:case 4:var K=h.stateNode.containerInfo,oe=M1(o);R1(o,oe,K);break;default:throw Error(n(161))}}catch(ye){Lt(o,o.return,ye)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function K3(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;K3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Fi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)F3(o,c.alternate,c),c=c.sibling}function lc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:$o(4,c,c.return),lc(c);break;case 1:Zs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&R3(c,c.return,h),lc(c);break;case 27:xh(c.stateNode);case 26:case 5:Zs(c,c.return),lc(c);break;case 22:c.memoizedState===null&&lc(c);break;case 30:lc(c);break;default:lc(c)}o=o.sibling}}function Bi(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,w=o,C=c,T=C.flags;switch(C.tag){case 0:case 11:case 15:Bi(w,C,h),lh(4,C);break;case 1:if(Bi(w,C,h),p=C,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(oe){Lt(p,p.return,oe)}if(p=C,w=p.updateQueue,w!==null){var P=p.stateNode;try{var K=w.shared.hiddenCallbacks;if(K!==null)for(w.shared.hiddenCallbacks=null,w=0;w<K.length;w++)kT(K[w],P)}catch(oe){Lt(p,p.return,oe)}}h&&T&64&&M3(C),ch(C,C.return);break;case 27:L3(C);case 26:case 5:Bi(w,C,h),h&&p===null&&T&4&&D3(C),ch(C,C.return);break;case 12:Bi(w,C,h);break;case 31:Bi(w,C,h),h&&T&4&&$3(w,C);break;case 13:Bi(w,C,h),h&&T&4&&H3(w,C);break;case 22:C.memoizedState===null&&Bi(w,C,h),ch(C,C.return);break;case 30:break;default:Bi(w,C,h)}c=c.sibling}}function P1(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Yf(h))}function L1(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Yf(o))}function _s(o,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)G3(o,c,h,p),c=c.sibling}function G3(o,c,h,p){var w=c.flags;switch(c.tag){case 0:case 11:case 15:_s(o,c,h,p),w&2048&&lh(9,c);break;case 1:_s(o,c,h,p);break;case 3:_s(o,c,h,p),w&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Yf(o)));break;case 12:if(w&2048){_s(o,c,h,p),o=c.stateNode;try{var C=c.memoizedProps,T=C.id,P=C.onPostCommit;typeof P=="function"&&P(T,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(K){Lt(c,c.return,K)}}else _s(o,c,h,p);break;case 31:_s(o,c,h,p);break;case 13:_s(o,c,h,p);break;case 23:break;case 22:C=c.stateNode,T=c.alternate,c.memoizedState!==null?C._visibility&2?_s(o,c,h,p):uh(o,c):C._visibility&2?_s(o,c,h,p):(C._visibility|=2,Uu(o,c,h,p,(c.subtreeFlags&10256)!==0||!1)),w&2048&&P1(T,c);break;case 24:_s(o,c,h,p),w&2048&&L1(c.alternate,c);break;default:_s(o,c,h,p)}}function Uu(o,c,h,p,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=o,T=c,P=h,K=p,oe=T.flags;switch(T.tag){case 0:case 11:case 15:Uu(C,T,P,K,w),lh(8,T);break;case 23:break;case 22:var ye=T.stateNode;T.memoizedState!==null?ye._visibility&2?Uu(C,T,P,K,w):uh(C,T):(ye._visibility|=2,Uu(C,T,P,K,w)),w&&oe&2048&&P1(T.alternate,T);break;case 24:Uu(C,T,P,K,w),w&&oe&2048&&L1(T.alternate,T);break;default:Uu(C,T,P,K,w)}c=c.sibling}}function uh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,p=c,w=p.flags;switch(p.tag){case 22:uh(h,p),w&2048&&P1(p.alternate,p);break;case 24:uh(h,p),w&2048&&L1(p.alternate,p);break;default:uh(h,p)}c=c.sibling}}var dh=8192;function Fu(o,c,h){if(o.subtreeFlags&dh)for(o=o.child;o!==null;)W3(o,c,h),o=o.sibling}function W3(o,c,h){switch(o.tag){case 26:Fu(o,c,h),o.flags&dh&&o.memoizedState!==null&&pW(h,Es,o.memoizedState,o.memoizedProps);break;case 5:Fu(o,c,h);break;case 3:case 4:var p=Es;Es=_g(o.stateNode.containerInfo),Fu(o,c,h),Es=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=dh,dh=16777216,Fu(o,c,h),dh=p):Fu(o,c,h));break;default:Fu(o,c,h)}}function V3(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function fh(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Zr=p,X3(p,o)}V3(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Y3(o),o=o.sibling}function Y3(o){switch(o.tag){case 0:case 11:case 15:fh(o),o.flags&2048&&$o(9,o,o.return);break;case 3:fh(o);break;case 12:fh(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,mg(o)):fh(o);break;default:fh(o)}}function mg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Zr=p,X3(p,o)}V3(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:$o(8,c,c.return),mg(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,mg(c));break;default:mg(c)}o=o.sibling}}function X3(o,c){for(;Zr!==null;){var h=Zr;switch(h.tag){case 0:case 11:case 15:$o(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yf(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Zr=p;else e:for(h=o;Zr!==null;){p=Zr;var w=p.sibling,C=p.return;if(B3(p),p===h){Zr=null;break e}if(w!==null){w.return=C,Zr=w;break e}Zr=C}}}var IG={getCacheForType:function(o){var c=mn(Or),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return mn(Or).controller.signal}},OG=typeof WeakMap=="function"?WeakMap:Map,It=0,Wt=null,gt=null,yt=0,Pt=0,Ea=null,Ho=!1,Bu=!1,U1=!1,zi=0,Cr=0,qo=0,cc=0,F1=0,_a=0,zu=0,hh=null,ra=null,B1=!1,gg=0,J3=0,pg=1/0,yg=null,Ko=null,Hr=0,Go=null,$u=null,$i=0,z1=0,$1=null,Q3=null,mh=0,H1=null;function ja(){return(It&2)!==0&&yt!==0?yt&-yt:H.T!==null?Y1():mA()}function Z3(){if(_a===0)if((yt&536870912)===0||kt){var o=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),_a=o}else _a=536870912;return o=Ca.current,o!==null&&(o.flags|=32),_a}function na(o,c,h){(o===Wt&&(Pt===2||Pt===9)||o.cancelPendingCommit!==null)&&(Hu(o,0),Wo(o,yt,_a,!1)),et(o,h),((It&2)===0||o!==Wt)&&(o===Wt&&((It&2)===0&&(cc|=h),Cr===4&&Wo(o,yt,_a,!1)),ei(o))}function e4(o,c,h){if((It&6)!==0)throw Error(n(327));var p=!h&&(c&127)===0&&(c&o.expiredLanes)===0||Gl(o,c),w=p?DG(o,c):K1(o,c,!0),C=p;do{if(w===0){Bu&&!p&&Wo(o,c,0,!1);break}else{if(h=o.current.alternate,C&&!MG(h)){w=K1(o,c,!1),C=!1;continue}if(w===2){if(C=c,o.errorRecoveryDisabledLanes&C)var T=0;else T=o.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){c=T;e:{var P=o;w=hh;var K=P.current.memoizedState.isDehydrated;if(K&&(Hu(P,T).flags|=256),T=K1(P,T,!1),T!==2){if(U1&&!K){P.errorRecoveryDisabledLanes|=C,cc|=C,w=4;break e}C=ra,ra=w,C!==null&&(ra===null?ra=C:ra.push.apply(ra,C))}w=T}if(C=!1,w!==2)continue}}if(w===1){Hu(o,0),Wo(o,c,0,!0);break}e:{switch(p=o,C=w,C){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Wo(p,c,_a,!Ho);break e;case 2:ra=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(w=gg+300-Be(),10<w)){if(Wo(p,c,_a,!Ho),To(p,0,!0)!==0)break e;$i=c,p.timeoutHandle=I4(t4.bind(null,p,h,ra,yg,B1,c,_a,cc,zu,Ho,C,"Throttled",-0,0),w);break e}t4(p,h,ra,yg,B1,c,_a,cc,zu,Ho,C,null,-0,0)}}break}while(!0);ei(o)}function t4(o,c,h,p,w,C,T,P,K,oe,ye,Se,ue,ge){if(o.timeoutHandle=-1,Se=c.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},W3(c,C,Se);var $e=(C&62914560)===C?gg-Be():(C&4194048)===C?J3-Be():0;if($e=yW(Se,$e),$e!==null){$i=C,o.cancelPendingCommit=$e(c4.bind(null,o,c,C,h,p,w,T,P,K,ye,Se,null,ue,ge)),Wo(o,C,T,!oe);return}}c4(o,c,C,h,p,w,T,P,K)}function MG(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var w=h[p],C=w.getSnapshot;w=w.value;try{if(!ka(C(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Wo(o,c,h,p){c&=~F1,c&=~cc,o.suspendedLanes|=c,o.pingedLanes&=~c,p&&(o.warmLanes|=c),p=o.expirationTimes;for(var w=c;0<w;){var C=31-_e(w),T=1<<C;p[C]=-1,w&=~T}h!==0&&Ka(o,h,c)}function xg(){return(It&6)===0?(gh(0),!1):!0}function q1(){if(gt!==null){if(Pt===0)var o=gt.return;else o=gt,Ii=ec=null,i1(o),Mu=null,Jf=0,o=gt;for(;o!==null;)O3(o.alternate,o),o=o.return;gt=null}}function Hu(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,ZG(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),$i=0,q1(),Wt=o,gt=h=Ai(o.current,null),yt=c,Pt=0,Ea=null,Ho=!1,Bu=Gl(o,c),U1=!1,zu=_a=F1=cc=qo=Cr=0,ra=hh=null,B1=!1,(c&8)!==0&&(c|=c&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=c;0<p;){var w=31-_e(p),C=1<<w;c|=o[w],p&=~C}return zi=c,Fm(),h}function r4(o,c){ut=null,H.H=sh,c===Ou||c===Wm?(c=xT(),Pt=3):c===Vv?(c=xT(),Pt=4):Pt=c===k1?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ea=c,gt===null&&(Cr=1,og(o,Ya(c,o.current)))}function n4(){var o=Ca.current;return o===null?!0:(yt&4194048)===yt?Za===null:(yt&62914560)===yt||(yt&536870912)!==0?o===Za:!1}function a4(){var o=H.H;return H.H=sh,o===null?sh:o}function s4(){var o=H.A;return H.A=IG,o}function bg(){Cr=4,Ho||(yt&4194048)!==yt&&Ca.current!==null||(Bu=!0),(qo&134217727)===0&&(cc&134217727)===0||Wt===null||Wo(Wt,yt,_a,!1)}function K1(o,c,h){var p=It;It|=2;var w=a4(),C=s4();(Wt!==o||yt!==c)&&(yg=null,Hu(o,c)),c=!1;var T=Cr;e:do try{if(Pt!==0&&gt!==null){var P=gt,K=Ea;switch(Pt){case 8:q1(),T=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(c=!0);var oe=Pt;if(Pt=0,Ea=null,qu(o,P,K,oe),h&&Bu){T=0;break e}break;default:oe=Pt,Pt=0,Ea=null,qu(o,P,K,oe)}}RG(),T=Cr;break}catch(ye){r4(o,ye)}while(!0);return c&&o.shellSuspendCounter++,Ii=ec=null,It=p,H.H=w,H.A=C,gt===null&&(Wt=null,yt=0,Fm()),T}function RG(){for(;gt!==null;)i4(gt)}function DG(o,c){var h=It;It|=2;var p=a4(),w=s4();Wt!==o||yt!==c?(yg=null,pg=Be()+500,Hu(o,c)):Bu=Gl(o,c);e:do try{if(Pt!==0&&gt!==null){c=gt;var C=Ea;t:switch(Pt){case 1:Pt=0,Ea=null,qu(o,c,C,1);break;case 2:case 9:if(pT(C)){Pt=0,Ea=null,o4(c);break}c=function(){Pt!==2&&Pt!==9||Wt!==o||(Pt=7),ei(o)},C.then(c,c);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:pT(C)?(Pt=0,Ea=null,o4(c)):(Pt=0,Ea=null,qu(o,c,C,7));break;case 5:var T=null;switch(gt.tag){case 26:T=gt.memoizedState;case 5:case 27:var P=gt;if(T?G4(T):P.stateNode.complete){Pt=0,Ea=null;var K=P.sibling;if(K!==null)gt=K;else{var oe=P.return;oe!==null?(gt=oe,vg(oe)):gt=null}break t}}Pt=0,Ea=null,qu(o,c,C,5);break;case 6:Pt=0,Ea=null,qu(o,c,C,6);break;case 8:q1(),Cr=6;break e;default:throw Error(n(462))}}PG();break}catch(ye){r4(o,ye)}while(!0);return Ii=ec=null,H.H=p,H.A=w,It=h,gt!==null?0:(Wt=null,yt=0,Fm(),Cr)}function PG(){for(;gt!==null&&!Te();)i4(gt)}function i4(o){var c=T3(o.alternate,o,zi);o.memoizedProps=o.pendingProps,c===null?vg(o):gt=c}function o4(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=C3(h,c,c.pendingProps,c.type,void 0,yt);break;case 11:c=C3(h,c,c.pendingProps,c.type.render,c.ref,yt);break;case 5:i1(c);default:O3(h,c),c=gt=sT(c,zi),c=T3(h,c,zi)}o.memoizedProps=o.pendingProps,c===null?vg(o):gt=c}function qu(o,c,h,p){Ii=ec=null,i1(c),Mu=null,Jf=0;var w=c.return;try{if(CG(o,w,c,h,yt)){Cr=1,og(o,Ya(h,o.current)),gt=null;return}}catch(C){if(w!==null)throw gt=w,C;Cr=1,og(o,Ya(h,o.current)),gt=null;return}c.flags&32768?(kt||p===1?o=!0:Bu||(yt&536870912)!==0?o=!1:(Ho=o=!0,(p===2||p===9||p===3||p===6)&&(p=Ca.current,p!==null&&p.tag===13&&(p.flags|=16384))),l4(c,o)):vg(c)}function vg(o){var c=o;do{if((c.flags&32768)!==0){l4(c,Ho);return}o=c.return;var h=_G(c.alternate,c,zi);if(h!==null){gt=h;return}if(c=c.sibling,c!==null){gt=c;return}gt=c=o}while(c!==null);Cr===0&&(Cr=5)}function l4(o,c){do{var h=jG(o.alternate,o);if(h!==null){h.flags&=32767,gt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){gt=o;return}gt=o=h}while(o!==null);Cr=6,gt=null}function c4(o,c,h,p,w,C,T,P,K){o.cancelPendingCommit=null;do wg();while(Hr!==0);if((It&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(C=c.lanes|c.childLanes,C|=Mv,Ct(o,h,C,T,P,K),o===Wt&&(gt=Wt=null,yt=0),$u=c,Go=o,$i=h,z1=C,$1=w,Q3=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,BG(ir,function(){return m4(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=H.T,H.T=null,w=ee.p,ee.p=2,T=It,It|=4;try{AG(o,c,h)}finally{It=T,ee.p=w,H.T=p}}Hr=1,u4(),d4(),f4()}}function u4(){if(Hr===1){Hr=0;var o=Go,c=$u,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=H.T,H.T=null;var p=ee.p;ee.p=2;var w=It;It|=4;try{q3(c,o);var C=nw,T=XA(o.containerInfo),P=C.focusedElem,K=C.selectionRange;if(T!==P&&P&&P.ownerDocument&&YA(P.ownerDocument.documentElement,P)){if(K!==null&&jv(P)){var oe=K.start,ye=K.end;if(ye===void 0&&(ye=oe),"selectionStart"in P)P.selectionStart=oe,P.selectionEnd=Math.min(ye,P.value.length);else{var Se=P.ownerDocument||document,ue=Se&&Se.defaultView||window;if(ue.getSelection){var ge=ue.getSelection(),$e=P.textContent.length,tt=Math.min(K.start,$e),Ht=K.end===void 0?tt:Math.min(K.end,$e);!ge.extend&&tt>Ht&&(T=Ht,Ht=tt,tt=T);var re=VA(P,tt),X=VA(P,Ht);if(re&&X&&(ge.rangeCount!==1||ge.anchorNode!==re.node||ge.anchorOffset!==re.offset||ge.focusNode!==X.node||ge.focusOffset!==X.offset)){var ie=Se.createRange();ie.setStart(re.node,re.offset),ge.removeAllRanges(),tt>Ht?(ge.addRange(ie),ge.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),ge.addRange(ie))}}}}for(Se=[],ge=P;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Se.length;P++){var ke=Se[P];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Mg=!!rw,nw=rw=null}finally{It=w,ee.p=p,H.T=h}}o.current=c,Hr=2}}function d4(){if(Hr===2){Hr=0;var o=Go,c=$u,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=H.T,H.T=null;var p=ee.p;ee.p=2;var w=It;It|=4;try{F3(o,c.alternate,c)}finally{It=w,ee.p=p,H.T=h}}Hr=3}}function f4(){if(Hr===4||Hr===3){Hr=0,Ye();var o=Go,c=$u,h=$i,p=Q3;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Hr=5:(Hr=0,$u=Go=null,h4(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Ko=null),cv(h),c=c.stateNode,fe&&typeof fe.onCommitFiberRoot=="function")try{fe.onCommitFiberRoot(ve,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=H.T,w=ee.p,ee.p=2,H.T=null;try{for(var C=o.onRecoverableError,T=0;T<p.length;T++){var P=p[T];C(P.value,{componentStack:P.stack})}}finally{H.T=c,ee.p=w}}($i&3)!==0&&wg(),ei(o),w=o.pendingLanes,(h&261930)!==0&&(w&42)!==0?o===H1?mh++:(mh=0,H1=o):mh=0,gh(0)}}function h4(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Yf(c)))}function wg(){return u4(),d4(),f4(),m4()}function m4(){if(Hr!==5)return!1;var o=Go,c=z1;z1=0;var h=cv($i),p=H.T,w=ee.p;try{ee.p=32>h?32:h,H.T=null,h=$1,$1=null;var C=Go,T=$i;if(Hr=0,$u=Go=null,$i=0,(It&6)!==0)throw Error(n(331));var P=It;if(It|=4,Y3(C.current),G3(C,C.current,T,h),It=P,gh(0,!1),fe&&typeof fe.onPostCommitFiberRoot=="function")try{fe.onPostCommitFiberRoot(ve,C)}catch{}return!0}finally{ee.p=w,H.T=p,h4(o,c)}}function g4(o,c,h){c=Ya(h,c),c=w1(o.stateNode,c,2),o=Fo(o,c,2),o!==null&&(et(o,2),ei(o))}function Lt(o,c,h){if(o.tag===3)g4(o,o,h);else for(;c!==null;){if(c.tag===3){g4(c,o,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ko===null||!Ko.has(p))){o=Ya(h,o),h=p3(2),p=Fo(c,h,2),p!==null&&(y3(h,p,c,o),et(p,2),ei(p));break}}c=c.return}}function G1(o,c,h){var p=o.pingCache;if(p===null){p=o.pingCache=new OG;var w=new Set;p.set(c,w)}else w=p.get(c),w===void 0&&(w=new Set,p.set(c,w));w.has(h)||(U1=!0,w.add(h),o=LG.bind(null,o,c,h),c.then(o,o))}function LG(o,c,h){var p=o.pingCache;p!==null&&p.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Wt===o&&(yt&h)===h&&(Cr===4||Cr===3&&(yt&62914560)===yt&&300>Be()-gg?(It&2)===0&&Hu(o,0):F1|=h,zu===yt&&(zu=0)),ei(o)}function p4(o,c){c===0&&(c=Em()),o=Jl(o,c),o!==null&&(et(o,c),ei(o))}function UG(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),p4(o,h)}function FG(o,c){var h=0;switch(o.tag){case 31:case 13:var p=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(c),p4(o,h)}function BG(o,c){return me(o,c)}var kg=null,Ku=null,W1=!1,Sg=!1,V1=!1,Vo=0;function ei(o){o!==Ku&&o.next===null&&(Ku===null?kg=Ku=o:Ku=Ku.next=o),Sg=!0,W1||(W1=!0,$G())}function gh(o,c){if(!V1&&Sg){V1=!0;do for(var h=!1,p=kg;p!==null;){if(o!==0){var w=p.pendingLanes;if(w===0)var C=0;else{var T=p.suspendedLanes,P=p.pingedLanes;C=(1<<31-_e(42|o)+1)-1,C&=w&~(T&~P),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,v4(p,C))}else C=yt,C=To(p,p===Wt?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||Gl(p,C)||(h=!0,v4(p,C));p=p.next}while(h);V1=!1}}function zG(){y4()}function y4(){Sg=W1=!1;var o=0;Vo!==0&&QG()&&(o=Vo);for(var c=Be(),h=null,p=kg;p!==null;){var w=p.next,C=x4(p,c);C===0?(p.next=null,h===null?kg=w:h.next=w,w===null&&(Ku=h)):(h=p,(o!==0||(C&3)!==0)&&(Sg=!0)),p=w}Hr!==0&&Hr!==5||gh(o),Vo!==0&&(Vo=0)}function x4(o,c){for(var h=o.suspendedLanes,p=o.pingedLanes,w=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var T=31-_e(C),P=1<<T,K=w[T];K===-1?((P&h)===0||(P&p)!==0)&&(w[T]=Nm(P,c)):K<=c&&(o.expiredLanes|=P),C&=~P}if(c=Wt,h=yt,h=To(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===c&&(Pt===2||Pt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Pe(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Gl(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(p!==null&&Pe(p),cv(h)){case 2:case 8:h=dn;break;case 32:h=ir;break;case 268435456:h=F;break;default:h=ir}return p=b4.bind(null,o),h=me(h,p),o.callbackPriority=c,o.callbackNode=h,c}return p!==null&&p!==null&&Pe(p),o.callbackPriority=2,o.callbackNode=null,2}function b4(o,c){if(Hr!==0&&Hr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(wg()&&o.callbackNode!==h)return null;var p=yt;return p=To(o,o===Wt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(e4(o,p,c),x4(o,Be()),o.callbackNode!=null&&o.callbackNode===h?b4.bind(null,o):null)}function v4(o,c){if(wg())return null;e4(o,c,!0)}function $G(){eW(function(){(It&6)!==0?me(Sn,zG):y4()})}function Y1(){if(Vo===0){var o=Tu;o===0&&(o=Cn,Cn<<=1,(Cn&261888)===0&&(Cn=256)),Vo=o}return Vo}function w4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Im(""+o)}function k4(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function HG(o,c,h,p,w){if(c==="submit"&&h&&h.stateNode===w){var C=w4((w[Jn]||null).action),T=p.submitter;T&&(c=(c=T[Jn]||null)?w4(c.formAction):T.getAttribute("formAction"),c!==null&&(C=c,T=null));var P=new Dm("action","action",null,p,w);o.push({event:P,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Vo!==0){var K=T?k4(w,T):new FormData(w);g1(h,{pending:!0,data:K,method:w.method,action:C},null,K)}}else typeof C=="function"&&(P.preventDefault(),K=T?k4(w,T):new FormData(w),g1(h,{pending:!0,data:K,method:w.method,action:C},C,K))},currentTarget:w}]})}}for(var X1=0;X1<Ov.length;X1++){var J1=Ov[X1],qG=J1.toLowerCase(),KG=J1[0].toUpperCase()+J1.slice(1);Ns(qG,"on"+KG)}Ns(ZA,"onAnimationEnd"),Ns(eT,"onAnimationIteration"),Ns(tT,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(oG,"onTransitionRun"),Ns(lG,"onTransitionStart"),Ns(cG,"onTransitionCancel"),Ns(rT,"onTransitionEnd"),pu("onMouseEnter",["mouseout","mouseover"]),pu("onMouseLeave",["mouseout","mouseover"]),pu("onPointerEnter",["pointerout","pointerover"]),pu("onPointerLeave",["pointerout","pointerover"]),Wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function S4(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],w=p.event;p=p.listeners;e:{var C=void 0;if(c)for(var T=p.length-1;0<=T;T--){var P=p[T],K=P.instance,oe=P.currentTarget;if(P=P.listener,K!==C&&w.isPropagationStopped())break e;C=P,w.currentTarget=oe;try{C(w)}catch(ye){Um(ye)}w.currentTarget=null,C=K}else for(T=0;T<p.length;T++){if(P=p[T],K=P.instance,oe=P.currentTarget,P=P.listener,K!==C&&w.isPropagationStopped())break e;C=P,w.currentTarget=oe;try{C(w)}catch(ye){Um(ye)}w.currentTarget=null,C=K}}}}function pt(o,c){var h=c[uv];h===void 0&&(h=c[uv]=new Set);var p=o+"__bubble";h.has(p)||(C4(c,o,2,!1),h.add(p))}function Q1(o,c,h){var p=0;c&&(p|=4),C4(h,o,p,c)}var Cg="_reactListening"+Math.random().toString(36).slice(2);function Z1(o){if(!o[Cg]){o[Cg]=!0,yA.forEach(function(h){h!=="selectionchange"&&(GG.has(h)||Q1(h,!1,o),Q1(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Cg]||(c[Cg]=!0,Q1("selectionchange",!1,c))}}function C4(o,c,h,p){switch(Z4(c)){case 2:var w=vW;break;case 8:w=wW;break;default:w=mw}h=w.bind(null,c,h,o),w=void 0,!bv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),p?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function ew(o,c,h,p,w){var C=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var P=p.stateNode.containerInfo;if(P===w)break;if(T===4)for(T=p.return;T!==null;){var K=T.tag;if((K===3||K===4)&&T.stateNode.containerInfo===w)return;T=T.return}for(;P!==null;){if(T=hu(P),T===null)return;if(K=T.tag,K===5||K===6||K===26||K===27){p=C=T;continue e}P=P.parentNode}}p=p.return}AA(function(){var oe=C,ye=yv(h),Se=[];e:{var ue=nT.get(o);if(ue!==void 0){var ge=Dm,$e=o;switch(o){case"keypress":if(Mm(h)===0)break e;case"keydown":case"keyup":ge=FK;break;case"focusin":$e="focus",ge=Sv;break;case"focusout":$e="blur",ge=Sv;break;case"beforeblur":case"afterblur":ge=Sv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=OA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=_K;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=$K;break;case ZA:case eT:case tT:ge=TK;break;case rT:ge=qK;break;case"scroll":case"scrollend":ge=NK;break;case"wheel":ge=GK;break;case"copy":case"cut":case"paste":ge=OK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=RA;break;case"toggle":case"beforetoggle":ge=VK}var tt=(c&4)!==0,Ht=!tt&&(o==="scroll"||o==="scrollend"),re=tt?ue!==null?ue+"Capture":null:ue;tt=[];for(var X=oe,ie;X!==null;){var ke=X;if(ie=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ie===null||re===null||(ke=Uf(X,re),ke!=null&&tt.push(yh(X,ke,ie))),Ht)break;X=X.return}0<tt.length&&(ue=new ge(ue,$e,null,h,ye),Se.push({event:ue,listeners:tt}))}}if((c&7)===0){e:{if(ue=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",ue&&h!==pv&&($e=h.relatedTarget||h.fromElement)&&(hu($e)||$e[fu]))break e;if((ge||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?($e=h.relatedTarget||h.toElement,ge=oe,$e=$e?hu($e):null,$e!==null&&(Ht=s($e),tt=$e.tag,$e!==Ht||tt!==5&&tt!==27&&tt!==6)&&($e=null)):(ge=null,$e=oe),ge!==$e)){if(tt=OA,ke="onMouseLeave",re="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(tt=RA,ke="onPointerLeave",re="onPointerEnter",X="pointer"),Ht=ge==null?ue:Lf(ge),ie=$e==null?ue:Lf($e),ue=new tt(ke,X+"leave",ge,h,ye),ue.target=Ht,ue.relatedTarget=ie,ke=null,hu(ye)===oe&&(tt=new tt(re,X+"enter",$e,h,ye),tt.target=ie,tt.relatedTarget=Ht,ke=tt),Ht=ke,ge&&$e)t:{for(tt=WG,re=ge,X=$e,ie=0,ke=re;ke;ke=tt(ke))ie++;ke=0;for(var Xe=X;Xe;Xe=tt(Xe))ke++;for(;0<ie-ke;)re=tt(re),ie--;for(;0<ke-ie;)X=tt(X),ke--;for(;ie--;){if(re===X||X!==null&&re===X.alternate){tt=re;break t}re=tt(re),X=tt(X)}tt=null}else tt=null;ge!==null&&N4(Se,ue,ge,tt,!1),$e!==null&&Ht!==null&&N4(Se,Ht,$e,tt,!0)}}e:{if(ue=oe?Lf(oe):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var _t=$A;else if(BA(ue))if(HA)_t=aG;else{_t=rG;var Ke=tG}else ge=ue.nodeName,!ge||ge.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&gv(oe.elementType)&&(_t=$A):_t=nG;if(_t&&(_t=_t(o,oe))){zA(Se,_t,h,ye);break e}Ke&&Ke(o,ue,oe),o==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&mv(ue,"number",ue.value)}switch(Ke=oe?Lf(oe):window,o){case"focusin":(BA(Ke)||Ke.contentEditable==="true")&&(ku=Ke,Av=oe,Gf=null);break;case"focusout":Gf=Av=ku=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,JA(Se,h,ye);break;case"selectionchange":if(iG)break;case"keydown":case"keyup":JA(Se,h,ye)}var ft;if(Nv)e:{switch(o){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else wu?UA(o,h)&&(xt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(xt="onCompositionStart");xt&&(DA&&h.locale!=="ko"&&(wu||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&wu&&(ft=TA()):(Oo=ye,vv="value"in Oo?Oo.value:Oo.textContent,wu=!0)),Ke=Ng(oe,xt),0<Ke.length&&(xt=new MA(xt,o,null,h,ye),Se.push({event:xt,listeners:Ke}),ft?xt.data=ft:(ft=FA(h),ft!==null&&(xt.data=ft)))),(ft=XK?JK(o,h):QK(o,h))&&(xt=Ng(oe,"onBeforeInput"),0<xt.length&&(Ke=new MA("onBeforeInput","beforeinput",null,h,ye),Se.push({event:Ke,listeners:xt}),Ke.data=ft)),HG(Se,o,oe,h,ye)}S4(Se,c)})}function yh(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Ng(o,c){for(var h=c+"Capture",p=[];o!==null;){var w=o,C=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||C===null||(w=Uf(o,h),w!=null&&p.unshift(yh(o,w,C)),w=Uf(o,c),w!=null&&p.push(yh(o,w,C))),o.tag===3)return p;o=o.return}return[]}function WG(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function N4(o,c,h,p,w){for(var C=c._reactName,T=[];h!==null&&h!==p;){var P=h,K=P.alternate,oe=P.stateNode;if(P=P.tag,K!==null&&K===p)break;P!==5&&P!==26&&P!==27||oe===null||(K=oe,w?(oe=Uf(h,C),oe!=null&&T.unshift(yh(h,oe,K))):w||(oe=Uf(h,C),oe!=null&&T.push(yh(h,oe,K)))),h=h.return}T.length!==0&&o.push({event:c,listeners:T})}var VG=/\r\n?/g,YG=/\u0000|\uFFFD/g;function E4(o){return(typeof o=="string"?o:""+o).replace(VG,`
`).replace(YG,"")}function _4(o,c){return c=E4(c),E4(o)===c}function $t(o,c,h,p,w,C){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||xu(o,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&xu(o,""+p);break;case"className":Am(o,"class",p);break;case"tabIndex":Am(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Am(o,h,p);break;case"style":_A(o,p,C);break;case"data":if(c!=="object"){Am(o,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=Im(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(c!=="input"&&$t(o,c,"name",w.name,w,null),$t(o,c,"formEncType",w.formEncType,w,null),$t(o,c,"formMethod",w.formMethod,w,null),$t(o,c,"formTarget",w.formTarget,w,null)):($t(o,c,"encType",w.encType,w,null),$t(o,c,"method",w.method,w,null),$t(o,c,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=Im(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=_i);break;case"onScroll":p!=null&&pt("scroll",o);break;case"onScrollEnd":p!=null&&pt("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=Im(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":pt("beforetoggle",o),pt("toggle",o),jm(o,"popover",p);break;case"xlinkActuate":Ei(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ei(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ei(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ei(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ei(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ei(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ei(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ei(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ei(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":jm(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=SK.get(h)||h,jm(o,h,p))}}function tw(o,c,h,p,w,C){switch(h){case"style":_A(o,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof p=="string"?xu(o,p):(typeof p=="number"||typeof p=="bigint")&&xu(o,""+p);break;case"onScroll":p!=null&&pt("scroll",o);break;case"onScrollEnd":p!=null&&pt("scrollend",o);break;case"onClick":p!=null&&(o.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xA.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),C=o[Jn]||null,C=C!=null?C[h]:null,typeof C=="function"&&o.removeEventListener(c,C,w),typeof p=="function")){typeof C!="function"&&C!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,p,w);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):jm(o,h,p)}}}function pn(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",o),pt("load",o);var p=!1,w=!1,C;for(C in h)if(h.hasOwnProperty(C)){var T=h[C];if(T!=null)switch(C){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$t(o,c,C,T,h,null)}}w&&$t(o,c,"srcSet",h.srcSet,h,null),p&&$t(o,c,"src",h.src,h,null);return;case"input":pt("invalid",o);var P=C=T=w=null,K=null,oe=null;for(p in h)if(h.hasOwnProperty(p)){var ye=h[p];if(ye!=null)switch(p){case"name":w=ye;break;case"type":T=ye;break;case"checked":K=ye;break;case"defaultChecked":oe=ye;break;case"value":C=ye;break;case"defaultValue":P=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(n(137,c));break;default:$t(o,c,p,ye,h,null)}}SA(o,C,P,K,oe,T,w,!1);return;case"select":pt("invalid",o),p=T=C=null;for(w in h)if(h.hasOwnProperty(w)&&(P=h[w],P!=null))switch(w){case"value":C=P;break;case"defaultValue":T=P;break;case"multiple":p=P;default:$t(o,c,w,P,h,null)}c=C,h=T,o.multiple=!!p,c!=null?yu(o,!!p,c,!1):h!=null&&yu(o,!!p,h,!0);return;case"textarea":pt("invalid",o),C=w=p=null;for(T in h)if(h.hasOwnProperty(T)&&(P=h[T],P!=null))switch(T){case"value":p=P;break;case"defaultValue":w=P;break;case"children":C=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:$t(o,c,T,P,h,null)}NA(o,p,w,C);return;case"option":for(K in h)if(h.hasOwnProperty(K)&&(p=h[K],p!=null))switch(K){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:$t(o,c,K,p,h,null)}return;case"dialog":pt("beforetoggle",o),pt("toggle",o),pt("cancel",o),pt("close",o);break;case"iframe":case"object":pt("load",o);break;case"video":case"audio":for(p=0;p<ph.length;p++)pt(ph[p],o);break;case"image":pt("error",o),pt("load",o);break;case"details":pt("toggle",o);break;case"embed":case"source":case"link":pt("error",o),pt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in h)if(h.hasOwnProperty(oe)&&(p=h[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:$t(o,c,oe,p,h,null)}return;default:if(gv(c)){for(ye in h)h.hasOwnProperty(ye)&&(p=h[ye],p!==void 0&&tw(o,c,ye,p,h,void 0));return}}for(P in h)h.hasOwnProperty(P)&&(p=h[P],p!=null&&$t(o,c,P,p,h,null))}function XG(o,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,C=null,T=null,P=null,K=null,oe=null,ye=null;for(ge in h){var Se=h[ge];if(h.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":K=Se;default:p.hasOwnProperty(ge)||$t(o,c,ge,null,p,Se)}}for(var ue in p){var ge=p[ue];if(Se=h[ue],p.hasOwnProperty(ue)&&(ge!=null||Se!=null))switch(ue){case"type":C=ge;break;case"name":w=ge;break;case"checked":oe=ge;break;case"defaultChecked":ye=ge;break;case"value":T=ge;break;case"defaultValue":P=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(137,c));break;default:ge!==Se&&$t(o,c,ue,ge,p,Se)}}hv(o,T,P,K,oe,ye,C,w);return;case"select":ge=T=P=ue=null;for(C in h)if(K=h[C],h.hasOwnProperty(C)&&K!=null)switch(C){case"value":break;case"multiple":ge=K;default:p.hasOwnProperty(C)||$t(o,c,C,null,p,K)}for(w in p)if(C=p[w],K=h[w],p.hasOwnProperty(w)&&(C!=null||K!=null))switch(w){case"value":ue=C;break;case"defaultValue":P=C;break;case"multiple":T=C;default:C!==K&&$t(o,c,w,C,p,K)}c=P,h=T,p=ge,ue!=null?yu(o,!!h,ue,!1):!!p!=!!h&&(c!=null?yu(o,!!h,c,!0):yu(o,!!h,h?[]:"",!1));return;case"textarea":ge=ue=null;for(P in h)if(w=h[P],h.hasOwnProperty(P)&&w!=null&&!p.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:$t(o,c,P,null,p,w)}for(T in p)if(w=p[T],C=h[T],p.hasOwnProperty(T)&&(w!=null||C!=null))switch(T){case"value":ue=w;break;case"defaultValue":ge=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==C&&$t(o,c,T,w,p,C)}CA(o,ue,ge);return;case"option":for(var $e in h)if(ue=h[$e],h.hasOwnProperty($e)&&ue!=null&&!p.hasOwnProperty($e))switch($e){case"selected":o.selected=!1;break;default:$t(o,c,$e,null,p,ue)}for(K in p)if(ue=p[K],ge=h[K],p.hasOwnProperty(K)&&ue!==ge&&(ue!=null||ge!=null))switch(K){case"selected":o.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:$t(o,c,K,ue,p,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in h)ue=h[tt],h.hasOwnProperty(tt)&&ue!=null&&!p.hasOwnProperty(tt)&&$t(o,c,tt,null,p,ue);for(oe in p)if(ue=p[oe],ge=h[oe],p.hasOwnProperty(oe)&&ue!==ge&&(ue!=null||ge!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,c));break;default:$t(o,c,oe,ue,p,ge)}return;default:if(gv(c)){for(var Ht in h)ue=h[Ht],h.hasOwnProperty(Ht)&&ue!==void 0&&!p.hasOwnProperty(Ht)&&tw(o,c,Ht,void 0,p,ue);for(ye in p)ue=p[ye],ge=h[ye],!p.hasOwnProperty(ye)||ue===ge||ue===void 0&&ge===void 0||tw(o,c,ye,ue,p,ge);return}}for(var re in h)ue=h[re],h.hasOwnProperty(re)&&ue!=null&&!p.hasOwnProperty(re)&&$t(o,c,re,null,p,ue);for(Se in p)ue=p[Se],ge=h[Se],!p.hasOwnProperty(Se)||ue===ge||ue==null&&ge==null||$t(o,c,Se,ue,p,ge)}function j4(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JG(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var w=h[p],C=w.transferSize,T=w.initiatorType,P=w.duration;if(C&&P&&j4(T)){for(T=0,P=w.responseEnd,p+=1;p<h.length;p++){var K=h[p],oe=K.startTime;if(oe>P)break;var ye=K.transferSize,Se=K.initiatorType;ye&&j4(Se)&&(K=K.responseEnd,T+=ye*(K<P?1:(P-oe)/(K-oe)))}if(--p,c+=8*(C+T)/(w.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var rw=null,nw=null;function Eg(o){return o.nodeType===9?o:o.ownerDocument}function A4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function aw(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var sw=null;function QG(){var o=window.event;return o&&o.type==="popstate"?o===sw?!1:(sw=o,!0):(sw=null,!1)}var I4=typeof setTimeout=="function"?setTimeout:void 0,ZG=typeof clearTimeout=="function"?clearTimeout:void 0,O4=typeof Promise=="function"?Promise:void 0,eW=typeof queueMicrotask=="function"?queueMicrotask:typeof O4<"u"?function(o){return O4.resolve(null).then(o).catch(tW)}:I4;function tW(o){setTimeout(function(){throw o})}function Yo(o){return o==="head"}function M4(o,c){var h=c,p=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(p===0){o.removeChild(w),Yu(c);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")xh(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,xh(h);for(var C=h.firstChild;C;){var T=C.nextSibling,P=C.nodeName;C[Pf]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=T}}else h==="body"&&xh(o.ownerDocument.body);h=w}while(h);Yu(c)}function R4(o,c){var h=o;o=0;do{var p=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=p}while(h)}function iw(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":iw(h),dv(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function rW(o,c,h,p){for(;o.nodeType===1;){var w=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[Pf])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var C=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=es(o.nextSibling),o===null)break}return null}function nW(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=es(o.nextSibling),o===null))return null;return o}function D4(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=es(o.nextSibling),o===null))return null;return o}function ow(o){return o.data==="$?"||o.data==="$~"}function lw(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function aW(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function es(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var cw=null;function P4(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return es(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function L4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function U4(o,c,h){switch(c=Eg(h),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function xh(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);dv(o)}var ts=new Map,F4=new Set;function _g(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Hi=ee.d;ee.d={f:sW,r:iW,D:oW,C:lW,L:cW,m:uW,X:fW,S:dW,M:hW};function sW(){var o=Hi.f(),c=xg();return o||c}function iW(o){var c=mu(o);c!==null&&c.tag===5&&c.type==="form"?r3(c):Hi.r(o)}var Gu=typeof document>"u"?null:document;function B4(o,c,h){var p=Gu;if(p&&typeof c=="string"&&c){var w=Wa(c);w='link[rel="'+o+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),F4.has(w)||(F4.add(w),o={rel:o,crossOrigin:h,href:c},p.querySelector(w)===null&&(c=p.createElement("link"),pn(c,"link",o),Qr(c),p.head.appendChild(c)))}}function oW(o){Hi.D(o),B4("dns-prefetch",o,null)}function lW(o,c){Hi.C(o,c),B4("preconnect",o,c)}function cW(o,c,h){Hi.L(o,c,h);var p=Gu;if(p&&o&&c){var w='link[rel="preload"][as="'+Wa(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+Wa(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+Wa(h.imageSizes)+'"]')):w+='[href="'+Wa(o)+'"]';var C=w;switch(c){case"style":C=Wu(o);break;case"script":C=Vu(o)}ts.has(C)||(o=g({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),ts.set(C,o),p.querySelector(w)!==null||c==="style"&&p.querySelector(bh(C))||c==="script"&&p.querySelector(vh(C))||(c=p.createElement("link"),pn(c,"link",o),Qr(c),p.head.appendChild(c)))}}function uW(o,c){Hi.m(o,c);var h=Gu;if(h&&o){var p=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+Wa(p)+'"][href="'+Wa(o)+'"]',C=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Vu(o)}if(!ts.has(C)&&(o=g({rel:"modulepreload",href:o},c),ts.set(C,o),h.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(vh(C)))return}p=h.createElement("link"),pn(p,"link",o),Qr(p),h.head.appendChild(p)}}}function dW(o,c,h){Hi.S(o,c,h);var p=Gu;if(p&&o){var w=gu(p).hoistableStyles,C=Wu(o);c=c||"default";var T=w.get(C);if(!T){var P={loading:0,preload:null};if(T=p.querySelector(bh(C)))P.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},h),(h=ts.get(C))&&uw(o,h);var K=T=p.createElement("link");Qr(K),pn(K,"link",o),K._p=new Promise(function(oe,ye){K.onload=oe,K.onerror=ye}),K.addEventListener("load",function(){P.loading|=1}),K.addEventListener("error",function(){P.loading|=2}),P.loading|=4,jg(T,c,p)}T={type:"stylesheet",instance:T,count:1,state:P},w.set(C,T)}}}function fW(o,c){Hi.X(o,c);var h=Gu;if(h&&o){var p=gu(h).hoistableScripts,w=Vu(o),C=p.get(w);C||(C=h.querySelector(vh(w)),C||(o=g({src:o,async:!0},c),(c=ts.get(w))&&dw(o,c),C=h.createElement("script"),Qr(C),pn(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(w,C))}}function hW(o,c){Hi.M(o,c);var h=Gu;if(h&&o){var p=gu(h).hoistableScripts,w=Vu(o),C=p.get(w);C||(C=h.querySelector(vh(w)),C||(o=g({src:o,async:!0,type:"module"},c),(c=ts.get(w))&&dw(o,c),C=h.createElement("script"),Qr(C),pn(C,"link",o),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(w,C))}}function z4(o,c,h,p){var w=(w=Re.current)?_g(w):null;if(!w)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Wu(h.href),h=gu(w).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Wu(h.href);var C=gu(w).hoistableStyles,T=C.get(o);if(T||(w=w.ownerDocument||w,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,T),(C=w.querySelector(bh(o)))&&!C._p&&(T.instance=C,T.state.loading=5),ts.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ts.set(o,h),C||mW(w,o,h,T.state))),c&&p===null)throw Error(n(528,""));return T}if(c&&p!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Vu(h),h=gu(w).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Wu(o){return'href="'+Wa(o)+'"'}function bh(o){return'link[rel="stylesheet"]['+o+"]"}function $4(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function mW(o,c,h,p){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=o.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),pn(c,"link",h),Qr(c),o.head.appendChild(c))}function Vu(o){return'[src="'+Wa(o)+'"]'}function vh(o){return"script[async]"+o}function H4(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=o.querySelector('style[data-href~="'+Wa(h.href)+'"]');if(p)return c.instance=p,Qr(p),p;var w=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Qr(p),pn(p,"style",w),jg(p,h.precedence,o),c.instance=p;case"stylesheet":w=Wu(h.href);var C=o.querySelector(bh(w));if(C)return c.state.loading|=4,c.instance=C,Qr(C),C;p=$4(h),(w=ts.get(w))&&uw(p,w),C=(o.ownerDocument||o).createElement("link"),Qr(C);var T=C;return T._p=new Promise(function(P,K){T.onload=P,T.onerror=K}),pn(C,"link",p),c.state.loading|=4,jg(C,h.precedence,o),c.instance=C;case"script":return C=Vu(h.src),(w=o.querySelector(vh(C)))?(c.instance=w,Qr(w),w):(p=h,(w=ts.get(C))&&(p=g({},h),dw(p,w)),o=o.ownerDocument||o,w=o.createElement("script"),Qr(w),pn(w,"link",p),o.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,jg(p,h.precedence,o));return c.instance}function jg(o,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,C=w,T=0;T<p.length;T++){var P=p[T];if(P.dataset.precedence===c)C=P;else if(C!==w)break}C?C.parentNode.insertBefore(o,C.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function uw(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function dw(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Ag=null;function q4(o,c,h){if(Ag===null){var p=new Map,w=Ag=new Map;w.set(h,p)}else w=Ag,p=w.get(h),p||(p=new Map,w.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),w=0;w<h.length;w++){var C=h[w];if(!(C[Pf]||C[fn]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var T=C.getAttribute(c)||"";T=o+T;var P=p.get(T);P?P.push(C):p.set(T,[C])}}return p}function K4(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function gW(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function G4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function pW(o,c,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=Wu(p.href),C=c.querySelector(bh(w));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Tg.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=C,Qr(C);return}C=c.ownerDocument||c,p=$4(p),(w=ts.get(w))&&uw(p,w),C=C.createElement("link"),Qr(C);var T=C;T._p=new Promise(function(P,K){T.onload=P,T.onerror=K}),pn(C,"link",p),h.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=Tg.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var fw=0;function yW(o,c){return o.stylesheets&&o.count===0&&Og(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var p=setTimeout(function(){if(o.stylesheets&&Og(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+c);0<o.imgBytes&&fw===0&&(fw=62500*JG());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Og(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>fw?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function Tg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ig=null;function Og(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ig=new Map,c.forEach(xW,o),Ig=null,Tg.call(o))}function xW(o,c){if(!(c.state.loading&4)){var h=Ig.get(o);if(h)var p=h.get(null);else{h=new Map,Ig.set(o,h);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<w.length;C++){var T=w[C];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(h.set(T.dataset.precedence,T),p=T)}p&&h.set(null,p)}w=c.instance,T=w.getAttribute("data-precedence"),C=h.get(T)||p,C===p&&h.set(null,w),h.set(T,w),this.count++,p=Tg.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),C?C.parentNode.insertBefore(w,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),c.state.loading|=4}}var wh={$$typeof:_,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function bW(o,c,h,p,w,C,T,P,K){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pe(0),this.hiddenUpdates=pe(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=C,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function W4(o,c,h,p,w,C,T,P,K,oe,ye,Se){return o=new bW(o,c,h,T,K,oe,ye,Se,P),c=1,C===!0&&(c|=24),C=Sa(3,null,null,c),o.current=C,C.stateNode=o,c=Kv(),c.refCount++,o.pooledCache=c,c.refCount++,C.memoizedState={element:p,isDehydrated:h,cache:c},Yv(C),o}function V4(o){return o?(o=Nu,o):Nu}function Y4(o,c,h,p,w,C){w=V4(w),p.context===null?p.context=w:p.pendingContext=w,p=Uo(c),p.payload={element:h},C=C===void 0?null:C,C!==null&&(p.callback=C),h=Fo(o,p,c),h!==null&&(na(h,o,c),Zf(h,o,c))}function X4(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function hw(o,c){X4(o,c),(o=o.alternate)&&X4(o,c)}function J4(o){if(o.tag===13||o.tag===31){var c=Jl(o,67108864);c!==null&&na(c,o,67108864),hw(o,67108864)}}function Q4(o){if(o.tag===13||o.tag===31){var c=ja();c=lv(c);var h=Jl(o,c);h!==null&&na(h,o,c),hw(o,c)}}var Mg=!0;function vW(o,c,h,p){var w=H.T;H.T=null;var C=ee.p;try{ee.p=2,mw(o,c,h,p)}finally{ee.p=C,H.T=w}}function wW(o,c,h,p){var w=H.T;H.T=null;var C=ee.p;try{ee.p=8,mw(o,c,h,p)}finally{ee.p=C,H.T=w}}function mw(o,c,h,p){if(Mg){var w=gw(p);if(w===null)ew(o,c,p,Rg,h),e5(o,p);else if(SW(w,o,c,h,p))p.stopPropagation();else if(e5(o,p),c&4&&-1<kW.indexOf(o)){for(;w!==null;){var C=mu(w);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var T=Cs(C.pendingLanes);if(T!==0){var P=C;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var K=1<<31-_e(T);P.entanglements[1]|=K,T&=~K}ei(C),(It&6)===0&&(pg=Be()+500,gh(0))}}break;case 31:case 13:P=Jl(C,2),P!==null&&na(P,C,2),xg(),hw(C,2)}if(C=gw(p),C===null&&ew(o,c,p,Rg,h),C===w)break;w=C}w!==null&&p.stopPropagation()}else ew(o,c,p,null,h)}}function gw(o){return o=yv(o),pw(o)}var Rg=null;function pw(o){if(Rg=null,o=hu(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===31){if(o=u(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Rg=o,null}function Z4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case Sn:return 2;case dn:return 8;case ir:case I:return 32;case F:return 268435456;default:return 32}default:return 32}}var yw=!1,Xo=null,Jo=null,Qo=null,kh=new Map,Sh=new Map,Zo=[],kW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e5(o,c){switch(o){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":kh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(c.pointerId)}}function Ch(o,c,h,p,w,C){return o===null||o.nativeEvent!==C?(o={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:C,targetContainers:[w]},c!==null&&(c=mu(c),c!==null&&J4(c)),o):(o.eventSystemFlags|=p,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function SW(o,c,h,p,w){switch(c){case"focusin":return Xo=Ch(Xo,o,c,h,p,w),!0;case"dragenter":return Jo=Ch(Jo,o,c,h,p,w),!0;case"mouseover":return Qo=Ch(Qo,o,c,h,p,w),!0;case"pointerover":var C=w.pointerId;return kh.set(C,Ch(kh.get(C)||null,o,c,h,p,w)),!0;case"gotpointercapture":return C=w.pointerId,Sh.set(C,Ch(Sh.get(C)||null,o,c,h,p,w)),!0}return!1}function t5(o){var c=hu(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,gA(o.priority,function(){Q4(h)});return}}else if(c===31){if(c=u(h),c!==null){o.blockedOn=c,gA(o.priority,function(){Q4(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Dg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=gw(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);pv=p,h.target.dispatchEvent(p),pv=null}else return c=mu(h),c!==null&&J4(c),o.blockedOn=h,!1;c.shift()}return!0}function r5(o,c,h){Dg(o)&&h.delete(c)}function CW(){yw=!1,Xo!==null&&Dg(Xo)&&(Xo=null),Jo!==null&&Dg(Jo)&&(Jo=null),Qo!==null&&Dg(Qo)&&(Qo=null),kh.forEach(r5),Sh.forEach(r5)}function Pg(o,c){o.blockedOn===c&&(o.blockedOn=null,yw||(yw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CW)))}var Lg=null;function n5(o){Lg!==o&&(Lg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Lg===o&&(Lg=null);for(var c=0;c<o.length;c+=3){var h=o[c],p=o[c+1],w=o[c+2];if(typeof p!="function"){if(pw(p||h)===null)continue;break}var C=mu(h);C!==null&&(o.splice(c,3),c-=3,g1(C,{pending:!0,data:w,method:h.method,action:p},p,w))}}))}function Yu(o){function c(K){return Pg(K,o)}Xo!==null&&Pg(Xo,o),Jo!==null&&Pg(Jo,o),Qo!==null&&Pg(Qo,o),kh.forEach(c),Sh.forEach(c);for(var h=0;h<Zo.length;h++){var p=Zo[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Zo.length&&(h=Zo[0],h.blockedOn===null);)t5(h),h.blockedOn===null&&Zo.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var w=h[p],C=h[p+1],T=w[Jn]||null;if(typeof C=="function")T||n5(h);else if(T){var P=null;if(C&&C.hasAttribute("formAction")){if(w=C,T=C[Jn]||null)P=T.formAction;else if(pw(w)!==null)continue}else P=T.action;typeof P=="function"?h[p+1]=P:(h.splice(p,3),p-=3),n5(h)}}}function a5(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(T){return w=T})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function xw(o){this._internalRoot=o}Ug.prototype.render=xw.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,p=ja();Y4(h,p,o,c,null,null)},Ug.prototype.unmount=xw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Y4(o.current,2,null,o,null,null),xg(),c[fu]=null}};function Ug(o){this._internalRoot=o}Ug.prototype.unstable_scheduleHydration=function(o){if(o){var c=mA();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Zo.length&&c!==0&&c<Zo[h].priority;h++);Zo.splice(h,0,o),h===0&&t5(o)}};var s5=t.version;if(s5!=="19.2.3")throw Error(n(527,s5,"19.2.3"));ee.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var NW={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{ve=Fg.inject(NW),fe=Fg}catch{}}return Eh.createRoot=function(o,c){if(!a(o))throw Error(n(299));var h=!1,p="",w=f3,C=h3,T=m3;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),c=W4(o,1,!1,null,null,h,p,null,w,C,T,a5),o[fu]=c.current,Z1(o),new xw(c)},Eh.hydrateRoot=function(o,c,h){if(!a(o))throw Error(n(299));var p=!1,w="",C=f3,T=h3,P=m3,K=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(T=h.onCaughtError),h.onRecoverableError!==void 0&&(P=h.onRecoverableError),h.formState!==void 0&&(K=h.formState)),c=W4(o,1,!0,c,h??null,p,w,K,C,T,P,a5),c.context=V4(null),h=c.current,p=ja(),p=lv(p),w=Uo(p),w.callback=null,Fo(h,w,p),h=p,c.current.lanes=h,et(c,h),ei(c),o[fu]=c.current,Z1(o),new Ug(c)},Eh.version="19.2.3",Eh}var g5;function PW(){if(g5)return ww.exports;g5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ww.exports=DW(),ww.exports}var LW=PW();const UW="msal.js.common",L8="https://login.microsoftonline.com/common/",FW="login.microsoftonline.com",U8="common",BW="adfs",zW="dstsv2",$W=`${L8}discovery/instance?api-version=1.1&authorization_endpoint=`,p5=".ciamlogin.com",HW=".onmicrosoft.com",VS="|",F8="openid",B8="profile",ZC="offline_access",qW="email",eN="S256",KW="application/x-www-form-urlencoded;charset=utf-8",_h="Not Available",YS="/",y5="http://169.254.169.254/metadata/instance/compute/location",GW="2020-06-01",WW=2e3,VW="TryAutoDetect",YW="login.microsoft.com",XW=["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],x5=240,JW="invalid_instance",b5=200,QW=400,v5=400,ZW=499,eV=500,tV=599,wd={GET:"GET",POST:"POST"},af=[F8,B8,ZC],w5=[...af,qW],Kn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},k5={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},vl={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Bg={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},la={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},tN={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},rN={QUERY:"query",FRAGMENT:"fragment"},z8={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},rV="MSSTS",nV="ADFS",$8="Generic",H8="-",XS=".",vn={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},nN="appmetadata",aV="client_info",Zp="1",JS="authority-metadata",sV=3600*24,js={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},S5=5,iV=330,oV=50,q8="server-telemetry",C5="|",Xu=",",lV="1",cV="0",uV="unknown_error",Ft={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},dV=60,fV=3600,K8="throttling",hV="retry-after, h429",mV="invalid_grant",gV="client_mismatch",Ju={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Nw={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},fc={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},pV={Pop:"pop"},G8=300;const Uc="client_id",W8="redirect_uri",yV="response_type",xV="response_mode",bV="grant_type",vV="claims",wV="scope",kV="refresh_token",SV="state",CV="nonce",NV="prompt",EV="code",_V="code_challenge",jV="code_challenge_method",AV="code_verifier",TV="client-request-id",IV="x-client-SKU",OV="x-client-VER",MV="x-client-OS",RV="x-client-CPU",DV="x-client-current-telemetry",PV="x-client-last-telemetry",LV="x-ms-lib-capability",UV="x-app-name",FV="x-app-ver",BV="post_logout_redirect_uri",zV="id_token_hint",$V="client_secret",HV="client_assertion",qV="client_assertion_type",V8="token_type",Y8="req_cnf",N5="return_spa_code",KV="nativebroker",GV="logout_hint",WV="sid",VV="login_hint",YV="domain_hint",XV="x-client-xtra-sku",ey="brk_client_id",ty="brk_redirect_uri",QS="instance_aware",JV="ear_jwk",QV="ear_jwe_crypto";function aN(e){return`See https://aka.ms/msal.js.errors#${e} for details`}class Yt extends Error{constructor(t,r,n){const a=r||(t?aN(t):""),s=a?`${t}: ${a}`:t;super(s),Object.setPrototypeOf(this,Yt.prototype),this.errorCode=t||"",this.errorMessage=a||"",this.subError=n||"",this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function ZS(e,t){return new Yt(e,t||aN(e))}class sN extends Yt{constructor(t){super(t),this.name="ClientConfigurationError",Object.setPrototypeOf(this,sN.prototype)}}function nr(e){return new sN(e)}class ms{static isEmptyObj(t){if(t)try{const r=JSON.parse(t);return Object.keys(r).length===0}catch{}return!0}static startsWith(t,r){return t.indexOf(r)===0}static endsWith(t,r){return t.length>=r.length&&t.lastIndexOf(r)===t.length-r.length}static queryStringToObject(t){const r={},n=t.split("&"),a=s=>decodeURIComponent(s.replace(/\+/g," "));return n.forEach(s=>{if(s.trim()){const[l,u]=s.split(/=(.+)/g,2);l&&u&&(r[a(l)]=a(u))}}),r}static trimArrayEntries(t){return t.map(r=>r.trim())}static removeEmptyStringsFromArray(t){return t.filter(r=>!!r)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,r){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}}class iN extends Yt{constructor(t,r){super(t,r),this.name="ClientAuthError",Object.setPrototypeOf(this,iN.prototype)}}function Oe(e,t){return new iN(e,t)}const ZV="redirect_uri_empty",eY="authority_uri_insecure",zg="url_parse_error",tY="empty_url_error",rY="empty_input_scopes_error",X8="invalid_claims",nY="token_request_empty",aY="logout_request_empty",J8="pkce_params_missing",Q8="invalid_cloud_discovery_metadata",sY="invalid_authority_metadata",iY="untrusted_authority",oN="missing_ssh_jwk",oY="missing_ssh_kid",lY="cannot_set_OIDCOptions",cY="cannot_allow_platform_broker",uY="authority_mismatch",dY="invalid_request_method_for_EAR";const Z8="client_info_decoding_error",fY="client_info_empty_error",e9="token_parsing_error",hY="null_or_empty_token",nl="endpoints_resolution_error",mY="network_error",gY="openid_config_error",pY="hash_not_deserialized",e0="invalid_state",yY="state_mismatch",E5="state_not_found",xY="nonce_mismatch",t9="auth_time_not_found",bY="max_age_transpired",vY="multiple_matching_appMetadata",wY="request_cannot_be_made",kY="cannot_remove_empty_scope",SY="cannot_append_scopeset",_5="empty_input_scopeset",r9="no_account_in_silent_request",CY="invalid_cache_record",n9="invalid_cache_environment",j5="no_account_found",a9="no_crypto_object",Ec="token_refresh_required",NY="token_claims_cnf_required_for_signedjwt",EY="authorization_code_missing_from_server_response",_Y="binding_key_not_removed",jY="end_session_endpoint_not_supported",s9="key_id_missing",mt="method_not_implemented";class On{constructor(t){const r=t?ms.trimArrayEntries([...t]):[],n=r?ms.removeEmptyStringsFromArray(r):[];if(!n||!n.length)throw nr(rY);this.scopes=new Set,n.forEach(a=>this.scopes.add(a))}static fromString(t){const n=(t||"").split(" ");return new On(n)}static createSearchScopes(t){const r=t&&t.length>0?t:[...af],n=new On(r);return n.containsOnlyOIDCScopes()?n.removeScope(ZC):n.removeOIDCScopes(),n}containsScope(t){const r=this.printScopesLowerCase().split(" "),n=new On(r);return t?n.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let t=0;return w5.forEach(r=>{this.containsScope(r)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(r=>this.appendScope(r))}catch{throw Oe(SY)}}removeScope(t){if(!t)throw Oe(kY);this.scopes.delete(t.trim())}removeOIDCScopes(){w5.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw Oe(_5);const r=new Set;return t.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(t){if(!t)throw Oe(_5);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const r=this.unionScopeSets(t),n=t.getScopeCount(),a=this.getScopeCount();return r.size<a+n}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(r=>t.push(r)),t}printScopes(){return this.scopes?this.asArray().join(" "):""}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Tx(e,t,r){if(!t)return;const n=e.get(Uc);n&&e.has(ey)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(W8)},t)}function lN(e,t){e.set(yV,t)}function AY(e,t){e.set(xV,t||rN.QUERY)}function TY(e){e.set(KV,"1")}function cN(e,t,r=!0,n=af){r&&!n.includes("openid")&&!t.includes("openid")&&n.push("openid");const a=r?[...t||[],...n]:t||[],s=new On(a);e.set(wV,s.printScopes())}function uN(e,t){e.set(Uc,t)}function dN(e,t){e.set(W8,t)}function IY(e,t){e.set(BV,t)}function OY(e,t){e.set(zV,t)}function MY(e,t){e.set(YV,t)}function $g(e,t){e.set(VV,t)}function ry(e,t){e.set(Kn.CCS_HEADER,`UPN:${t}`)}function Gh(e,t){e.set(Kn.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function A5(e,t){e.set(WV,t)}function fN(e,t,r){const n=FY(t,r);try{JSON.parse(n)}catch{throw nr(X8)}e.set(vV,n)}function hN(e,t){e.set(TV,t)}function mN(e,t){e.set(IV,t.sku),e.set(OV,t.version),t.os&&e.set(MV,t.os),t.cpu&&e.set(RV,t.cpu)}function gN(e,t){t?.appName&&e.set(UV,t.appName),t?.appVersion&&e.set(FV,t.appVersion)}function RY(e,t){e.set(NV,t)}function i9(e,t){t&&e.set(SV,t)}function DY(e,t){e.set(CV,t)}function pN(e,t,r){if(t&&r)e.set(_V,t),e.set(jV,r);else throw nr(J8)}function PY(e,t){e.set(EV,t)}function LY(e,t){e.set(kV,t)}function UY(e,t){e.set(AV,t)}function o9(e,t){e.set($V,t)}function l9(e,t){t&&e.set(HV,t)}function c9(e,t){t&&e.set(qV,t)}function u9(e,t){e.set(bV,t)}function yN(e){e.set(aV,"1")}function d9(e){e.has(QS)||e.set(QS,"true")}function fi(e,t){Object.entries(t).forEach(([r,n])=>{!e.has(r)&&n&&e.set(r,n)})}function FY(e,t){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw nr(X8)}return t&&t.length>0&&(r.hasOwnProperty(Bg.ACCESS_TOKEN)||(r[Bg.ACCESS_TOKEN]={}),r[Bg.ACCESS_TOKEN][Bg.XMS_CC]={values:t}),JSON.stringify(r)}function xN(e,t){t&&(e.set(V8,Ft.POP),e.set(Y8,t))}function f9(e,t){t&&(e.set(V8,Ft.SSH),e.set(Y8,t))}function h9(e,t){e.set(DV,t.generateCurrentRequestHeaderValue()),e.set(PV,t.generateLastRequestHeaderValue())}function m9(e){e.set(LV,hV)}function BY(e,t){e.set(GV,t)}function Ix(e,t,r){e.has(ey)||e.set(ey,t),e.has(ty)||e.set(ty,r)}function zY(e,t){e.set(JV,encodeURIComponent(t)),e.set(QV,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function T5(e){if(!e)return e;let t=e.toLowerCase();return ms.endsWith(t,"?")?t=t.slice(0,-1):ms.endsWith(t,"?/")&&(t=t.slice(0,-2)),ms.endsWith(t,"/")||(t+="/"),t}function g9(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function ny(e){if(!e||e.indexOf("=")<0)return null;try{const t=g9(e),r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.ear_jwe||r.error||r.error_description||r.state)return r}catch{throw Oe(pY)}return null}function t0(e){const t=new Array;return e.forEach((r,n)=>{t.push(`${n}=${encodeURIComponent(r)}`)}),t.join("&")}function I5(e){if(!e)return e;const t=e.split("#")[0];try{const r=new URL(t),n=r.origin+r.pathname+r.search;return T5(n)}catch{return T5(t)}}const ay={createNewGuid:()=>{throw Oe(mt)},base64Decode:()=>{throw Oe(mt)},base64Encode:()=>{throw Oe(mt)},base64UrlEncode:()=>{throw Oe(mt)},encodeKid:()=>{throw Oe(mt)},async getPublicKeyThumbprint(){throw Oe(mt)},async removeTokenBindingKey(){throw Oe(mt)},async clearKeystore(){throw Oe(mt)},async signJwt(){throw Oe(mt)},async hashString(){throw Oe(mt)}};var gr;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"})(gr||(gr={}));const $Y=50,HY=500,pc=new Map;function qY(e,t){pc.delete(e),pc.set(e,t)}function KY(e,t){const r=Date.now();let n=pc.get(e);if(n)qY(e,n);else if(n={logs:[],firstEventTime:r},pc.set(e,n),pc.size>$Y){const a=pc.keys().next().value;a&&pc.delete(a)}n.logs.push({...t,milliseconds:r-n.firstEventTime}),n.logs.length>HY&&n.logs.shift()}function GY(e){if(e.length!==6)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!(r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9"))return!1}return!0}class $s{constructor(t,r,n){this.level=gr.Info;const a=()=>{},s=t||$s.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||a,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:gr.Info,this.packageName=r||"",this.packageVersion=n||""}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:gr.Info}}clone(t,r){return new $s({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level},t,r)}logMessage(t,r){const n=r.correlationId;if(GY(t)){const d={hash:t,level:r.logLevel,containsPii:r.containsPii||!1,milliseconds:0};KY(n,d)}if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;const u=`${`[${new Date().toUTCString()}] : [${n}]`} : ${this.packageName}@${this.packageVersion} : ${gr[r.logLevel]} - ${t}`;this.executeCallback(r.logLevel,u,r.containsPii||!1)}executeCallback(t,r,n){this.localCallback&&this.localCallback(t,r,n)}error(t,r){this.logMessage(t,{logLevel:gr.Error,containsPii:!1,correlationId:r})}errorPii(t,r){this.logMessage(t,{logLevel:gr.Error,containsPii:!0,correlationId:r})}warning(t,r){this.logMessage(t,{logLevel:gr.Warning,containsPii:!1,correlationId:r})}warningPii(t,r){this.logMessage(t,{logLevel:gr.Warning,containsPii:!0,correlationId:r})}info(t,r){this.logMessage(t,{logLevel:gr.Info,containsPii:!1,correlationId:r})}infoPii(t,r){this.logMessage(t,{logLevel:gr.Info,containsPii:!0,correlationId:r})}verbose(t,r){this.logMessage(t,{logLevel:gr.Verbose,containsPii:!1,correlationId:r})}verbosePii(t,r){this.logMessage(t,{logLevel:gr.Verbose,containsPii:!0,correlationId:r})}trace(t,r){this.logMessage(t,{logLevel:gr.Trace,containsPii:!1,correlationId:r})}tracePii(t,r){this.logMessage(t,{logLevel:gr.Trace,containsPii:!0,correlationId:r})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Ox="@azure/msal-common",O0="16.0.2";const bN={None:"none"};function O5(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Mx(e,t,r,n){if(n){const{oid:a,sub:s,tid:l,name:u,tfp:d,acr:f,preferred_username:m,upn:g,login_hint:y}=n,b=l||d||f||"";return{tenantId:b,localAccountId:a||s||"",name:u,username:m||g||"",loginHint:y,isHomeTenant:O5(b,e)}}else return{tenantId:r,localAccountId:t,username:"",isHomeTenant:O5(r,e)}}function vN(e,t,r,n){let a=e;if(t){const{isHomeTenant:s,...l}=t;a={...e,...l}}if(r){const{isHomeTenant:s,...l}=Mx(e.homeAccountId,e.localAccountId,e.tenantId,r);return a={...a,...l,idTokenClaims:r,idToken:n},a}return a}function Xi(e,t){const r=WY(e);try{const n=t(r);return JSON.parse(n)}catch{throw Oe(e9)}}function _c(e){if(!e.signin_state)return!1;const t=["kmsi","dvc_dmjd"];return e.signin_state.some(r=>t.includes(r.trim().toLowerCase()))}function WY(e){if(!e)throw Oe(hY);const r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!r||r.length<4)throw Oe(e9);return r[2]}function p9(e,t){if(t===0||Date.now()-3e5>e+t)throw Oe(bY)}class Ot{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw nr(tY);t.includes("#")||(this._urlString=Ot.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let r=t.toLowerCase();return ms.endsWith(r,"?")?r=r.slice(0,-1):ms.endsWith(r,"?/")&&(r=r.slice(0,-2)),ms.endsWith(r,"/")||(r+="/"),r}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw nr(zg)}if(!t.HostNameAndPort||!t.PathSegments)throw nr(zg);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw nr(eY)}static appendQueryString(t,r){return r?t.indexOf("?")<0?`${t}?${r}`:`${t}&${r}`:t}static removeHashFromUrl(t){return Ot.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const r=this.getUrlComponents(),n=r.PathSegments;return t&&n.length!==0&&(n[0]===vl.COMMON||n[0]===vl.ORGANIZATIONS)&&(n[0]=t),Ot.constructAuthorityUriFromObject(r)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(t);if(!r)throw nr(zg);const n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]};let a=n.AbsolutePath.split("/");return a=a.filter(s=>s&&s.length>0),n.PathSegments=a,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(t){const r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=t.match(r);if(!n)throw nr(zg);return n[2]}static getAbsoluteUrl(t,r){if(t[0]===YS){const a=new Ot(r).getUrlComponents();return a.Protocol+"//"+a.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Ot(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}}const VY=[{host:"login.microsoftonline.com"},{host:"login.chinacloudapi.cn",issuerHost:"login.partner.microsoftonline.cn"},{host:"login.microsoftonline.us"},{host:"login.sovcloud-identity.fr"},{host:"login.sovcloud-identity.de"},{host:"login.sovcloud-identity.sg"}];function YY(e,t){return{token_endpoint:`https://${e}/{tenantid}/oauth2/v2.0/token`,jwks_uri:`https://${e}/{tenantid}/discovery/v2.0/keys`,issuer:`https://${t}/{tenantid}/v2.0`,authorization_endpoint:`https://${e}/{tenantid}/oauth2/v2.0/authorize`,end_session_endpoint:`https://${e}/{tenantid}/oauth2/v2.0/logout`}}const XY=VY.reduce((e,{host:t,issuerHost:r})=>(e[t]=YY(t,r||t),e),{}),y9={endpointMetadata:XY,instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},M5=y9.endpointMetadata,wN=y9.instanceDiscoveryMetadata,x9=new Set;wN.metadata.forEach(e=>{e.aliases.forEach(t=>{x9.add(t)})});function JY(e,t,r){let n;const a=e.canonicalAuthority;if(a){const s=new Ot(a).getUrlComponents().HostNameAndPort;n=R5(t,r,s,e.cloudDiscoveryMetadata?.metadata)||R5(t,r,s,wN.metadata)||e.knownAuthorities}return n||[]}function R5(e,t,r,n,a){if(e.trace("1bmquz",t),r&&n){const s=sy(n,r);if(s)return e.trace("1fotbt",t),s.aliases;e.trace("14avvj",t)}return null}function QY(e){return sy(wN.metadata,e)}function sy(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(n.aliases.includes(t))return n}return null}const e2="cache_quota_exceeded",ZY="cache_error_unknown";class kd extends Error{constructor(t,r){const n=r||aN(t);super(n),Object.setPrototypeOf(this,kd.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=n}}function t2(e){return e instanceof Error?e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"||e.message.includes("exceeded the quota")?new kd(e2):new kd(e.name,e.message):new kd(ZY)}function iy(e,t){if(!e)throw Oe(fY);try{const r=t(e);return JSON.parse(r)}catch{throw Oe(Z8)}}function Sd(e){if(!e)throw Oe(Z8);const t=e.split(XS,2);return{uid:t[0],utid:t.length<2?"":t[1]}}const Os={Default:0,Adfs:1,Dsts:2,Ciam:3};function kN(e){return e&&(e.tid||e.tfp||e.acr)||null}const fa={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};function jl(e){return{homeAccountId:e.homeAccountId,environment:e.environment,tenantId:e.realm,username:e.username,localAccountId:e.localAccountId,loginHint:e.loginHint,name:e.name,nativeAccountId:e.nativeAccountId,authorityType:e.authorityType,tenantProfiles:new Map((e.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:e.dataBoundary}}function eX(e,t,r){let n;t.authorityType===Os.Adfs?n=nV:t.protocolMode===fa.OIDC?n=$8:n=rV;let a,s;e.clientInfo&&r&&(a=iy(e.clientInfo,r),a.xms_tdbr&&(s=a.xms_tdbr==="EU"?"EU":"None"));const l=e.environment||t&&t.getPreferredCache();if(!l)throw Oe(n9);const u=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,d=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null,f=u||d||"",m=e.idTokenClaims?.login_hint,g=a?.utid||kN(e.idTokenClaims)||"",y=a?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let b;return e.tenantProfiles?b=e.tenantProfiles:b=[Mx(e.homeAccountId,y,g,e.idTokenClaims)],{homeAccountId:e.homeAccountId,environment:l,realm:g,localAccountId:y,username:f,authorityType:n,loginHint:m,clientInfo:e.clientInfo,name:e.idTokenClaims?.name||"",lastModificationTime:void 0,lastModificationApp:void 0,cloudGraphHostName:e.cloudGraphHostName,msGraphHost:e.msGraphHost,nativeAccountId:e.nativeAccountId,tenantProfiles:b,dataBoundary:s}}function tX(e,t,r){return{authorityType:e.authorityType||$8,homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,nativeAccountId:e.nativeAccountId,realm:e.tenantId,environment:e.environment,username:e.username,loginHint:e.loginHint,name:e.name,cloudGraphHostName:t,msGraphHost:r,tenantProfiles:Array.from(e.tenantProfiles?.values()||[]),dataBoundary:e.dataBoundary}}function b9(e,t,r,n,a,s){if(!(t===Os.Adfs||t===Os.Dsts)){if(e)try{const l=iy(e,n.base64Decode);if(l.uid&&l.utid)return`${l.uid}.${l.utid}`}catch{}r.warning("1ub6wv",a)}return s?.sub||""}function rX(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}class r2{constructor(t,r,n,a,s){this.clientId=t,this.cryptoImpl=r,this.commonLogger=n.clone(Ox,O0),this.staticAuthorityOptions=s,this.performanceClient=a}getAllAccounts(t={},r){return this.buildTenantProfiles(this.getAccountsFilteredBy(t,r),r,t)}getAccountInfoFilteredBy(t,r){const n=this.getAllAccounts(t,r);return n.length>1?n.sort(s=>s.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(t,r){const n=this.getAccountsFilteredBy(t,r);return n.length>0?jl(n[0]):null}buildTenantProfiles(t,r,n){return t.flatMap(a=>this.getTenantProfilesFromAccountEntity(a,r,n?.tenantId,n))}getTenantedAccountInfoByFilter(t,r,n,a,s){let l=null,u;if(s&&!this.tenantProfileMatchesFilter(n,s))return null;const d=this.getIdToken(t,a,r,n.tenantId);return d&&(u=Xi(d.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(u,s))?null:(l=vN(t,n,u,d?.secret),l)}getTenantProfilesFromAccountEntity(t,r,n,a){const s=jl(t);let l=s.tenantProfiles||new Map;const u=this.getTokenKeys();if(n){const f=l.get(n);if(f)l=new Map([[n,f]]);else return[]}const d=[];return l.forEach(f=>{const m=this.getTenantedAccountInfoByFilter(s,u,f,r,a);m&&d.push(m)}),d}tenantProfileMatchesFilter(t,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,r.localAccountId)||r.name&&t.name!==r.name||r.isHomeTenant!==void 0&&t.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(t,r.loginHint)||r.username&&!this.matchUsername(t.preferred_username,r.username)||r.name&&!this.matchName(t,r.name)||r.sid&&!this.matchSid(t,r.sid)))}async saveCacheRecord(t,r,n,a){if(!t)throw Oe(CY);try{t.account&&await this.setAccount(t.account,r,n),t.idToken&&a?.idToken!==!1&&await this.setIdTokenCredential(t.idToken,r,n),t.accessToken&&a?.accessToken!==!1&&await this.saveAccessToken(t.accessToken,r,n),t.refreshToken&&a?.refreshToken!==!1&&await this.setRefreshTokenCredential(t.refreshToken,r,n),t.appMetadata&&this.setAppMetadata(t.appMetadata,r)}catch(s){throw this.commonLogger?.error("0j476p",r),s instanceof Yt?s:t2(s)}}async saveAccessToken(t,r,n){const a={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType},s=this.getTokenKeys(),l=On.fromString(t.target);s.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,a,!1))return;const d=this.getAccessTokenCredential(u,r);d&&this.credentialMatchesFilter(d,a,r)&&On.fromString(d.target).intersectingScopeSets(l)&&this.removeAccessToken(u,r)}),await this.setAccessTokenCredential(t,r,n)}getAccountsFilteredBy(t,r){const n=this.getAccountKeys(),a=[];return n.forEach(s=>{const l=this.getAccount(s,r);if(!l||t.homeAccountId&&!this.matchHomeAccountId(l,t.homeAccountId)||t.username&&!this.matchUsername(l.username,t.username)||t.environment&&!this.matchEnvironment(l,t.environment,r)||t.realm&&!this.matchRealm(l,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(l,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(l,t.authorityType))return;const u={localAccountId:t?.localAccountId,name:t?.name},d=l.tenantProfiles?.filter(f=>this.tenantProfileMatchesFilter(f,u));d&&d.length===0||a.push(l)}),a}credentialMatchesFilter(t,r,n){return!(r.clientId&&!this.matchClientId(t,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(t,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(t,r.homeAccountId)||r.environment&&!this.matchEnvironment(t,r.environment,n)||r.realm&&!this.matchRealm(t,r.realm)||r.credentialType&&!this.matchCredentialType(t,r.credentialType)||r.familyId&&!this.matchFamilyId(t,r.familyId)||r.target&&!this.matchTarget(t,r.target)||t.credentialType===vn.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(t,r.tokenType)||r.tokenType===Ft.SSH&&r.keyId&&!this.matchKeyId(t,r.keyId)))}getAppMetadataFilteredBy(t,r){const n=this.getKeys(),a={};return n.forEach(s=>{if(!this.isAppMetadata(s))return;const l=this.getAppMetadata(s,r);l&&(t.environment&&!this.matchEnvironment(l,t.environment,r)||t.clientId&&!this.matchClientId(l,t.clientId)||(a[s]=l))}),a}getAuthorityMetadataByAlias(t,r){const n=this.getAuthorityMetadataKeys();let a=null;return n.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const l=this.getAuthorityMetadata(s,r);l&&l.aliases.indexOf(t)!==-1&&(a=l)}),a}removeAllAccounts(t){this.getAllAccounts({},t).forEach(n=>{this.removeAccount(n,t)})}removeAccount(t,r){this.removeAccountContext(t,r);const n=this.getAccountKeys(),a=s=>s.includes(t.homeAccountId)&&s.includes(t.environment);n.filter(a).forEach(s=>{this.removeItem(s,r),this.performanceClient.incrementFields({accountsRemoved:1},r)})}removeAccountContext(t,r){const n=this.getTokenKeys(),a=s=>s.includes(t.homeAccountId)&&s.includes(t.environment);n.idToken.filter(a).forEach(s=>{this.removeIdToken(s,r)}),n.accessToken.filter(a).forEach(s=>{this.removeAccessToken(s,r)}),n.refreshToken.filter(a).forEach(s=>{this.removeRefreshToken(s,r)})}removeAccessToken(t,r){const n=this.getAccessTokenCredential(t,r);if(n&&(this.removeItem(t,r),this.performanceClient.incrementFields({accessTokensRemoved:1},r),n.credentialType.toLowerCase()===vn.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===Ft.POP)){const s=n.keyId;s&&this.cryptoImpl.removeTokenBindingKey(s,r).catch(()=>{this.commonLogger.error("0cx291",r),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},r)})}}removeAppMetadata(t){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n,t)}),!0}getIdToken(t,r,n,a){this.commonLogger.trace("1drz22",r);const s={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:vn.ID_TOKEN,clientId:this.clientId,realm:a},l=this.getIdTokensByFilter(s,r,n),u=l.size;if(u<1)return this.commonLogger.info("1atvtd",r),null;if(u>1){let d=l;if(!a){const f=new Map;l.forEach((g,y)=>{g.realm===t.tenantId&&f.set(y,g)});const m=f.size;if(m<1)return this.commonLogger.info("0ooalx",r),l.values().next().value;if(m===1)return this.commonLogger.info("1eq2vc",r),f.values().next().value;d=f}return this.commonLogger.info("1ws328",r),d.forEach((f,m)=>{this.removeIdToken(m,r)}),this.performanceClient.addFields({multiMatchedID:l.size},r),null}return this.commonLogger.info("1sm769",r),l.values().next().value}getIdTokensByFilter(t,r,n){const a=n&&n.idToken||this.getTokenKeys().idToken,s=new Map;return a.forEach(l=>{if(!this.idTokenKeyMatchesFilter(l,{clientId:this.clientId,...t}))return;const u=this.getIdTokenCredential(l,r);u&&this.credentialMatchesFilter(u,t,r)&&s.set(l,u)}),s}idTokenKeyMatchesFilter(t,r){const n=t.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(t,r){this.removeItem(t,r)}removeRefreshToken(t,r){this.removeItem(t,r)}getAccessToken(t,r,n,a){const s=r.correlationId;this.commonLogger.trace("1t7hz1",s);const l=On.createSearchScopes(r.scopes),u=r.authenticationScheme||Ft.BEARER,d=u.toLowerCase()!==Ft.BEARER.toLowerCase()?vn.ACCESS_TOKEN_WITH_AUTH_SCHEME:vn.ACCESS_TOKEN,f={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:d,clientId:this.clientId,realm:a||t.tenantId,target:l,tokenType:u,keyId:r.sshKid},m=n&&n.accessToken||this.getTokenKeys().accessToken,g=[];m.forEach(b=>{if(this.accessTokenKeyMatchesFilter(b,f,!0)){const v=this.getAccessTokenCredential(b,s);v&&this.credentialMatchesFilter(v,f,s)&&g.push(v)}});const y=g.length;return y<1?(this.commonLogger.info("1nckna",s),null):y>1?(this.commonLogger.info("1wkfwp",s),g.forEach(b=>{this.removeAccessToken(this.generateCredentialKey(b),s)}),this.performanceClient.addFields({multiMatchedAT:g.length},s),null):(this.commonLogger.info("06yt98",s),g[0])}accessTokenKeyMatchesFilter(t,r,n){const a=t.toLowerCase();if(r.clientId&&a.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&a.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&a.indexOf(r.realm.toLowerCase())===-1)return!1;if(r.target){const s=r.target.asArray();for(let l=0;l<s.length;l++){if(n&&!a.includes(s[l].toLowerCase()))return!1;if(!n&&a.includes(s[l].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,r){const n=this.getTokenKeys(),a=[];return n.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,t,!0))return;const l=this.getAccessTokenCredential(s,r);l&&this.credentialMatchesFilter(l,t,r)&&a.push(l)}),a}getRefreshToken(t,r,n,a){this.commonLogger.trace("0x53vi",n);const s=r?Zp:void 0,l={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:vn.REFRESH_TOKEN,clientId:this.clientId,familyId:s},u=a&&a.refreshToken||this.getTokenKeys().refreshToken,d=[];u.forEach(m=>{if(this.refreshTokenKeyMatchesFilter(m,l)){const g=this.getRefreshTokenCredential(m,n);g&&this.credentialMatchesFilter(g,l,n)&&d.push(g)}});const f=d.length;return f<1?(this.commonLogger.info("0dlw11",n),null):(f>1&&this.performanceClient.addFields({multiMatchedRT:f},n),this.commonLogger.info("0wcnep",n),d[0])}refreshTokenKeyMatchesFilter(t,r){const n=t.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t,r){const n={environment:t,clientId:this.clientId},a=this.getAppMetadataFilteredBy(n,r),s=Object.keys(a).map(u=>a[u]),l=s.length;if(l<1)return null;if(l>1)throw Oe(vY);return s[0]}isAppMetadataFOCI(t,r){const n=this.readAppMetadataFromCache(t,r);return!!(n&&n.familyId===Zp)}matchHomeAccountId(t,r){return typeof t.homeAccountId=="string"&&r===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,r){const n=t.oid||t.sub;return r===n}matchLocalAccountIdFromTenantProfile(t,r){return t.localAccountId===r}matchName(t,r){return r.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,r){return!!(t&&typeof t=="string"&&r?.toLowerCase()===t.toLowerCase())}matchUserAssertionHash(t,r){return!!(t.userAssertionHash&&r===t.userAssertionHash)}matchEnvironment(t,r,n){if(this.staticAuthorityOptions){const s=JY(this.staticAuthorityOptions,this.commonLogger,n);if(s.includes(r)&&s.includes(t.environment))return!0}const a=this.getAuthorityMetadataByAlias(r,n);return!!(a&&a.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,r){return t.credentialType&&r.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,r){return!!(t.clientId&&r===t.clientId)}matchFamilyId(t,r){return!!(t.familyId&&r===t.familyId)}matchRealm(t,r){return t.realm?.toLowerCase()===r.toLowerCase()}matchNativeAccountId(t,r){return!!(t.nativeAccountId&&r===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,r){return t.login_hint===r||t.preferred_username===r||t.upn===r}matchSid(t,r){return t.sid===r}matchAuthorityType(t,r){return!!(t.authorityType&&r.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,r){return t.credentialType!==vn.ACCESS_TOKEN&&t.credentialType!==vn.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:On.fromString(t.target).containsScopeSet(r)}matchTokenType(t,r){return!!(t.tokenType&&t.tokenType===r)}matchKeyId(t,r){return!!(t.keyId&&t.keyId===r)}isAppMetadata(t){return t.indexOf(nN)!==-1}isAuthorityMetadata(t){return t.indexOf(JS)!==-1}generateAuthorityMetadataCacheKey(t){return`${JS}-${this.clientId}-${t}`}static toObject(t,r){for(const n in r)t[n]=r[n];return t}}class nX extends r2{async setAccount(){throw Oe(mt)}getAccount(){throw Oe(mt)}async setIdTokenCredential(){throw Oe(mt)}getIdTokenCredential(){throw Oe(mt)}async setAccessTokenCredential(){throw Oe(mt)}getAccessTokenCredential(){throw Oe(mt)}async setRefreshTokenCredential(){throw Oe(mt)}getRefreshTokenCredential(){throw Oe(mt)}setAppMetadata(){throw Oe(mt)}getAppMetadata(){throw Oe(mt)}setServerTelemetry(){throw Oe(mt)}getServerTelemetry(){throw Oe(mt)}setAuthorityMetadata(){throw Oe(mt)}getAuthorityMetadata(){throw Oe(mt)}getAuthorityMetadataKeys(){throw Oe(mt)}setThrottlingCache(){throw Oe(mt)}getThrottlingCache(){throw Oe(mt)}removeItem(){throw Oe(mt)}getKeys(){throw Oe(mt)}getAccountKeys(){throw Oe(mt)}getTokenKeys(){throw Oe(mt)}generateCredentialKey(){throw Oe(mt)}generateAccountKey(){throw Oe(mt)}}const aX={InProgress:1};class v9{generateId(){return"callback-id"}startMeasurement(t,r){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:aX.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:r||""}}}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const w9={tokenRenewalOffsetSeconds:G8,preventCorsPreflight:!1},sX={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:gr.Info,correlationId:""},iX={async sendGetRequestAsync(){throw Oe(mt)},async sendPostRequestAsync(){throw Oe(mt)}},oX={sku:UW,version:O0,cpu:"",os:""},lX={clientSecret:"",clientAssertion:void 0},cX={azureCloudInstance:bN.None,tenant:`${U8}`},uX={application:{appName:"",appVersion:""}};function SN({authOptions:e,systemOptions:t,loggerOptions:r,storageInterface:n,networkInterface:a,cryptoInterface:s,clientCredentials:l,libraryInfo:u,telemetry:d,serverTelemetryManager:f,persistencePlugin:m,serializableCache:g}){const y={...sX,...r};return{authOptions:dX(e),systemOptions:{...w9,...t},loggerOptions:y,storageInterface:n||new nX(e.clientId,ay,new $s(y),new v9),networkInterface:a||iX,cryptoInterface:s||ay,clientCredentials:l||lX,libraryInfo:{...oX,...u},telemetry:{...uX,...d},serverTelemetryManager:f||null,persistencePlugin:m||null,serializableCache:g||null}}function dX(e){return{clientCapabilities:[],azureCloudOptions:cX,instanceAware:!1,...e}}function k9(e){return e.authOptions.authority.options.protocolMode===fa.OIDC}class su extends Yt{constructor(t,r,n,a,s){super(t,r,n),this.name="ServerError",this.errorNo=a,this.status=s,Object.setPrototypeOf(this,su.prototype)}}const n2="no_tokens_found",fX="native_account_unavailable",S9="refresh_token_expired",C9="ux_not_allowed",hX="interaction_required",mX="consent_required",gX="login_required",CN="bad_token";const D5=[hX,mX,gX,CN,C9],pX=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token","ux_not_allowed"];class Hs extends Yt{constructor(t,r,n,a,s,l,u,d){super(t,r,n),Object.setPrototypeOf(this,Hs.prototype),this.timestamp=a||"",this.traceId=s||"",this.correlationId=l||"",this.claims=u||"",this.name="InteractionRequiredAuthError",this.errorNo=d}}function N9(e,t,r){const n=!!e&&D5.indexOf(e)>-1,a=!!r&&pX.indexOf(r)>-1,s=!!t&&D5.some(l=>t.indexOf(l)>-1);return n||s||a}function oy(e,t){return new Hs(e,t)}function yX(e,t,r){const n=xX(e,r);return t?`${n}${VS}${t}`:n}function xX(e,t){if(!e)throw Oe(a9);const r={id:e.createNewGuid()};t&&(r.meta=t);const n=JSON.stringify(r);return e.base64Encode(n)}function M0(e,t){if(!e)throw Oe(a9);if(!t)throw Oe(e0);try{const r=t.split(VS),n=r[0],a=r.length>1?r.slice(1).join(VS):"",s=e(n),l=JSON.parse(s);return{userRequestState:a||"",libraryState:l}}catch{throw Oe(e0)}}function qs(){return Math.round(new Date().getTime()/1e3)}function P5(e){return e.getTime()/1e3}function Np(e){return e?new Date(Number(e)*1e3):new Date}function ly(e,t){const r=Number(e)||0;return qs()+t>r}function L5(e,t){const r=Number(e)+t*24*60*60*1e3;return Date.now()>r}function bX(e){return Number(e)>qs()}const vX="networkClientSendPostRequestAsync",wX="refreshTokenClientExecutePostToTokenEndpoint",kX="authorizationCodeClientExecutePostToTokenEndpoint",SX="refreshTokenClientExecuteTokenRequest",CX="refreshTokenClientAcquireToken",Ew="refreshTokenClientAcquireTokenWithCachedRefreshToken",NX="refreshTokenClientCreateTokenRequestBody",EX="silentFlowClientGenerateResultFromCacheRecord",NN="getAuthCodeUrl",E9="handleCodeResponseFromServer",_X="authClientExecuteTokenRequest",jX="authClientCreateTokenRequestBody",AX="updateTokenEndpointAuthority",R0="popTokenGenerateCnf",EN="handleServerTokenResponse",TX="authorityResolveEndpointsAsync",IX="authorityGetCloudDiscoveryMetadataFromNetwork",OX="authorityUpdateCloudDiscoveryMetadata",MX="authorityGetEndpointMetadataFromNetwork",RX="authorityUpdateEndpointMetadata",U5="authorityUpdateMetadataWithRegionalInformation",DX="regionDiscoveryDetectRegion",F5="regionDiscoveryGetRegionFromIMDS",PX="regionDiscoveryGetCurrentVersion",LX="cacheManagerGetRefreshToken",UX="setUserData";const Fs=(e,t,r,n,a)=>(...s)=>{r.trace("1plfzx",a);const l=n.startMeasurement(t,a);if(a){const u=t+"CallCount";n.incrementFields({[u]:1},a)}try{const u=e(...s);return l.end({success:!0}),r.trace("1g8n6a",a),u}catch(u){r.trace("0cfd8i",a);try{r.trace(JSON.stringify(u),a)}catch{r.trace("00dty7",a)}throw l.end({success:!1},u),u}},be=(e,t,r,n,a)=>(...s)=>{r.trace("1plfzx",a);const l=n.startMeasurement(t,a);if(a){const u=t+"CallCount";n.incrementFields({[u]:1},a)}return e(...s).then(u=>(r.trace("1g8n6a",a),l.end({success:!0}),u)).catch(u=>{r.trace("0cfd8i",a);try{r.trace(JSON.stringify(u),a)}catch{r.trace("00dty7",a)}throw l.end({success:!1},u),u})};const FX={SW:"sw"};class Rd{constructor(t,r){this.cryptoUtils=t,this.performanceClient=r}async generateCnf(t,r){const n=await be(this.generateKid.bind(this),R0,r,this.performanceClient,t.correlationId)(t),a=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:a}}async generateKid(t){return{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:FX.SW}}async signPopToken(t,r,n){return this.signPayload(t,r,n)}async signPayload(t,r,n,a){const{resourceRequestMethod:s,resourceRequestUri:l,shrClaims:u,shrNonce:d,shrOptions:f}=n,g=(l?new Ot(l):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:qs(),m:s?.toUpperCase(),u:g?.HostNameAndPort,nonce:d||this.cryptoUtils.createNewGuid(),p:g?.AbsolutePath,q:g?.QueryString?[[],g.QueryString]:void 0,client_claims:u||void 0,...a},r,f,n.correlationId)}}class BX{constructor(t,r){this.cache=t,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}function _N(e,t,r,n,a){return{credentialType:vn.ID_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,realm:a,lastUpdatedAt:Date.now().toString()}}function jN(e,t,r,n,a,s,l,u,d,f,m,g,y){const b={homeAccountId:e,credentialType:vn.ACCESS_TOKEN,secret:r,cachedAt:qs().toString(),expiresOn:l.toString(),extendedExpiresOn:u.toString(),environment:t,clientId:n,realm:a,target:s,tokenType:m||Ft.BEARER,lastUpdatedAt:Date.now().toString()};if(g&&(b.userAssertionHash=g),f&&(b.refreshOn=f.toString()),b.tokenType?.toLowerCase()!==Ft.BEARER.toLowerCase())switch(b.credentialType=vn.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case Ft.POP:const v=Xi(r,d);if(!v?.cnf?.kid)throw Oe(NY);b.keyId=v.cnf.kid;break;case Ft.SSH:b.keyId=y}return b}function zX(e,t,r,n,a,s,l){const u={credentialType:vn.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r,lastUpdatedAt:Date.now().toString()};return s&&(u.userAssertionHash=s),a&&(u.familyId=a),l&&(u.expiresOn=l.toString()),u}function Rx(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function B5(e){return e?Rx(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===vn.ACCESS_TOKEN||e.credentialType===vn.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function $X(e){return e?Rx(e)&&e.hasOwnProperty("realm")&&e.credentialType===vn.ID_TOKEN:!1}function z5(e){return e?Rx(e)&&e.credentialType===vn.REFRESH_TOKEN:!1}function HX(e,t){const r=e.indexOf(q8)===0;let n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}function qX(e,t){let r=!1;e&&(r=e.indexOf(K8)===0);let n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n}function KX({environment:e,clientId:t}){return[nN,e,t].join(H8).toLowerCase()}function GX(e,t){return t?e.indexOf(nN)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function WX(e,t){return t?e.indexOf(JS)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function $5(){return qs()+sV}function Hg(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function _w(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function H5(e){return e.expiresAt<=qs()}class Fc{constructor(t,r,n,a,s,l,u){this.clientId=t,this.cacheStorage=r,this.cryptoObj=n,this.logger=a,this.performanceClient=s,this.serializableCache=l,this.persistencePlugin=u}validateTokenResponse(t,r,n){if(t.error||t.error_description||t.suberror){const a=`Error(s): ${t.error_codes||_h} - Timestamp: ${t.timestamp||_h} - Description: ${t.error_description||_h} - Correlation ID: ${t.correlation_id||_h} - Trace ID: ${t.trace_id||_h}`,s=t.error_codes?.length?t.error_codes[0]:void 0,l=new su(t.error,a,t.suberror,s,t.status);if(n&&t.status&&t.status>=eV&&t.status<=tV){this.logger.warning("16ks7j",r);return}else if(n&&t.status&&t.status>=QW&&t.status<=ZW){this.logger.warning("0g61x3",r);return}throw N9(t.error,t.error_description,t.suberror)?new Hs(t.error,t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",s):l}}async handleServerTokenResponse(t,r,n,a,s,l,u,d,f){let m;if(t.id_token){if(m=Xi(t.id_token||"",this.cryptoObj.base64Decode),s&&s.nonce&&m.nonce!==s.nonce)throw Oe(xY);if(a.maxAge||a.maxAge===0){const v=m.auth_time;if(!v)throw Oe(t9);p9(v,a.maxAge)}}this.homeAccountIdentifier=b9(t.client_info||"",r.authorityType,this.logger,this.cryptoObj,a.correlationId,m);let g;s&&s.state&&(g=M0(this.cryptoObj.base64Decode,s.state)),t.key_id=t.key_id||a.sshKid||void 0;const y=this.generateCacheRecord(t,r,n,a,m,l,s);let b;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("0jbz5k",a.correlationId),b=new BX(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(b)),u&&!d&&y.account){const v=this.cacheStorage.generateAccountKey(jl(y.account));if(!this.cacheStorage.getAccount(v,a.correlationId))return this.logger.warning("1gmt66",a.correlationId),await Fc.generateAuthenticationResult(this.cryptoObj,r,y,!1,a,this.performanceClient,m,g,void 0,f)}await this.cacheStorage.saveCacheRecord(y,a.correlationId,_c(m||{}),a.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&b&&(this.logger.verbose("1bh17u",a.correlationId),await this.persistencePlugin.afterCacheAccess(b))}return Fc.generateAuthenticationResult(this.cryptoObj,r,y,!1,a,this.performanceClient,m,g,t,f)}generateCacheRecord(t,r,n,a,s,l,u){const d=r.getPreferredCache();if(!d)throw Oe(n9);const f=kN(s);let m,g;t.id_token&&s&&(m=_N(this.homeAccountIdentifier,d,t.id_token,this.clientId,f||""),g=_9(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,a.correlationId,s,t.client_info,d,f,u,void 0,this.logger));let y=null;if(t.access_token){const S=t.scope?On.fromString(t.scope):new On(a.scopes||[]),k=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,N=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,E=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,_=n+k,O=_+N,j=E&&E>0?n+E:void 0;y=jN(this.homeAccountIdentifier,d,t.access_token,this.clientId,f||r.tenant||"",S.printScopes(),_,O,this.cryptoObj.base64Decode,j,t.token_type,l,t.key_id)}let b=null;if(t.refresh_token){let S;if(t.refresh_token_expires_in){const k=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;S=n+k,this.performanceClient?.addFields({ntwkRtExpiresOnSeconds:S},a.correlationId)}b=zX(this.homeAccountIdentifier,d,t.refresh_token,this.clientId,t.foci,l,S)}let v=null;return t.foci&&(v={clientId:this.clientId,environment:d,familyId:t.foci}),{account:g,idToken:m,accessToken:y,refreshToken:b,appMetadata:v}}static async generateAuthenticationResult(t,r,n,a,s,l,u,d,f,m){let g="",y=[],b=null,v,S,k="";if(n.accessToken){if(n.accessToken.tokenType===Ft.POP&&!s.popKid){const O=new Rd(t,l),{secret:j,keyId:A}=n.accessToken;if(!A)throw Oe(s9);g=await O.signPopToken(j,A,s)}else g=n.accessToken.secret;y=On.fromString(n.accessToken.target).asArray(),b=Np(n.accessToken.expiresOn),v=Np(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(S=Np(n.accessToken.refreshOn))}n.appMetadata&&(k=n.appMetadata.familyId===Zp?Zp:"");const N=u?.oid||u?.sub||"",E=u?.tid||"";f?.spa_accountid&&n.account&&(n.account.nativeAccountId=f?.spa_accountid);const _=n.account?vN(jl(n.account),void 0,u,n.idToken?.secret):null;return{authority:r.canonicalAuthority,uniqueId:N,tenantId:E,scopes:y,account:_,idToken:n?.idToken?.secret||"",idTokenClaims:u||{},accessToken:g,fromCache:a,expiresOn:b,extExpiresOn:v,refreshOn:S,correlationId:s.correlationId,requestId:m||"",familyId:k,tokenType:n.accessToken?.tokenType||"",state:d?d.userRequestState:"",cloudGraphHostName:n.account?.cloudGraphHostName||"",msGraphHost:n.account?.msGraphHost||"",code:f?.spa_code,fromPlatformBroker:!1}}}function _9(e,t,r,n,a,s,l,u,d,f,m,g){g?.verbose("09jz0t",a);const b=e.getAccountKeys().find(E=>E.startsWith(r));let v=null;b&&(v=e.getAccount(b,a));const S=v||eX({homeAccountId:r,idTokenClaims:s,clientInfo:l,environment:u,cloudGraphHostName:f?.cloud_graph_host_name,msGraphHost:f?.msgraph_host,nativeAccountId:m},t,n),k=S.tenantProfiles||[],N=d||S.realm;if(N&&!k.find(E=>E.tenantId===N)){const E=Mx(r,S.localAccountId,N,s);k.push(E)}return S.tenantProfiles=k,S}const Ls={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};async function j9(e,t,r){return typeof e=="string"?e:e({clientId:t,tokenEndpoint:r})}function Dx(e,t,r){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:r,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.extraParameters?.clientId}}class ai{static generateThrottlingStorageKey(t){return`${K8}.${JSON.stringify(t)}`}static preProcess(t,r,n){const a=ai.generateThrottlingStorageKey(r),s=t.getThrottlingCache(a,n);if(s){if(s.throttleTime<Date.now()){t.removeItem(a,n);return}throw new su(s.errorCodes?.join(" ")||"",s.errorMessage,s.subError)}}static postProcess(t,r,n,a){if(ai.checkResponseStatus(n)||ai.checkResponseForRetryAfter(n)){const s={throttleTime:ai.calculateThrottleTime(parseInt(n.headers[Kn.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};t.setThrottlingCache(ai.generateThrottlingStorageKey(r),s,a)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(Kn.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const r=t<=0?0:t,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||dV),n+fV)*1e3)}static removeThrottle(t,r,n,a){const s=Dx(r,n,a),l=this.generateThrottlingStorageKey(s);t.removeItem(l,n.correlationId)}}class Px extends Yt{constructor(t,r,n){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,Px.prototype),this.name="NetworkError",this.error=t,this.httpStatus=r,this.responseHeaders=n}}function $h(e,t,r,n){return e.errorMessage=`${e.errorMessage}, additionalErrorInfo: error.name:${n?.name}, error.message:${n?.message}`,new Px(e,t,r)}function A9(e,t,r){const n={};if(n[Kn.CONTENT_TYPE]=KW,!t&&r)switch(r.type){case Ls.HOME_ACCOUNT_ID:try{const a=Sd(r.credential);n[Kn.CCS_HEADER]=`Oid:${a.uid}@${a.utid}`}catch{e.verbose("1qhtee","")}break;case Ls.UPN:n[Kn.CCS_HEADER]=`UPN: ${r.credential}`;break}return n}function T9(e,t,r,n){const a=new Map;return e.embeddedClientId&&Ix(a,t,r),e.extraQueryParameters&&fi(a,e.extraQueryParameters),hN(a,e.correlationId),Tx(a,e.correlationId,n),t0(a)}async function I9(e,t,r,n,a,s,l,u,d,f){const m=await VX(n,e,{body:t,headers:r},a,s,l,u,d);return f&&m.status<500&&m.status!==429&&f.clearTelemetryCache(),m}async function VX(e,t,r,n,a,s,l,u){ai.preProcess(a,e,n);let d;try{d=await be(s.sendPostRequestAsync.bind(s),vX,l,u,n)(t,r);const f=d.headers||{};u?.addFields({refreshTokenSize:d.body.refresh_token?.length||0,httpVerToken:f[Kn.X_MS_HTTP_VERSION]||"",requestId:f[Kn.X_MS_REQUEST_ID]||""},n)}catch(f){if(f instanceof Px){const m=f.responseHeaders;throw m&&u?.addFields({httpVerToken:m[Kn.X_MS_HTTP_VERSION]||"",requestId:m[Kn.X_MS_REQUEST_ID]||"",contentTypeHeader:m[Kn.CONTENT_TYPE]||void 0,contentLengthHeader:m[Kn.CONTENT_LENGTH]||void 0,httpStatus:f.httpStatus},n),f.error}throw f instanceof Yt?f:Oe(mY)}return ai.postProcess(a,e,d,n),d}function YX(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}function XX(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}function JX(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}class Lx{constructor(t,r,n,a){this.networkInterface=t,this.logger=r,this.performanceClient=n,this.correlationId=a}async detectRegion(t,r){let n=t;if(n)r.region_source=Ju.ENVIRONMENT_VARIABLE;else{const a=Lx.IMDS_OPTIONS;try{const s=await be(this.getRegionFromIMDS.bind(this),F5,this.logger,this.performanceClient,this.correlationId)(GW,a);if(s.status===b5&&(n=s.body,r.region_source=Ju.IMDS),s.status===v5){const l=await be(this.getCurrentVersion.bind(this),PX,this.logger,this.performanceClient,this.correlationId)(a);if(!l)return r.region_source=Ju.FAILED_AUTO_DETECTION,null;const u=await be(this.getRegionFromIMDS.bind(this),F5,this.logger,this.performanceClient,this.correlationId)(l,a);u.status===b5&&(n=u.body,r.region_source=Ju.IMDS)}}catch{return r.region_source=Ju.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=Ju.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(t,r){return this.networkInterface.sendGetRequestAsync(`${y5}?api-version=${t}&format=text`,r,WW)}async getCurrentVersion(t){try{const r=await this.networkInterface.sendGetRequestAsync(`${y5}?format=json`,t);return r.status===v5&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Lx.IMDS_OPTIONS={headers:{Metadata:"true"}};class sa{constructor(t,r,n,a,s,l,u,d){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=a,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=u,this.correlationId=l,this.managedIdentity=d||!1,this.regionDiscovery=new Lx(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(p5))return Os.Ciam;const r=t.PathSegments;if(r.length)switch(r[0].toLowerCase()){case BW:return Os.Adfs;case zW:return Os.Dsts}return Os.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Ot(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Oe(nl)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Oe(nl)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Oe(nl)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Oe(jY);return this.replacePath(this.metadata.end_session_endpoint)}else throw Oe(nl)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Oe(nl)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Oe(nl)}canReplaceTenant(t){return t.PathSegments.length===1&&!sa.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Os.Default&&this.protocolMode!==fa.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let r=t;const a=new Ot(this.metadata.canonical_authority).getUrlComponents(),s=a.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((u,d)=>{let f=s[d];if(d===0&&this.canReplaceTenant(a)){const m=new Ot(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];f!==m&&(this.logger.verbose("1q3g2x",this.correlationId),f=m)}u!==f&&(r=r.replace(`/${f}/`,`/${u}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Os.Adfs||this.protocolMode===fa.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){const t=this.getCurrentMetadataEntity(),r=await be(this.updateCloudDiscoveryMetadata.bind(this),OX,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const n=await be(this.updateEndpointMetadata.bind(this),RX,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,r,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort,this.correlationId);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:$5(),jwks_uri:""}),t}updateCachedMetadata(t,r,n){r!==js.CACHE&&n?.source!==js.CACHE&&(t.expiresAt=$5(),t.canonical_authority=this.canonicalAuthority);const a=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache,this.correlationId);this.cacheManager.setAuthorityMetadata(a,t,this.correlationId),this.metadata=t}async updateEndpointMetadata(t){const r=this.updateEndpointMetadataFromLocalSources(t);if(r){if(r.source===js.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&r.metadata){const a=await be(this.updateMetadataWithRegionalInformation.bind(this),U5,this.logger,this.performanceClient,this.correlationId)(r.metadata);Hg(t,a,!1),t.canonical_authority=this.canonicalAuthority}return r.source}let n=await be(this.getEndpointMetadataFromNetwork.bind(this),MX,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await be(this.updateMetadataWithRegionalInformation.bind(this),U5,this.logger,this.performanceClient,this.correlationId)(n)),Hg(t,n,!0),js.NETWORK;throw Oe(gY,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("1fi0kc",this.correlationId);const r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("06t0uj",this.correlationId),Hg(t,r,!1),{source:js.CONFIG};this.logger.verbose("151k0p",this.correlationId);const n=this.getEndpointMetadataFromHardcodedValues();if(n)return Hg(t,n,!1),{source:js.HARDCODED_VALUES,metadata:n};this.logger.verbose("1imop5",this.correlationId);const a=H5(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!a?(this.logger.verbose("16uq31",""),{source:js.CACHE}):(a&&this.logger.verbose("0uoibc",""),null)}isAuthoritySameType(t){return new Ot(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw nr(sY)}return null}async getEndpointMetadataFromNetwork(){const t={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose("1y65x6",this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(r,t);return YX(n.body)?n.body:(this.logger.verbose("1koyv8",this.correlationId),null)}catch{return this.logger.verbose("0a9wik",this.correlationId),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in M5?M5[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){const r=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(r){if(r!==VW)return this.regionDiscoveryMetadata.region_outcome=Nw.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,sa.replaceWithRegionalInformation(t,r);const n=await be(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),DX,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=Nw.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,sa.replaceWithRegionalInformation(t,n);this.regionDiscoveryMetadata.region_outcome=Nw.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){const r=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(r)return r;const n=await be(this.getCloudDiscoveryMetadataFromNetwork.bind(this),IX,this.logger,this.performanceClient,this.correlationId)();if(n)return _w(t,n,!0),js.NETWORK;throw nr(iY)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("0jhlgt",this.correlationId),this.logger.verbosePii("1fy7uz",this.correlationId),this.logger.verbosePii("08zabj",this.correlationId),this.logger.verbosePii("1o1kv3",this.correlationId);const r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("1nakio",this.correlationId),_w(t,r,!1),js.CONFIG;this.logger.verbose("1x74aj",this.correlationId);const n=QY(this.hostnameAndPort);if(n)return this.logger.verbose("0by47c",this.correlationId),_w(t,n,!1),js.HARDCODED_VALUES;this.logger.verbose("0r2fzy",this.correlationId);const a=H5(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!a?(this.logger.verbose("1uffgh",""),js.CACHE):(a&&this.logger.verbose("0uoibc",""),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Os.Ciam)return this.logger.verbose("04y84h",this.correlationId),sa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("0gszr3",this.correlationId);try{this.logger.verbose("1iifkx",this.correlationId);const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=sy(t.metadata,this.hostnameAndPort);if(this.logger.verbose("0q67e3",""),r)return this.logger.verbose("0hzfao",this.correlationId),r;this.logger.verbose("1ajz3u",this.correlationId)}catch{throw this.logger.verbose("1wq5tu",this.correlationId),nr(Q8)}}return this.isInKnownAuthorities()?(this.logger.verbose("0mt9al",this.correlationId),sa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){const t=`${$W}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={};let n=null;try{const a=await this.networkInterface.sendGetRequestAsync(t,r);let s,l;if(XX(a.body))s=a.body,l=s.metadata,this.logger.verbosePii("1vglyt",this.correlationId);else if(JX(a.body)){if(this.logger.warning("062uto",this.correlationId),s=a.body,s.error===JW)return this.logger.error("1x90tm",this.correlationId),null;this.logger.warning("0wchdm",this.correlationId),this.logger.warning("1s5mpv",this.correlationId),this.logger.warning("1yhqpw",this.correlationId),l=[]}else return this.logger.error("0768g0",this.correlationId),null;this.logger.verbose("1lrobr",this.correlationId),n=sy(l,this.hostnameAndPort)}catch(a){return a instanceof Yt?this.logger.error("0vwhc7",this.correlationId):this.logger.error("0s2z41",this.correlationId),null}return n||(this.logger.warning("0jp28q",this.correlationId),this.logger.verbose("130sd8",this.correlationId),n=sa.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&Ot.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,r){let n;if(r&&r.azureCloudInstance!==bN.None){const a=r.tenant?r.tenant:U8;n=`${r.azureCloudInstance}/${a}/`}return n||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return FW;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Oe(nl)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return x9.has(t)}static isPublicCloudAuthority(t){return XW.indexOf(t)>=0}static buildRegionalAuthorityString(t,r,n){const a=new Ot(t);a.validateAsUri();const s=a.getUrlComponents();let l=`${r}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(l=`${r}.${YW}`);const u=Ot.constructAuthorityUriFromObject({...a.getUrlComponents(),HostNameAndPort:l}).urlString;return n?`${u}?${n}`:u}static replaceWithRegionalInformation(t,r){const n={...t};return n.authorization_endpoint=sa.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=sa.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=sa.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(t){let r=t;const a=new Ot(t).getUrlComponents();if(a.PathSegments.length===0&&a.HostNameAndPort.endsWith(p5)){const s=a.HostNameAndPort.split(".")[0];r=`${r}${s}${HW}`}return r}}sa.reservedTenantDomains=new Set(["{tenant}","{tenantid}",vl.COMMON,vl.CONSUMERS,vl.ORGANIZATIONS]);function QX(e){const n=new Ot(e).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case vl.COMMON:case vl.ORGANIZATIONS:case vl.CONSUMERS:return;default:return n}}function O9(e){return e.endsWith(YS)?e:`${e}${YS}`}function ZX(e){const t=e.cloudDiscoveryMetadata;let r;if(t)try{r=JSON.parse(t)}catch{throw nr(Q8)}return{canonicalAuthority:e.authority?O9(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:r}}async function M9(e,t,r,n,a,s,l){const u=sa.transformCIAMAuthority(O9(e)),d=new sa(u,t,r,n,a,s,l);try{return await be(d.resolveEndpointsAsync.bind(d),TX,a,l,s)(),d}catch{throw Oe(nl)}}class R9{constructor(t,r){this.includeRedirectUri=!0,this.config=SN(t),this.logger=new $s(this.config.loggerOptions,Ox,O0),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(t,r){if(!t.code)throw Oe(wY);r&&r.cloud_instance_host_name&&await be(this.updateTokenEndpointAuthority.bind(this),AX,this.logger,this.performanceClient,t.correlationId)(r.cloud_instance_host_name,t.correlationId);const n=qs(),a=await be(this.executeTokenRequest.bind(this),_X,this.logger,this.performanceClient,t.correlationId)(this.authority,t,this.serverTelemetryManager),s=a.headers?.[Kn.X_MS_REQUEST_ID],l=new Fc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return l.validateTokenResponse(a.body,t.correlationId),be(l.handleServerTokenResponse.bind(l),EN,this.logger,this.performanceClient,t.correlationId)(a.body,this.authority,n,t,r,void 0,void 0,void 0,s)}getLogoutUri(t){if(!t)throw nr(aY);const r=this.createLogoutUrlQueryString(t);return Ot.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(t,r,n){const a=T9(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),s=Ot.appendQueryString(t.tokenEndpoint,a),l=await be(this.createTokenRequestBody.bind(this),jX,this.logger,this.performanceClient,r.correlationId)(r);let u;if(r.clientInfo)try{const m=iy(r.clientInfo,this.cryptoUtils.base64Decode);u={credential:`${m.uid}${XS}${m.utid}`,type:Ls.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",r.correlationId)}const d=A9(this.logger,this.config.systemOptions.preventCorsPreflight,u||r.ccsCredential),f=Dx(this.config.authOptions.clientId,r);return be(I9,kX,this.logger,this.performanceClient,r.correlationId)(s,l,d,f,r.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,n)}async createTokenRequestBody(t){const r=new Map;if(uN(r,t.embeddedClientId||t.extraParameters?.[Uc]||this.config.authOptions.clientId),this.includeRedirectUri)dN(r,t.redirectUri);else if(!t.redirectUri)throw nr(ZV);if(cN(r,t.scopes,!0,this.oidcDefaultScopes),PY(r,t.code),mN(r,this.config.libraryInfo),gN(r,this.config.telemetry.application),m9(r),this.serverTelemetryManager&&!k9(this.config)&&h9(r,this.serverTelemetryManager),t.codeVerifier&&UY(r,t.codeVerifier),this.config.clientCredentials.clientSecret&&o9(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;l9(r,await j9(a.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),c9(r,a.assertionType)}if(u9(r,z8.AUTHORIZATION_CODE_GRANT),yN(r),t.authenticationScheme===Ft.POP){const a=new Rd(this.cryptoUtils,this.performanceClient);let s;t.popKid?s=this.cryptoUtils.encodeKid(t.popKid):s=(await be(a.generateCnf.bind(a),R0,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,xN(r,s)}else if(t.authenticationScheme===Ft.SSH)if(t.sshJwk)f9(r,t.sshJwk);else throw nr(oN);(!ms.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&fN(r,t.claims,this.config.authOptions.clientCapabilities);let n;if(t.clientInfo)try{const a=iy(t.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${a.uid}${XS}${a.utid}`,type:Ls.HOME_ACCOUNT_ID}}catch{this.logger.verbose("0wznt3",t.correlationId)}else n=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Ls.HOME_ACCOUNT_ID:try{const a=Sd(n.credential);Gh(r,a)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Ls.UPN:ry(r,n.credential);break}return t.embeddedClientId&&Ix(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&fi(r,t.extraParameters),t.enableSpaAuthorizationCode&&(!t.extraParameters||!t.extraParameters[N5])&&fi(r,{[N5]:"1"}),Tx(r,t.correlationId,this.performanceClient),t0(r)}createLogoutUrlQueryString(t){const r=new Map;return t.postLogoutRedirectUri&&IY(r,t.postLogoutRedirectUri),t.correlationId&&hN(r,t.correlationId),t.idTokenHint&&OY(r,t.idTokenHint),t.state&&i9(r,t.state),t.logoutHint&&BY(r,t.logoutHint),t.extraQueryParameters&&fi(r,t.extraQueryParameters),this.config.authOptions.instanceAware&&d9(r),t0(r)}async updateTokenEndpointAuthority(t,r){const n=`https://${t}/${this.authority.tenant}/`,a=await M9(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=a}}const eJ=300;class tJ{constructor(t,r){this.config=SN(t),this.logger=new $s(this.config.loggerOptions,Ox,O0),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}async acquireToken(t){const r=qs(),n=await be(this.executeTokenRequest.bind(this),SX,this.logger,this.performanceClient,t.correlationId)(t,this.authority),a=n.headers?.[Kn.X_MS_REQUEST_ID],s=new Fc(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.performanceClient,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(n.body,t.correlationId),be(s.handleServerTokenResponse.bind(s),EN,this.logger,this.performanceClient,t.correlationId)(n.body,this.authority,r,t,void 0,void 0,!0,t.forceCache,a)}async acquireTokenByRefreshToken(t){if(!t)throw nr(nY);if(!t.account)throw Oe(r9);if(this.cacheManager.isAppMetadataFOCI(t.account.environment,t.correlationId))try{return await be(this.acquireTokenWithCachedRefreshToken.bind(this),Ew,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(n){const a=n instanceof Hs&&n.errorCode===n2,s=n instanceof su&&n.errorCode===mV&&n.subError===gV;if(a||s)return be(this.acquireTokenWithCachedRefreshToken.bind(this),Ew,this.logger,this.performanceClient,t.correlationId)(t,!1);throw n}return be(this.acquireTokenWithCachedRefreshToken.bind(this),Ew,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,r){const n=Fs(this.cacheManager.getRefreshToken.bind(this.cacheManager),LX,this.logger,this.performanceClient,t.correlationId)(t.account,r,t.correlationId,void 0);if(!n)throw oy(n2);if(n.expiresOn){const s=t.refreshTokenExpirationOffsetSeconds||eJ;if(this.performanceClient?.addFields({cacheRtExpiresOnSeconds:Number(n.expiresOn),rtOffsetSeconds:s},t.correlationId),ly(n.expiresOn,s))throw oy(S9)}const a={...t,refreshToken:n.secret,authenticationScheme:t.authenticationScheme||Ft.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:Ls.HOME_ACCOUNT_ID}};try{return await be(this.acquireToken.bind(this),CX,this.logger,this.performanceClient,t.correlationId)(a)}catch(s){if(s instanceof Hs&&s.subError===CN){this.logger.verbose("1pg3ap",t.correlationId);const l=this.cacheManager.generateCredentialKey(n);this.cacheManager.removeRefreshToken(l,t.correlationId)}throw s}}async executeTokenRequest(t,r){const n=T9(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri,this.performanceClient),a=Ot.appendQueryString(r.tokenEndpoint,n),s=await be(this.createTokenRequestBody.bind(this),NX,this.logger,this.performanceClient,t.correlationId)(t),l=A9(this.logger,this.config.systemOptions.preventCorsPreflight,t.ccsCredential),u=Dx(this.config.authOptions.clientId,t);return be(I9,wX,this.logger,this.performanceClient,t.correlationId)(a,s,l,u,t.correlationId,this.cacheManager,this.networkClient,this.logger,this.performanceClient,this.serverTelemetryManager)}async createTokenRequestBody(t){const r=new Map;if(uN(r,t.embeddedClientId||t.extraParameters?.[Uc]||this.config.authOptions.clientId),t.redirectUri&&dN(r,t.redirectUri),cN(r,t.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),u9(r,z8.REFRESH_TOKEN_GRANT),yN(r),mN(r,this.config.libraryInfo),gN(r,this.config.telemetry.application),m9(r),this.serverTelemetryManager&&!k9(this.config)&&h9(r,this.serverTelemetryManager),LY(r,t.refreshToken),this.config.clientCredentials.clientSecret&&o9(r,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;l9(r,await j9(n.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),c9(r,n.assertionType)}if(t.authenticationScheme===Ft.POP){const n=new Rd(this.cryptoUtils,this.performanceClient);let a;t.popKid?a=this.cryptoUtils.encodeKid(t.popKid):a=(await be(n.generateCnf.bind(n),R0,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,xN(r,a)}else if(t.authenticationScheme===Ft.SSH)if(t.sshJwk)f9(r,t.sshJwk);else throw nr(oN);if((!ms.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&fN(r,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case Ls.HOME_ACCOUNT_ID:try{const n=Sd(t.ccsCredential.credential);Gh(r,n)}catch{this.logger.verbose("1qhtee",t.correlationId)}break;case Ls.UPN:ry(r,t.ccsCredential.credential);break}return t.embeddedClientId&&Ix(r,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.extraParameters&&fi(r,{...t.extraParameters}),Tx(r,t.correlationId,this.performanceClient),t0(r)}}class rJ{constructor(t,r){this.config=SN(t),this.logger=new $s(this.config.loggerOptions,Ox,O0),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}async acquireCachedToken(t){let r=fc.NOT_APPLICABLE;if(t.forceRefresh||!ms.isEmptyObj(t.claims))throw this.setCacheOutcome(fc.FORCE_REFRESH_OR_CLAIMS,t.correlationId),Oe(Ec);if(!t.account)throw Oe(r9);const n=t.account.tenantId||QX(t.authority),a=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(t.account,t,a,n);if(s){if(bX(s.cachedAt)||ly(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(fc.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),Oe(Ec);s.refreshOn&&ly(s.refreshOn,0)&&(r=fc.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(fc.NO_CACHED_ACCESS_TOKEN,t.correlationId),Oe(Ec);const l=t.authority||this.authority.getPreferredCache(),u={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(t.account),t.correlationId),accessToken:s,idToken:this.cacheManager.getIdToken(t.account,t.correlationId,a,n),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(l,t.correlationId)};return this.setCacheOutcome(r,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await be(this.generateResultFromCacheRecord.bind(this),EX,this.logger,this.performanceClient,t.correlationId)(u,t),r]}setCacheOutcome(t,r){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},r),t!==fc.NOT_APPLICABLE&&this.logger.info("09ingz",r)}async generateResultFromCacheRecord(t,r){let n;if(t.idToken&&(n=Xi(t.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){const a=n?.auth_time;if(!a)throw Oe(t9);p9(a,r.maxAge)}return Fc.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,r,this.performanceClient,n)}}const nJ={sendGetRequestAsync:()=>Promise.reject(Oe(mt)),sendPostRequestAsync:()=>Promise.reject(Oe(mt))};function aJ(e,t,r,n){const a=t.correlationId,s=new Map;uN(s,t.embeddedClientId||t.extraQueryParameters?.[Uc]||e.clientId);const l=[...t.scopes||[],...t.extraScopesToConsent||[]];if(cN(s,l,!0,e.authority.options.OIDCOptions?.defaultScopes),dN(s,t.redirectUri),hN(s,a),AY(s,t.responseMode),yN(s),t.prompt&&(RY(s,t.prompt),n?.addFields({prompt:t.prompt},a)),t.domainHint&&(MY(s,t.domainHint),n?.addFields({domainHintFromRequest:!0},a)),t.prompt!==la.SELECT_ACCOUNT)if(t.sid&&t.prompt===la.NONE)r.verbose("1tvqyx",t.correlationId),A5(s,t.sid),n?.addFields({sidFromRequest:!0},a);else if(t.account){const u=oJ(t.account);let d=lJ(t.account);if(d&&t.domainHint&&(r.warning("0wkg3v",t.correlationId),d=null),d){r.verbose("1eyfsw",t.correlationId),$g(s,d),n?.addFields({loginHintFromClaim:!0},a);try{const f=Sd(t.account.homeAccountId);Gh(s,f)}catch{r.verbose("12ugck",t.correlationId)}}else if(u&&t.prompt===la.NONE){r.verbose("1rmd8s",t.correlationId),A5(s,u),n?.addFields({sidFromClaim:!0},a);try{const f=Sd(t.account.homeAccountId);Gh(s,f)}catch{r.verbose("12ugck",t.correlationId)}}else if(t.loginHint)r.verbose("0y3007",t.correlationId),$g(s,t.loginHint),ry(s,t.loginHint),n?.addFields({loginHintFromRequest:!0},a);else if(t.account.username){r.verbose("02f507",t.correlationId),$g(s,t.account.username),n?.addFields({loginHintFromUpn:!0},a);try{const f=Sd(t.account.homeAccountId);Gh(s,f)}catch{r.verbose("12ugck",t.correlationId)}}}else t.loginHint&&(r.verbose("0g01ey",t.correlationId),$g(s,t.loginHint),ry(s,t.loginHint),n?.addFields({loginHintFromRequest:!0},a));else r.verbose("169k9v",t.correlationId);return t.nonce&&DY(s,t.nonce),t.state&&i9(s,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&fN(s,t.claims,e.clientCapabilities),t.embeddedClientId&&Ix(s,e.clientId,e.redirectUri),e.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(QS))&&d9(s),s}function AN(e,t){const r=t0(t);return Ot.appendQueryString(e.authorizationEndpoint,r)}function sJ(e,t){if(D9(e,t),!e.code)throw Oe(EY);return e}function D9(e,t){if(!e.state||!t)throw e.state?Oe(E5,"Cached State"):Oe(E5,"Server State");let r,n;try{r=decodeURIComponent(e.state)}catch{throw Oe(e0,e.state)}try{n=decodeURIComponent(t)}catch{throw Oe(e0,e.state)}if(r!==n)throw Oe(yY);if(e.error||e.error_description||e.suberror){const a=iJ(e);throw N9(e.error,e.error_description,e.suberror)?new Hs(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",a):new su(e.error||"",e.error_description,e.suberror,a)}}function iJ(e){const t="code=",r=e.error_uri?.lastIndexOf(t);return r&&r>=0?e.error_uri?.substring(r+t.length):void 0}function oJ(e){return e.idTokenClaims?.sid||null}function lJ(e){return e.loginHint||e.idTokenClaims?.login_hint||null}const a2="unexpected_error";const q5=",",P9="|";function cJ(e){const{skus:t,libraryName:r,libraryVersion:n,extensionName:a,extensionVersion:s}=e,l=new Map([[0,[r,n]],[2,[a,s]]]);let u=[];if(t?.length){if(u=t.split(q5),u.length<4)return t}else u=Array.from({length:4},()=>P9);return l.forEach((d,f)=>{d.length===2&&d[0]?.length&&d[1]?.length&&uJ({skuArr:u,index:f,skuName:d[0],skuVersion:d[1]})}),u.join(q5)}function uJ(e){const{skuArr:t,index:r,skuName:n,skuVersion:a}=e;r>=t.length||(t[r]=[n,a].join(P9))}class r0{constructor(t,r){this.cacheOutcome=fc.NOT_APPLICABLE,this.cacheManager=r,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||"",this.wrapperVer=t.wrapperVer||"",this.telemetryCacheKey=q8+H8+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${Xu}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&r.push(`broker_error=${n}`);const a=r.join(Xu),s=this.getRegionDiscoveryFields(),l=[t,s].join(Xu);return[S5,l,a].join(C5)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),r=r0.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*r).join(Xu),a=t.errors.slice(0,r).join(Xu),s=t.errors.length,l=r<s?lV:cV,u=[s,l].join(Xu);return[S5,t.cacheHits,n,a,u].join(C5)}cacheFailedRequest(t){const r=this.getLastRequests();r.errors.length>=oV&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Yt?t.subError?r.errors.push(t.subError):t.errorCode?r.errors.push(t.errorCode):r.errors.push(t.toString()):r.errors.push(t.toString()):r.errors.push(uV),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey,this.correlationId)||t}clearTelemetryCache(){const t=this.getLastRequests(),r=r0.maxErrorsToSend(t),n=t.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const a={failedRequests:t.failedRequests.slice(r*2),errors:t.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a,this.correlationId)}}static maxErrorsToSend(t){let r,n=0,a=0;const s=t.errors.length;for(r=0;r<s;r++){const l=t.failedRequests[2*r]||"",u=t.failedRequests[2*r+1]||"",d=t.errors[r]||"";if(a+=l.toString().length+u.toString().length+d.length+3,a<iV)n+=1;else break}return n}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||""),t.push(this.regionSource||""),t.push(this.regionOutcome||""),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const r=this.getLastRequests();r.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return cJ(t)}}class TN extends Yt{constructor(t,r){super(t,r),this.name="JoseHeaderError",Object.setPrototypeOf(this,TN.prototype)}}function K5(e){return new TN(e)}const dJ="missing_kid_error",fJ="missing_alg_error";class IN{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw K5(dJ);if(!t.alg)throw K5(fJ);const r=new IN({typ:t.typ||pV.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(r)}}function Ux(e){return`See https://aka.ms/msal.js.errors#${e} for details`}class D0 extends Yt{constructor(t,r){super(t,Ux(t),r),Object.setPrototypeOf(this,D0.prototype),this.name="BrowserAuthError"}}function Fe(e,t){return new D0(e,t)}const os={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",MSAL_SKU:"msal.js.browser"},ls={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},jh={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},gs={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},G5={GET:"GET",POST:"POST"},dl={SIGNIN:"signin",SIGNOUT:"signout"},Pr={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},qg={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Rt={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var rt;(function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"})(rt||(rt={}));const ia={Startup:"startup",Logout:"logout",AcquireToken:"acquireToken",HandleRedirect:"handleRedirect",None:"none"},W5={scopes:af},L9="jwk",hJ={React:"@azure/msal-react"},s2="msal.db",mJ=1,gJ=`${s2}.keys`,Bn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},pJ=[Bn.Default,Bn.Skip,Bn.RefreshTokenAndNetwork];function Kg(e){return encodeURIComponent(n0(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Al(e){return U9(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n0(e){return U9(new TextEncoder().encode(e))}function U9(e){const t=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(t)}const F9="pkce_not_created",B9="ear_jwk_empty",yJ="ear_jwe_empty",V5="crypto_nonexistent",ON="empty_navigate_uri",xJ="hash_empty_error",MN="no_state_in_hash",bJ="hash_does_not_contain_known_properties",z9="unable_to_parse_state",vJ="state_interaction_type_mismatch",wJ="interaction_in_progress",kJ="interaction_in_progress_cancelled",SJ="popup_window_error",CJ="empty_window_error",i2="user_cancelled",NJ="redirect_bridge_empty_response",EJ="redirect_in_iframe",_J="block_iframe_reload",jJ="block_nested_popups",RN="silent_logout_unsupported",AJ="no_account_error",TJ="no_token_request_cache_error",IJ="unable_to_parse_token_request_cache_error",$9="non_browser_environment",Ah="database_not_open",o2="no_network_connectivity",OJ="post_request_failed",MJ="get_request_failed",Y5="failed_to_parse_response",H9="crypto_key_not_found",RJ="auth_code_required",DJ="auth_code_or_nativeAccountId_required",PJ="spa_code_and_nativeAccountId_present",q9="database_unavailable",LJ="unable_to_acquire_token_from_native_platform",UJ="native_handshake_timeout",FJ="native_extension_not_installed",K9="native_connection_not_established",Ep="uninitialized_public_client_application",BJ="native_prompt_not_supported",zJ="invalid_base64_string",$J="invalid_pop_token_request",HJ="failed_to_build_headers",qJ="failed_to_parse_headers",jw="failed_to_decrypt_ear_response",cy="timed_out",KJ="empty_response";function Aa(e){return new TextDecoder().decode(wl(e))}function wl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Fe(zJ)}const r=atob(t);return Uint8Array.from(r,n=>n.codePointAt(0)||0)}const GJ="RSASSA-PKCS1-v1_5",sf="AES-GCM",G9="HKDF",DN="SHA-256",WJ=2048,VJ=new Uint8Array([1,0,1]),X5="0123456789abcdef",J5=new Uint32Array(1),PN="raw",W9="encrypt",LN="decrypt",YJ="deriveKey",XJ="crypto_subtle_undefined",UN={name:GJ,hash:DN,modulusLength:WJ,publicExponent:VJ};function JJ(e){if(!window)throw Fe($9);if(!window.crypto)throw Fe(V5);if(!e&&!window.crypto.subtle)throw Fe(V5,XJ)}async function V9(e){const r=new TextEncoder().encode(e);return window.crypto.subtle.digest(DN,r)}function QJ(e){return window.crypto.getRandomValues(e)}function Aw(){return window.crypto.getRandomValues(J5),J5[0]}function Bc(){const e=Date.now(),t=Aw()*1024+(Aw()&1023),r=new Uint8Array(16),n=Math.trunc(t/2**30),a=t&2**30-1,s=Aw();r[0]=e/2**40,r[1]=e/2**32,r[2]=e/2**24,r[3]=e/2**16,r[4]=e/2**8,r[5]=e,r[6]=112|n>>>8,r[7]=n,r[8]=128|a>>>24,r[9]=a>>>16,r[10]=a>>>8,r[11]=a,r[12]=s>>>24,r[13]=s>>>16,r[14]=s>>>8,r[15]=s;let l="";for(let u=0;u<r.length;u++)l+=X5.charAt(r[u]>>>4),l+=X5.charAt(r[u]&15),(u===3||u===5||u===7||u===9)&&(l+="-");return l}async function ZJ(e,t){return window.crypto.subtle.generateKey(UN,e,t)}async function Tw(e){return window.crypto.subtle.exportKey(L9,e)}async function eQ(e,t,r){return window.crypto.subtle.importKey(L9,e,UN,t,r)}async function tQ(e,t){return window.crypto.subtle.sign(UN,e,t)}async function FN(){const e=await Y9(),r={alg:"dir",kty:"oct",k:Al(new Uint8Array(e))};return n0(JSON.stringify(r))}async function rQ(e){const t=Aa(e),n=JSON.parse(t).k,a=wl(n);return window.crypto.subtle.importKey(PN,a,sf,!1,[LN])}async function nQ(e,t){const r=t.split(".");if(r.length!==5)throw Fe(jw,"jwe_length");const n=await rQ(e).catch(()=>{throw Fe(jw,"import_key")});try{const a=new TextEncoder().encode(r[0]),s=wl(r[2]),l=wl(r[3]),u=wl(r[4]),d=u.byteLength*8,f=new Uint8Array(l.length+u.length);f.set(l),f.set(u,l.length);const m=await window.crypto.subtle.decrypt({name:sf,iv:s,tagLength:d,additionalData:a},n,f);return new TextDecoder().decode(m)}catch{throw Fe(jw,"decrypt")}}async function Y9(){const e=await window.crypto.subtle.generateKey({name:sf,length:256},!0,[W9,LN]);return window.crypto.subtle.exportKey(PN,e)}async function Q5(e){return window.crypto.subtle.importKey(PN,e,G9,!1,[YJ])}async function X9(e,t,r){return window.crypto.subtle.deriveKey({name:G9,salt:t,hash:DN,info:new TextEncoder().encode(r)},e,{name:sf,length:256},!1,[W9,LN])}async function aQ(e,t,r){const n=new TextEncoder().encode(t),a=window.crypto.getRandomValues(new Uint8Array(16)),s=await X9(e,a,r),l=await window.crypto.subtle.encrypt({name:sf,iv:new Uint8Array(12)},s,n);return{data:Al(new Uint8Array(l)),nonce:Al(a)}}async function Z5(e,t,r,n){const a=wl(n),s=await X9(e,wl(t),r),l=await window.crypto.subtle.decrypt({name:sf,iv:new Uint8Array(12)},s,a);return new TextDecoder().decode(l)}async function sQ(e){const t=await V9(e),r=new Uint8Array(t);return Al(r)}class BN extends Yt{constructor(t,r){super(t,r),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,BN.prototype)}}function nn(e){return new BN(e,Ux(e))}const J9="storage_not_supported",Un="stubbed_public_client_application_called",iQ="in_mem_redirect_unavailable";function oQ(){const e=window.location.hash,t=window.location.search;let r=!1,n=!1,a="",s;if(e&&e.length>1){const m=e.charAt(0)==="#"?e.substring(1):e,g=new URLSearchParams(m);g.has("state")&&(r=!0,a=m,s=g)}if(t&&t.length>1){const m=t.charAt(0)==="?"?t.substring(1):t,g=new URLSearchParams(m);g.has("state")&&(n=!0,a=m,s=g)}if(r&&n){const m=t.charAt(0)==="?"?t.substring(1):t,g=e.charAt(0)==="#"?e.substring(1):e;a=`${m}${g}`,s=new URLSearchParams(a)}if(!a||!s)throw Fe(KJ);const l=s.get("state");if(!l)throw Fe(MN);const{libraryState:u}=M0(Aa,l),{id:d,meta:f}=u;if(!d||!f)throw Fe(z9,"missing_library_state");return{params:s,payload:a,urlHash:e,urlQuery:t,hasResponseInHash:r,hasResponseInQuery:n,libraryState:{id:d,meta:f}}}function Q9(e){e.location.hash="",typeof e.history.replaceState=="function"&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function lQ(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function Fx(){return window.parent!==window}function cQ(){if(Fx())return!1;try{const{libraryState:e}=oQ(),{meta:t}=e;return t.interactionType===rt.Popup}catch{return!1}}let fl=null;function uQ(e,t){fl&&(e.verbose("18y01k",t),clearTimeout(fl.timeoutId),fl.channel.close(),fl.reject(Fe(kJ)),fl=null)}async function cd(e,t,r,n){return new Promise((a,s)=>{t.verbose("1rf6em",n.correlationId);const{libraryState:l}=M0(r.base64Decode,n.state||""),u=new BroadcastChannel(l.id);let d;const f=window.setTimeout(()=>{fl=null,u.close(),s(Fe(cy,"redirect_bridge_timeout"))},e);fl={timeoutId:f,channel:u,reject:s},u.onmessage=m=>{d=m.data.payload,fl=null,clearTimeout(f),u.close(),d?a(d):s(Fe(NJ))}})}function yl(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function dQ(){const t=new Ot(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function fQ(){if(ny(window.location.hash)&&Fx())throw Fe(_J)}function hQ(e){if(Fx()&&!e)throw Fe(EJ)}function mQ(){if(cQ())throw Fe(jJ)}function Z9(){if(typeof window>"u")throw Fe($9)}function e7(e){if(!e)throw Fe(Ep)}function zN(e){Z9(),fQ(),mQ(),e7(e)}function e6(e,t){if(zN(e),hQ(t.system.allowRedirectInIframe),t.cache.cacheLocation===gs.MemoryStorage)throw nn(iQ)}function t7(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function l2(){return Bc()}const gQ="acquireTokenFromCache",pQ="acquireTokenByRefreshToken",yQ="acquireTokenSilentAsync",xQ="cryptoOptsGetPublicKeyThumbprint",bQ="cryptoOptsSignJwt",vQ="silentCacheClientAcquireToken",wQ="silentIframeClientAcquireToken",kQ="awaitConcurrentIframe",SQ="silentRefreshClientAcquireToken",jc="standardInteractionClientGetDiscoveredAuthority",r7="nativeInteractionClientAcquireToken",CQ="refreshTokenClientAcquireTokenByRefreshToken",t6="acquireTokenBySilentIframe",$N="initializeBaseRequest",NQ="initializeSilentRequest",EQ="initializeCache",r6="silentIframeClientTokenHelper",Iw="silentHandlerInitiateAuthRequest",uy="silentHandlerMonitorIframeForHash",_Q="silentHandlerLoadFrameSync",kl="standardInteractionClientCreateAuthCodeClient",Bx="standardInteractionClientGetClientConfiguration",zx="standardInteractionClientInitializeAuthorizationRequest",jQ="silentFlowClientAcquireCachedToken",AQ="getStandardParams",TQ="handleCodeResponse",HN="handleResponseEar",n7="handleResponsePlatformBroker",Cd="handleResponseCode",IQ="authClientAcquireToken",Wh="deserializeResponse",OQ="authorityFactoryCreateDiscoveredInstance",MQ="acquireTokenByCodeAsync",RQ="handleRedirectPromise",DQ="handleNativeRedirectPromise",PQ="nativeMessageHandlerHandshake",LQ="importExistingCache",zc="generatePkceCodes",UQ="generateCodeVerifier",FQ="generateCodeChallengeFromVerifier",BQ="sha256Digest",zQ="getRandomValues",n6="generateHKDF",$Q="generateBaseKey",HQ="base64Decode",qQ="urlEncodeArr",KQ="encrypt",a6="decrypt",qN="generateEarKey",GQ="decryptEarResponse";class WQ{constructor(){this.dbName=s2,this.version=mJ,this.tableName=gJ,this.dbOpen=!1}async open(){return new Promise((t,r)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",a=>{a.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",a=>{const s=a;this.db=s.target.result,this.dbOpen=!0,t()}),n.addEventListener("error",()=>r(Fe(q9)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(Fe(Ah));const l=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);l.addEventListener("success",u=>{const d=u;this.closeConnection(),r(d.target.result)}),l.addEventListener("error",u=>{this.closeConnection(),n(u)})})}async setItem(t,r){return await this.validateDbIsOpen(),new Promise((n,a)=>{if(!this.db)return a(Fe(Ah));const u=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(r,t);u.addEventListener("success",()=>{this.closeConnection(),n()}),u.addEventListener("error",d=>{this.closeConnection(),a(d)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(Fe(Ah));const l=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);l.addEventListener("success",()=>{this.closeConnection(),r()}),l.addEventListener("error",u=>{this.closeConnection(),n(u)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(Fe(Ah));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();s.addEventListener("success",l=>{const u=l;this.closeConnection(),t(u.target.result)}),s.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(Fe(Ah));const l=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);l.addEventListener("success",u=>{const d=u;this.closeConnection(),r(d.target.result===1)}),l.addEventListener("error",u=>{this.closeConnection(),n(u)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,r)=>{const n=window.indexedDB.deleteDatabase(s2),a=setTimeout(()=>r(!1),200);n.addEventListener("success",()=>(clearTimeout(a),t(!0))),n.addEventListener("blocked",()=>(clearTimeout(a),t(!0))),n.addEventListener("error",()=>(clearTimeout(a),r(!1)))})}}class $x{constructor(){this.cache=new Map}async initialize(){}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,r){this.cache.set(t,r)}async setUserData(t,r){this.setItem(t,r)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((r,n)=>{t.push(n)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class VQ{constructor(t){this.inMemoryCache=new $x,this.indexedDBCache=new WQ,this.logger=t}handleDatabaseAccessError(t,r){if(t instanceof D0&&t.errorCode===q9)this.logger.error("1wx7zz",r);else throw t}async getItem(t,r){const n=this.inMemoryCache.getItem(t);if(!n)try{return this.logger.verbose("0naxpl",r),await this.indexedDBCache.getItem(t)}catch(a){this.handleDatabaseAccessError(a,r)}return n}async setItem(t,r,n){this.inMemoryCache.setItem(t,r);try{await this.indexedDBCache.setItem(t,r)}catch(a){this.handleDatabaseAccessError(a,n)}}async removeItem(t,r){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(n){this.handleDatabaseAccessError(n,r)}}async getKeys(t){const r=this.inMemoryCache.getKeys();if(r.length===0)try{return this.logger.verbose("1iqrbq",t),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n,t)}return r}async containsKey(t,r){const n=this.inMemoryCache.containsKey(t);if(!n)try{return this.logger.verbose("03zl2j",r),await this.indexedDBCache.containsKey(t)}catch(a){this.handleDatabaseAccessError(a,r)}return n}clearInMemory(t){this.logger.verbose("03r21p",t),this.inMemoryCache.clear(),this.logger.verbose("0uksk1",t)}async clearPersistent(t){try{this.logger.verbose("0rdqut",t);const r=await this.indexedDBCache.deleteDatabase();return r&&this.logger.verbose("149ouc",t),r}catch(r){return this.handleDatabaseAccessError(r,t),!1}}}class oo{constructor(t,r,n){this.logger=t,JJ(n??!1),this.cache=new VQ(this.logger),this.performanceClient=r}createNewGuid(){return Bc()}base64Encode(t){return n0(t)}base64Decode(t){return Aa(t)}base64UrlEncode(t){return Kg(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){const r=this.performanceClient?.startMeasurement(xQ,t.correlationId),n=await ZJ(oo.EXTRACTABLE,oo.POP_KEY_USAGES),a=await Tw(n.publicKey),s={e:a.e,kty:a.kty,n:a.n},l=s6(s),u=await this.hashString(l),d=await Tw(n.privateKey),f=await eQ(d,!1,["sign"]);return await this.cache.setItem(u,{privateKey:f,publicKey:n.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri},t.correlationId),r&&r.end({success:!0}),u}async removeTokenBindingKey(t,r){if(await this.cache.removeItem(t,r),await this.cache.containsKey(t,r))throw Oe(_Y)}async clearKeystore(t){this.cache.clearInMemory(t);try{return await this.cache.clearPersistent(t),!0}catch(r){return r instanceof Error?this.logger.error("1owpn8",t):this.logger.error("0yrmwo",t),!1}}async signJwt(t,r,n,a){const s=this.performanceClient?.startMeasurement(bQ,a),l=await this.cache.getItem(r,a||"");if(!l)throw Fe(H9);const u=await Tw(l.publicKey),d=s6(u),f=Kg(JSON.stringify({kid:r})),m=IN.getShrHeaderString({...n?.header,alg:u.alg,kid:f}),g=Kg(m);t.cnf={jwk:JSON.parse(d)};const y=Kg(JSON.stringify(t)),b=`${g}.${y}`,S=new TextEncoder().encode(b),k=await tQ(l.privateKey,S),N=Al(new Uint8Array(k)),E=`${b}.${N}`;return s&&s.end({success:!0}),E}async hashString(t){return sQ(t)}}oo.POP_KEY_USAGES=["sign","verify"];oo.EXTRACTABLE=!0;function s6(e){return JSON.stringify(e,Object.keys(e).sort())}const YQ="acquireTokenSilent",XQ="acquireTokenByCode",JQ="acquireTokenPopup",QQ="acquireTokenPreRedirect",Ow="acquireTokenRedirect",ZQ="ssoSilent",eZ="initializeClientApplication",tZ="localStorageUpdated";const wn="msal",KN="browser",i6="|",En=2,_p=2,rZ=`${wn}.${KN}.log.level`,nZ=`${wn}.${KN}.log.pii`,aZ=`${wn}.${KN}.platform.auth.dom`,o6=`${wn}.version`,l6="account.keys",c6="token.keys";function Nd(e=_p){return e<1?`${wn}.${l6}`:`${wn}.${e}.${l6}`}function Ed(e,t=En){return t<1?`${wn}.${c6}.${e}`:`${wn}.${t}.${c6}.${e}`}const sZ=1440*60*1e3,c2={Lax:"Lax",None:"None"};class a7{initialize(){return Promise.resolve()}getItem(t){const r=`${encodeURIComponent(t)}`,n=document.cookie.split(";");for(let a=0;a<n.length;a++){const s=n[a],[l,...u]=decodeURIComponent(s).trim().split("="),d=u.join("=");if(l===r)return d}return""}getUserData(){throw Oe(mt)}setItem(t,r,n,a=!0,s=c2.Lax){let l=`${encodeURIComponent(t)}=${encodeURIComponent(r)};path=/;SameSite=${s};`;if(n){const u=iZ(n);l+=`expires=${u};`}(a||s===c2.None)&&(l+="Secure;"),document.cookie=l}async setUserData(){return Promise.reject(Oe(mt))}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),r=[];return t.forEach(n=>{const a=decodeURIComponent(n).trim().split("=");r.push(a[0])}),r}containsKey(t){return this.getKeys().includes(t)}decryptData(){return Promise.resolve(null)}}function iZ(e){const t=new Date;return new Date(t.getTime()+e*sZ).toUTCString()}function al(e,t){const r=e.getItem(Nd(t));return r?JSON.parse(r):[]}function Is(e,t,r){const n=t.getItem(Ed(e,r));if(n){const a=JSON.parse(n);if(a&&a.hasOwnProperty("idToken")&&a.hasOwnProperty("accessToken")&&a.hasOwnProperty("refreshToken"))return a}return{idToken:[],accessToken:[],refreshToken:[]}}function jp(e){return e.hasOwnProperty("id")&&e.hasOwnProperty("nonce")&&e.hasOwnProperty("data")}const u6="msal.cache.encryption",oZ="msal.broadcast.cache";class lZ{constructor(t,r,n){if(!window.localStorage)throw nn(J9);this.memoryStorage=new $x,this.initialized=!1,this.clientId=t,this.logger=r,this.performanceClient=n,this.broadcast=new BroadcastChannel(oZ)}async initialize(t){const r=new a7,n=r.getItem(u6);let a={key:"",id:""};if(n)try{a=JSON.parse(n)}catch{}if(a.key&&a.id){const s=Fs(wl,HQ,this.logger,this.performanceClient,t)(a.key);this.encryptionCookie={id:a.id,key:await be(Q5,n6,this.logger,this.performanceClient,t)(s)}}else{const s=Bc(),l=await be(Y9,$Q,this.logger,this.performanceClient,t)(),u=Fs(Al,qQ,this.logger,this.performanceClient,t)(new Uint8Array(l));this.encryptionCookie={id:s,key:await be(Q5,n6,this.logger,this.performanceClient,t)(l)};const d={id:s,key:u};r.setItem(u6,JSON.stringify(d),0,!0,c2.None)}await be(this.importExistingCache.bind(this),LQ,this.logger,this.performanceClient,t)(t),this.broadcast.addEventListener("message",s=>{this.updateCache(s,t)}),this.initialized=!0}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw Fe(Ep);return this.memoryStorage.getItem(t)}async decryptData(t,r,n){if(!this.initialized||!this.encryptionCookie)throw Fe(Ep);if(r.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null;const a=await be(Z5,a6,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r.nonce,this.getContext(t),r.data);if(!a)return null;try{return{...JSON.parse(a),lastUpdatedAt:r.lastUpdatedAt}}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},n),null}}setItem(t,r){window.localStorage.setItem(t,r)}async setUserData(t,r,n,a,s){if(!this.initialized||!this.encryptionCookie)throw Fe(Ep);if(s)this.setItem(t,r);else{const{data:l,nonce:u}=await be(aQ,KQ,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r,this.getContext(t)),d={id:this.encryptionCookie.id,nonce:u,data:l,lastUpdatedAt:a};this.setItem(t,JSON.stringify(d))}this.memoryStorage.setItem(t,r),this.broadcast.postMessage({key:t,value:r,context:this.getContext(t)})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),al(this).forEach(n=>this.removeItem(n));const r=Is(this.clientId,this);r.idToken.forEach(n=>this.removeItem(n)),r.accessToken.forEach(n=>this.removeItem(n)),r.refreshToken.forEach(n=>this.removeItem(n)),this.getKeys().forEach(n=>{(n.startsWith(wn)||n.indexOf(this.clientId)!==-1)&&this.removeItem(n)})}async importExistingCache(t){if(!this.encryptionCookie)return;let r=al(this);r=await this.importArray(r,t),r.length?this.setItem(Nd(),JSON.stringify(r)):this.removeItem(Nd());const n=Is(this.clientId,this);n.idToken=await this.importArray(n.idToken,t),n.accessToken=await this.importArray(n.accessToken,t),n.refreshToken=await this.importArray(n.refreshToken,t),n.idToken.length||n.accessToken.length||n.refreshToken.length?this.setItem(Ed(this.clientId),JSON.stringify(n)):this.removeItem(Ed(this.clientId))}async getItemFromEncryptedCache(t,r){if(!this.encryptionCookie)return null;const n=this.getItem(t);if(!n)return null;let a;try{a=JSON.parse(n)}catch{return null}return jp(a)?a.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},r),be(Z5,a6,this.logger,this.performanceClient,r)(this.encryptionCookie.key,a.nonce,this.getContext(t),a.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},r),n)}async importArray(t,r){const n=[],a=[];return t.forEach(s=>{const l=this.getItemFromEncryptedCache(s,r).then(u=>{u?(this.memoryStorage.setItem(s,u),n.push(s)):this.removeItem(s)});a.push(l)}),await Promise.all(a),n}getContext(t){let r="";return t.includes(this.clientId)&&(r=this.clientId),r}updateCache(t,r){this.logger.trace("17cxcm",r);const n=this.performanceClient.startMeasurement(tZ);n.add({isBackground:!0});const{key:a,value:s,context:l}=t.data;if(!a){this.logger.error("0e10qr",r),n.end({success:!1,errorCode:"noKey"});return}if(l&&l!==this.clientId){this.logger.trace("04rtdy",r),n.end({success:!1,errorCode:"contextMismatch"});return}s?(this.memoryStorage.setItem(a,s),this.logger.verbose("1vzsgt",r)):(this.memoryStorage.removeItem(a),this.logger.verbose("04ypih",r)),n.end({success:!0})}}class cZ{constructor(){if(!window.sessionStorage)throw nn(J9)}async initialize(){}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,r){window.sessionStorage.setItem(t,r)}async setUserData(t,r){this.setItem(t,r)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}decryptData(){return Promise.resolve(null)}}const Qe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_SUCCESS:"msal:loginSuccess",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",BROKERED_REQUEST_START:"msal:brokeredRequestStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",BROKERED_REQUEST_SUCCESS:"msal:brokeredRequestSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",BROKERED_REQUEST_FAILURE:"msal:brokeredRequestFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};const uZ="@azure/msal-browser",$c="5.0.2";function tl(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class u2 extends r2{constructor(t,r,n,a,s,l,u){super(t,n,a,s,u),this.cacheConfig=r,this.logger=a,this.internalStorage=new $x,this.browserStorage=d6(t,r.cacheLocation,a,s),this.temporaryCacheStorage=d6(t,gs.SessionStorage,a,s),this.cookieStorage=new a7,this.eventHandler=l}async initialize(t){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},t),await this.browserStorage.initialize(t),await this.migrateExistingCache(t),this.trackVersionChanges(t)}async migrateExistingCache(t){let r=al(this.browserStorage),n=Is(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:r.length,preMigrateATCount:n.accessToken.length,preMigrateITCount:n.idToken.length,preMigrateRTCount:n.refreshToken.length},t);for(let s=0;s<_p;s++){const l=s;await this.removeStaleAccounts(s,l,t)}for(let s=0;s<En;s++){const l=s;await this.migrateIdTokens(s,l,t)}const a=this.getKMSIValues();for(let s=0;s<En;s++)await this.migrateAccessTokens(s,a,t),await this.migrateRefreshTokens(s,a,t);r=al(this.browserStorage),n=Is(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:r.length,postMigrateATCount:n.accessToken.length,postMigrateITCount:n.idToken.length,postMigrateRTCount:n.refreshToken.length},t)}async updateOldEntry(t,r){const n=this.browserStorage.getItem(t),a=this.validateAndParseJson(n||"");if(!a)return this.browserStorage.removeItem(t),null;if(!a.lastUpdatedAt)a.lastUpdatedAt=Date.now().toString(),this.setItem(t,JSON.stringify(a),r);else if(L5(a.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r),null;const s=jp(a)?await this.browserStorage.decryptData(t,a,r):a;return!s||!Rx(s)?(this.performanceClient.incrementFields({invalidCacheCount:1},r),null):(B5(s)||z5(s))&&s.expiresOn&&ly(s.expiresOn,G8)?(this.browserStorage.removeItem(t),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r),null):s}async removeStaleAccounts(t,r,n){const a=al(this.browserStorage,t);if(a.length!==0){for(const s of[...a]){this.performanceClient.incrementFields({oldAcntCount:1},n);const l=this.browserStorage.getItem(s),u=this.validateAndParseJson(l||"");if(!u){tl(a,s);continue}if(u.lastUpdatedAt)L5(u.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(s,u,r,n),tl(a,s));else{u.lastUpdatedAt=Date.now().toString(),this.setItem(s,JSON.stringify(u),n);continue}}this.setAccountKeys(a,n,t)}}async removeAccountOldSchema(t,r,n,a){const l=(jp(r)?await this.browserStorage.decryptData(t,r,a):r)?.homeAccountId;if(l){const u=this.getTokenKeys(n);[...u.idToken].filter(d=>d.includes(l)).forEach(d=>{this.browserStorage.removeItem(d),tl(u.idToken,d)}),[...u.accessToken].filter(d=>d.includes(l)).forEach(d=>{this.browserStorage.removeItem(d),tl(u.accessToken,d)}),[...u.refreshToken].filter(d=>d.includes(l)).forEach(d=>{this.browserStorage.removeItem(d),tl(u.refreshToken,d)}),this.setTokenKeys(u,a,n)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},a),this.browserStorage.removeItem(t)}getKMSIValues(){const t={},r=this.getTokenKeys().idToken;for(const n of r){const a=this.browserStorage.getUserData(n);if(a){const s=JSON.parse(a),l=Xi(s.secret,Aa);l&&(t[s.homeAccountId]=_c(l))}}return t}async migrateIdTokens(t,r,n){const a=Is(this.clientId,this.browserStorage,t);if(a.idToken.length===0)return;const s=Is(this.clientId,this.browserStorage,En),l=al(this.browserStorage),u=al(this.browserStorage,r);for(const d of[...a.idToken]){this.performanceClient.incrementFields({oldITCount:1},n);const f=await this.updateOldEntry(d,n);if(!f){tl(a.idToken,d);continue}const m=l.find(E=>E.includes(f.homeAccountId)),g=u.find(E=>E.includes(f.homeAccountId));let y=null;if(m)y=this.getAccount(m,n);else if(g){const E=this.browserStorage.getItem(g),_=this.validateAndParseJson(E||"");y=_&&jp(_)?await this.browserStorage.decryptData(g,_,n):_}if(!y){this.performanceClient.incrementFields({skipITMigrateCount:1},n);continue}const b=Xi(f.secret,Aa),v=this.generateCredentialKey(f),S=this.getIdTokenCredential(v,n),k=Object.keys(b).includes("signin_state"),N=S&&Object.keys(Xi(S.secret,Aa)||{}).includes("signin_state");if(!S||f.lastUpdatedAt>S.lastUpdatedAt&&(k||!N)){const E=y.tenantProfiles||[],_=kN(b)||y.realm;if(_&&!E.find(A=>A.tenantId===_)){const A=Mx(y.homeAccountId,y.localAccountId,_,b);E.push(A)}y.tenantProfiles=E;const O=this.generateAccountKey(jl(y)),j=_c(b);await this.setUserData(O,JSON.stringify(y),n,y.lastUpdatedAt,j),l.includes(O)||l.push(O),await this.setUserData(v,JSON.stringify(f),n,f.lastUpdatedAt,j),this.performanceClient.incrementFields({migratedITCount:1},n),s.idToken.push(v)}}this.setTokenKeys(a,n,t),this.setTokenKeys(s,n),this.setAccountKeys(l,n)}async migrateAccessTokens(t,r,n){const a=Is(this.clientId,this.browserStorage,t);if(a.accessToken.length===0)return;const s=Is(this.clientId,this.browserStorage,En);for(const l of[...a.accessToken]){this.performanceClient.incrementFields({oldATCount:1},n);const u=await this.updateOldEntry(l,n);if(!u){tl(a.accessToken,l);continue}if(!(u.homeAccountId in r)){this.performanceClient.incrementFields({skipATMigrateCount:1},n);continue}const d=this.generateCredentialKey(u),f=r[u.homeAccountId];if(!s.accessToken.includes(d))await this.setUserData(d,JSON.stringify(u),n,u.lastUpdatedAt,f),this.performanceClient.incrementFields({migratedATCount:1},n),s.accessToken.push(d);else{const m=this.getAccessTokenCredential(d,n);(!m||u.lastUpdatedAt>m.lastUpdatedAt)&&(await this.setUserData(d,JSON.stringify(u),n,u.lastUpdatedAt,f),this.performanceClient.incrementFields({migratedATCount:1},n))}}this.setTokenKeys(a,n,t),this.setTokenKeys(s,n)}async migrateRefreshTokens(t,r,n){const a=Is(this.clientId,this.browserStorage,t);if(a.refreshToken.length===0)return;const s=Is(this.clientId,this.browserStorage,En);for(const l of[...a.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},n);const u=await this.updateOldEntry(l,n);if(!u){tl(a.refreshToken,l);continue}if(!(u.homeAccountId in r)){this.performanceClient.incrementFields({skipRTMigrateCount:1},n);continue}const d=this.generateCredentialKey(u),f=r[u.homeAccountId];if(!s.refreshToken.includes(d))await this.setUserData(d,JSON.stringify(u),n,u.lastUpdatedAt,f),this.performanceClient.incrementFields({migratedRTCount:1},n),s.refreshToken.push(d);else{const m=this.getRefreshTokenCredential(d,n);(!m||u.lastUpdatedAt>m.lastUpdatedAt)&&(await this.setUserData(d,JSON.stringify(u),n,u.lastUpdatedAt,f),this.performanceClient.incrementFields({migratedRTCount:1},n))}}this.setTokenKeys(a,n,t),this.setTokenKeys(s,n)}trackVersionChanges(t){const r=this.browserStorage.getItem(o6);r&&(this.logger.info("1wuc87",t),this.performanceClient.addFields({previousLibraryVersion:r},t)),r!==$c&&this.setItem(o6,$c,t)}validateAndParseJson(t){if(!t)return null;try{const r=JSON.parse(t);return r&&typeof r=="object"?r:null}catch{return null}}setItem(t,r,n){const a=new Array(En+1).fill(0),s=[],l=20;for(let u=0;u<=l;u++)try{if(this.browserStorage.setItem(t,r),u>0)for(let d=0;d<=En;d++){const f=a.slice(0,d).reduce((g,y)=>g+y,0);if(f>=u)break;const m=u>f+a[d]?f+a[d]:u;u>f&&a[d]>0&&this.removeAccessTokenKeys(s.slice(f,m),n,d)}break}catch(d){const f=t2(d);if(f.errorCode===e2&&u<l){if(!s.length)for(let m=0;m<=En;m++)if(t===Ed(this.clientId,m)){const g=JSON.parse(r).accessToken;s.push(...g),a[m]=g.length}else{const g=this.getTokenKeys(m).accessToken;s.push(...g),a[m]=g.length}if(s.length<=u)throw f;this.removeAccessToken(s[u],n,!1)}else throw f}}async setUserData(t,r,n,a,s){const l=new Array(En+1).fill(0),u=[],d=20;for(let f=0;f<=d;f++)try{if(await be(this.browserStorage.setUserData.bind(this.browserStorage),UX,this.logger,this.performanceClient,n)(t,r,n,a,s),f>0)for(let m=0;m<=En;m++){const g=l.slice(0,m).reduce((b,v)=>b+v,0);if(g>=f)break;const y=f>g+l[m]?g+l[m]:f;f>g&&l[m]>0&&this.removeAccessTokenKeys(u.slice(g,y),n,m)}break}catch(m){const g=t2(m);if(g.errorCode===e2&&f<d){if(!u.length)for(let y=0;y<=En;y++){const b=this.getTokenKeys(y).accessToken;u.push(...b),l[y]=b.length}if(u.length<=f)throw g;this.removeAccessToken(u[f],n,!1)}else throw g}}getAccount(t,r){this.logger.trace("1lfvm6",r);const n=this.browserStorage.getUserData(t);if(!n)return this.removeAccountKeyFromMap(t,r),null;const a=this.validateAndParseJson(n);return!a||!rX(a)?null:r2.toObject({},a)}async setAccount(t,r,n){this.logger.trace("1bz3wr",r);const a=this.generateAccountKey(jl(t)),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(a,JSON.stringify(t),r,s,n),this.addAccountKeyToMap(a,r),this.performanceClient.addFields({kmsi:n},r)}setAccountKeys(t,r,n=_p){t.length===0?this.removeItem(Nd(n)):this.setItem(Nd(n),JSON.stringify(t),r)}getAccountKeys(){return al(this.browserStorage)}addAccountKeyToMap(t,r){this.logger.trace("0rb85k",r),this.logger.tracePii("1l9bdo",r);const n=this.getAccountKeys();return n.indexOf(t)===-1?(n.push(t),this.setItem(Nd(),JSON.stringify(n),r),this.logger.verbose("0xia39",r),!0):(this.logger.verbose("0161kk",r),!1)}removeAccountKeyFromMap(t,r){this.logger.trace("1jpigu",r),this.logger.tracePii("1xzspl",r);const n=this.getAccountKeys(),a=n.indexOf(t);a>-1?(n.splice(a,1),this.setAccountKeys(n,r)):this.logger.trace("1dytu2",r)}removeAccount(t,r){const n=this.getActiveAccount(r);n?.homeAccountId===t.homeAccountId&&n?.environment===t.environment&&this.setActiveAccount(null,r),super.removeAccount(t,r),this.removeAccountKeyFromMap(this.generateAccountKey(t),r),this.browserStorage.getKeys().forEach(a=>{a.includes(t.homeAccountId)&&a.includes(t.environment)&&this.browserStorage.removeItem(a)})}removeIdToken(t,r){super.removeIdToken(t,r);const n=this.getTokenKeys(),a=n.idToken.indexOf(t);a>-1&&(this.logger.info("05udv9",r),n.idToken.splice(a,1),this.setTokenKeys(n,r))}removeAccessToken(t,r,n=!0){super.removeAccessToken(t,r),n&&this.removeAccessTokenKeys([t],r)}removeAccessTokenKeys(t,r,n=En){this.logger.trace("17o18n",r);const a=this.getTokenKeys(n);let s=0;if(t.forEach(l=>{const u=a.accessToken.indexOf(l);u>-1&&(a.accessToken.splice(u,1),s++)}),s>0){this.logger.info("15i5d5",r),this.setTokenKeys(a,r,n);return}}removeRefreshToken(t,r){super.removeRefreshToken(t,r);const n=this.getTokenKeys(),a=n.refreshToken.indexOf(t);a>-1&&(this.logger.info("1f4fq3",r),n.refreshToken.splice(a,1),this.setTokenKeys(n,r))}getTokenKeys(t=En){return Is(this.clientId,this.browserStorage,t)}setTokenKeys(t,r,n=En){if(t.idToken.length===0&&t.accessToken.length===0&&t.refreshToken.length===0){this.removeItem(Ed(this.clientId,n));return}else this.setItem(Ed(this.clientId,n),JSON.stringify(t),r)}getIdTokenCredential(t,r){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("1jukz6",r),this.removeIdToken(t,r),null;const a=this.validateAndParseJson(n);return!a||!$X(a)?(this.logger.trace("1jukz6",r),null):(this.logger.trace("01ju66",r),a)}async setIdTokenCredential(t,r,n){this.logger.trace("13hjll",r);const a=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(a,JSON.stringify(t),r,s,n);const l=this.getTokenKeys();l.idToken.indexOf(a)===-1&&(this.logger.info("07jy92",r),l.idToken.push(a),this.setTokenKeys(l,r))}getAccessTokenCredential(t,r){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("0bqvx8",r),this.removeAccessTokenKeys([t],r),null;const a=this.validateAndParseJson(n);return!a||!B5(a)?(this.logger.trace("0bqvx8",r),null):(this.logger.trace("1o81rl",r),a)}async setAccessTokenCredential(t,r,n){this.logger.trace("1pondb",r);const a=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(a,JSON.stringify(t),r,s,n);const l=this.getTokenKeys(),u=l.accessToken.indexOf(a);u!==-1&&l.accessToken.splice(u,1),this.logger.trace("1onhey",r),l.accessToken.push(a),this.setTokenKeys(l,r)}getRefreshTokenCredential(t,r){const n=this.browserStorage.getUserData(t);if(!n)return this.logger.trace("0jlizt",r),this.removeRefreshToken(t,r),null;const a=this.validateAndParseJson(n);return!a||!z5(a)?(this.logger.trace("0jlizt",r),null):(this.logger.trace("0nokxi",r),a)}async setRefreshTokenCredential(t,r,n){this.logger.trace("0tcg8d",r);const a=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(a,JSON.stringify(t),r,s,n);const l=this.getTokenKeys();l.refreshToken.indexOf(a)===-1&&(this.logger.info("0eckjs",r),l.refreshToken.push(a),this.setTokenKeys(l,r))}getAppMetadata(t,r){const n=this.browserStorage.getItem(t);if(!n)return this.logger.trace("1q101h",r),null;const a=this.validateAndParseJson(n);return!a||!GX(t,a)?(this.logger.trace("1q101h",r),null):(this.logger.trace("19pvg2",r),a)}setAppMetadata(t,r){this.logger.trace("0cyma6",r);const n=KX(t);this.setItem(n,JSON.stringify(t),r)}getServerTelemetry(t,r){const n=this.browserStorage.getItem(t);if(!n)return this.logger.trace("0jk19c",r),null;const a=this.validateAndParseJson(n);return!a||!HX(t,a)?(this.logger.trace("0jk19c",r),null):(this.logger.trace("12jguk",r),a)}setServerTelemetry(t,r,n){this.logger.trace("1poh61",n),this.setItem(t,JSON.stringify(r),n)}getAuthorityMetadata(t,r){const n=this.internalStorage.getItem(t);if(!n)return this.logger.trace("1r39oe",r),null;const a=this.validateAndParseJson(n);return a&&WX(t,a)?(this.logger.trace("1ohvk3",r),a):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(r=>this.isAuthorityMetadata(r))}setWrapperMetadata(t,r){this.internalStorage.setItem(qg.WRAPPER_SKU,t),this.internalStorage.setItem(qg.WRAPPER_VER,r)}getWrapperMetadata(){const t=this.internalStorage.getItem(qg.WRAPPER_SKU)||"",r=this.internalStorage.getItem(qg.WRAPPER_VER)||"";return[t,r]}setAuthorityMetadata(t,r,n){this.logger.trace("07w8n2",n),this.internalStorage.setItem(t,JSON.stringify(r))}getActiveAccount(t){const r=this.generateCacheKey(k5.ACTIVE_ACCOUNT_FILTERS),n=this.browserStorage.getItem(r);if(!n)return this.logger.trace("08gw0e",t),null;const a=this.validateAndParseJson(n);return a?(this.logger.trace("1t3ch7",t),this.getAccountInfoFilteredBy({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId,tenantId:a.tenantId},t)):(this.logger.trace("0me1up",t),null)}setActiveAccount(t,r){const n=this.generateCacheKey(k5.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("0rsj80",r);const a={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.setItem(n,JSON.stringify(a),r)}else this.logger.verbose("1bp5z5",r),this.browserStorage.removeItem(n);this.eventHandler.emitEvent(Qe.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t,r){const n=this.browserStorage.getItem(t);if(!n)return this.logger.trace("1h4wa6",r),null;const a=this.validateAndParseJson(n);return!a||!qX(t,a)?(this.logger.trace("1h4wa6",r),null):(this.logger.trace("0of6n8",r),a)}setThrottlingCache(t,r,n){this.logger.trace("0wfgh6",n),this.setItem(t,JSON.stringify(r),n)}getTemporaryCache(t,r,n){const a=n?this.generateCacheKey(t):t,s=this.temporaryCacheStorage.getItem(a);if(!s){if(this.cacheConfig.cacheLocation===gs.LocalStorage){const l=this.browserStorage.getItem(a);if(l)return this.logger.trace("1yt61y",r),l}return this.logger.trace("1qhy81",r),null}return s}setTemporaryCache(t,r,n){const a=n?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(a,r)}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t)}getKeys(){return this.browserStorage.getKeys()}clear(t){this.removeAllAccounts(t),this.removeAppMetadata(t),this.temporaryCacheStorage.getKeys().forEach(r=>{(r.indexOf(wn)!==-1||r.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(r)}),this.browserStorage.getKeys().forEach(r=>{(r.indexOf(wn)!==-1||r.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(r)}),this.internalStorage.clear()}generateCacheKey(t){return ms.startsWith(t,wn)?t:`${wn}.${this.clientId}.${t}`}generateCredentialKey(t){const r=t.credentialType===vn.REFRESH_TOKEN&&t.familyId||t.clientId,n=t.tokenType&&t.tokenType.toLowerCase()!==Ft.BEARER.toLowerCase()?t.tokenType.toLowerCase():"";return[`${wn}.${En}`,t.homeAccountId,t.environment,t.credentialType,r,t.realm||"",t.target||"",n].join(i6).toLowerCase()}generateAccountKey(t){const r=t.homeAccountId.split(".")[1];return[`${wn}.${_p}`,t.homeAccountId,t.environment,r||t.tenantId||""].join(i6).toLowerCase()}resetRequestCache(t){this.logger.trace("0h0ynu",t),this.removeTemporaryItem(this.generateCacheKey(Pr.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Pr.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Pr.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Pr.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Pr.NATIVE_REQUEST)),this.setInteractionInProgress(!1,void 0)}cacheAuthorizeRequest(t,r,n){this.logger.trace("1tzef5",r);const a=n0(JSON.stringify(t));if(this.setTemporaryCache(Pr.REQUEST_PARAMS,a,!0),n){const s=n0(n);this.setTemporaryCache(Pr.VERIFIER,s,!0)}}getCachedRequest(t){this.logger.trace("0uen20",t);const r=this.getTemporaryCache(Pr.REQUEST_PARAMS,t,!0);if(!r)throw Fe(TJ);const n=this.getTemporaryCache(Pr.VERIFIER,t,!0);let a,s="";try{a=JSON.parse(Aa(r)),n&&(s=Aa(n))}catch{throw this.logger.errorPii("0ewsey",t),this.logger.error("0tvdic",t),Fe(IJ)}return[a,s]}getCachedNativeRequest(){this.logger.trace("1yxcdm","");const t=this.getTemporaryCache(Pr.NATIVE_REQUEST,"",!0);if(!t)return this.logger.trace("0mnxd4",""),null;const r=this.validateAndParseJson(t);return r||(this.logger.error("0rrkip",""),null)}isInteractionInProgress(t){const r=this.getInteractionInProgress()?.clientId;return t?r===this.clientId:!!r}getInteractionInProgress(){const t=`${wn}.${Pr.INTERACTION_STATUS_KEY}`,r=this.getTemporaryCache(t,"",!1);try{return r?JSON.parse(r):null}catch{return this.logger.error("0jjyys",""),this.removeTemporaryItem(t),this.resetRequestCache(""),Q9(window),null}}setInteractionInProgress(t,r=dl.SIGNIN,n=!1,a=""){const s=`${wn}.${Pr.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())if(n)this.logger.warning("1pmscr",a),uQ(this.logger,a),this.removeTemporaryItem(s);else throw Fe(wJ);this.setTemporaryCache(s,JSON.stringify({clientId:this.clientId,type:r}),!1)}else!t&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(s)}async hydrateCache(t,r){const n=_N(t.account?.homeAccountId,t.account?.environment,t.idToken,this.clientId,t.tenantId),a=jN(t.account?.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?P5(t.expiresOn):0,t.extExpiresOn?P5(t.extExpiresOn):0,Aa,void 0,t.tokenType,void 0,r.sshKid),s={idToken:n,accessToken:a};return this.saveCacheRecord(s,t.correlationId,_c(Xi(t.idToken,Aa)))}async saveCacheRecord(t,r,n,a){try{await super.saveCacheRecord(t,r,n,a)}catch(s){if(s instanceof kd&&this.performanceClient&&r)try{const l=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:l.refreshToken.length,cacheIdCount:l.idToken.length,cacheAtCount:l.accessToken.length},r)}catch{}throw s}}}function d6(e,t,r,n){try{switch(t){case gs.LocalStorage:return new lZ(e,r,n);case gs.SessionStorage:return new cZ;case gs.MemoryStorage:default:break}}catch(a){r.error(a,"")}return new $x}const dZ=(e,t,r,n)=>{const a={cacheLocation:gs.MemoryStorage,cacheRetentionDays:5};return new u2(e,a,ay,t,r,n)};function fZ(e,t,r,n,a){return e.verbose("1yd030",n),r?t.getAllAccounts(a,n):[]}function hZ(e,t,r,n){if(t.trace("0u7b90",n),Object.keys(e).length===0)return t.warning("1kz0cu",n),null;const a=r.getAccountInfoFilteredBy(e,n);return a?(t.verbose("0btgll",n),a):(t.verbose("0ltaj5",n),null)}function mZ(e,t,r){t.setActiveAccount(e,r)}function gZ(e,t){return e.getActiveAccount(t)}const pZ="msal.broadcast.event";class yZ{constructor(t){this.eventCallbacks=new Map,this.logger=t||new $s({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(pZ)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,r,n){if(typeof window<"u"){const a=n||l2();return this.eventCallbacks.has(a)?(this.logger.error("1578i0",""),null):(this.eventCallbacks.set(a,[t,r||[]]),this.logger.verbose("1cnec4",""),a)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose("12zotd","")}emitEvent(t,r,n,a){const s={eventType:t,interactionType:r||null,payload:n||null,error:a||null,timestamp:Date.now()};switch(t){case Qe.LOGIN_SUCCESS:case Qe.LOGOUT_SUCCESS:case Qe.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(s)}this.invokeCallbacks(s)}invokeCallbacks(t){this.eventCallbacks.forEach(([r,n],a)=>{(n.length===0||n.includes(t.eventType))&&(this.logger.verbose("15jpwk",""),r.apply(null,[t]))})}invokeCrossTabCallbacks(t){const r=t.data;this.invokeCallbacks(r)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class s7{constructor(t,r,n,a,s,l,u,d,f){this.config=t,this.browserStorage=r,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=s,this.navigationClient=l,this.platformAuthProvider=f,this.correlationId=d,this.logger=a.clone(os.MSAL_SKU,$c),this.performanceClient=u}}function dy(e,t,r,n){r.verbose("0bd1la",n);const a=e||t||"";return Ot.getAbsoluteUrl(a,yl())}function ha(e,t,r,n,a,s){a.verbose("1p12tq",r);const l={clientId:t,correlationId:r,apiId:e,forceRefresh:!1,wrapperSKU:n.getWrapperMetadata()[0],wrapperVer:n.getWrapperMetadata()[1]};return new r0(l,n)}async function Zi(e,t,r,n,a,s,l,u,d){const f=u&&u.hasOwnProperty("instance_aware")?u.instance_aware:void 0,m={protocolMode:e.system.protocolMode,OIDCOptions:e.auth.OIDCOptions,knownAuthorities:e.auth.knownAuthorities,cloudDiscoveryMetadata:e.auth.cloudDiscoveryMetadata,authorityMetadata:e.auth.authorityMetadata},g=s||e.auth.authority,y=f?.length?f==="true":e.auth.instanceAware,b=d&&y?e.auth.authority.replace(Ot.getDomainFromUrl(g),d.environment):g,v=sa.generateAuthority(b,l||e.auth.azureCloudOptions),S=await be(M9,OQ,a,r,t)(v,e.system.networkClient,n,m,a,t,r);if(d&&!S.isAlias(d.environment))throw nr(uY);return S}async function GN(e,t,r,n,a){if(a)try{e.removeAccount(a,n),r.verbose("0s4z6h",n)}catch{r.error("0mgg1d",n)}else try{r.verbose("0zj631",n),e.clear(n),await t.clearKeystore(n)}catch{r.error("12ih0c",n)}}async function WN(e,t,r,n,a){const s=e.authority||t.auth.authority,l=[...e&&e.scopes||[]],u={...e,correlationId:e.correlationId,authority:s,scopes:l};if(!u.authenticationScheme)u.authenticationScheme=Ft.BEARER,n.verbose("1l4fwv",a);else{if(u.authenticationScheme===Ft.SSH){if(!e.sshJwk)throw nr(oN);if(!e.sshKid)throw nr(oY)}n.verbose("1ecmns",a)}return u}async function xZ(e,t,r,n,a){const s=await be(WN,$N,a,n,e.correlationId)(e,r,n,a,e.correlationId);return{...e,...s,account:t,forceRefresh:e.forceRefresh||!1}}function i7(e,t){let r;const n=e.httpMethod;if(t===fa.EAR){if(n&&n!==wd.POST)throw nr(dY);r=wd.POST}else r=n||wd.GET;return r}class of extends s7{initializeLogoutRequest(t){this.logger.verbose("0546u4",this.correlationId);const r={correlationId:this.correlationId,...t};if(t)if(t.logoutHint)this.logger.verbose("12k4l4",this.correlationId);else if(t.account){const n=this.getLogoutHintFromIdTokenClaims(t.account);n&&(this.logger.verbose("0st5di",this.correlationId),r.logoutHint=n)}else this.logger.verbose("0pdtc3",this.correlationId);else this.logger.verbose("07ndze",this.correlationId);return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("1vamm6",r.correlationId),r.postLogoutRedirectUri=Ot.getAbsoluteUrl(t.postLogoutRedirectUri,yl())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("15m5g7",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("1f4xlz",r.correlationId),r.postLogoutRedirectUri=Ot.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,yl())):(this.logger.verbose("17s5rf",r.correlationId),r.postLogoutRedirectUri=Ot.getAbsoluteUrl(yl(),yl())):this.logger.verbose("0ljv63",r.correlationId),r}getLogoutHintFromIdTokenClaims(t){const r=t.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("0mvp54",this.correlationId)}else this.logger.verbose("1e7bdp",this.correlationId);return null}async createAuthCodeClient(t){const r=await be(this.getClientConfiguration.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)(t);return new R9(r,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:r,requestAuthority:n,requestAzureCloudOptions:a,requestExtraQueryParameters:s,account:l}=t,u=t.authority||await be(Zi,jc,this.logger,this.performanceClient,this.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,n,a,s,l),d=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:u,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:d.loggerCallback,piiLoggingEnabled:d.piiLoggingEnabled,logLevel:d.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:os.MSAL_SKU,version:$c,cpu:"",os:""},telemetry:this.config.telemetry}}}async function Hx(e,t,r,n,a,s,l,u){const d=dy(e.redirectUri,r.auth.redirectUri,s,u),f={interactionType:t},m=yX(n,e&&e.state||"",f),y={...await be(WN,$N,s,l,u)({...e,correlationId:u},r,l,s,u),redirectUri:d,state:m,nonce:e.nonce||Bc(),responseMode:r.auth.OIDCOptions.responseMode},b={...y,httpMethod:i7(y,r.system.protocolMode)};if(e.loginHint||e.sid)return b;const v=e.account||a.getActiveAccount(u);return v&&(s.verbose("1eqlb3",u),s.verbosePii("0tf99t",u),b.account=v),b}function bZ(e,t){if(!t)return null;try{return M0(e.base64Decode,t).libraryState.meta}catch{throw Oe(e0)}}function Vh(e,t,r,n){const a=ny(e);if(!a)throw g9(e)?(r.error("13pl0s",n),r.errorPii("1097vx",n),Fe(bJ)):(r.error("18h0l1",n),Fe(xJ));return a}function vZ(e,t,r){if(!e.state)throw Fe(MN);const n=bZ(t,e.state);if(!n)throw Fe(z9);if(n.interactionType!==r)throw Fe(vJ)}class o7{constructor(t,r,n,a,s){this.authModule=t,this.browserStorage=r,this.authCodeRequest=n,this.logger=a,this.performanceClient=s}async handleCodeResponse(t,r){let n;try{n=sJ(t,r.state)}catch(a){throw a instanceof su&&a.subError===i2?Fe(i2):a}return be(this.handleCodeResponseFromServer.bind(this),E9,this.logger,this.performanceClient,r.correlationId)(n,r)}async handleCodeResponseFromServer(t,r,n=!0){if(this.logger.trace("0mf2hb",r.correlationId),this.authCodeRequest.code=t.code,n&&(t.nonce=r.nonce||void 0),t.state=r.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const s=this.createCcsCredentials(r);s&&(this.authCodeRequest.ccsCredential=s)}return await be(this.authModule.acquireToken.bind(this.authModule),IQ,this.logger,this.performanceClient,r.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:Ls.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:Ls.UPN}:null}}const wZ="ContentError",kZ="PageException",SZ="user_switch";const CZ="USER_INTERACTION_REQUIRED",NZ="USER_CANCEL",EZ="NO_NETWORK",_Z="PERSISTENT_ERROR",jZ="DISABLED",AZ="ACCOUNT_UNAVAILABLE",TZ="UX_NOT_ALLOWED";const IZ=-2147186943;class si extends Yt{constructor(t,r,n){super(t,r||Ux(t)),Object.setPrototypeOf(this,si.prototype),this.name="NativeAuthError",this.ext=n}}function id(e){if(e.ext&&e.ext.status&&(e.ext.status===_Z||e.ext.status===jZ)||e.ext&&e.ext.error&&e.ext.error===IZ)return!0;switch(e.errorCode){case wZ:case kZ:return!0;default:return!1}}function fy(e,t,r){if(r&&r.status)switch(r.status){case AZ:return oy(fX,Ux(e));case CZ:return new Hs(e,t);case NZ:return Fe(i2);case EZ:return Fe(o2);case TZ:return oy(C9)}return new si(e,t,r)}class l7 extends of{async acquireToken(t){const r=ha(Rt.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),n=await be(this.getClientConfiguration.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),a=new rJ(n,this.performanceClient);this.logger.verbose("0wa871",this.correlationId);try{const l=(await be(a.acquireCachedToken.bind(a),jQ,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),l}catch(s){throw s instanceof D0&&s.errorCode===H9&&this.logger.verbose("06wena",this.correlationId),s}}logout(t){this.logger.verbose("1rkurh",this.correlationId);const r=this.initializeLogoutRequest(t);return GN(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,r.account)}}class Ap extends s7{constructor(t,r,n,a,s,l,u,d,f,m,g,y){super(t,r,n,a,s,l,d,y,f),this.apiId=u,this.accountId=m,this.platformAuthProvider=f,this.nativeStorageManager=g,this.silentCacheClient=new l7(t,this.nativeStorageManager,n,a,s,l,d,y,f);const b=this.platformAuthProvider.getExtensionName();this.skus=r0.makeExtraSkuString({libraryName:os.MSAL_SKU,libraryVersion:$c,extensionName:b,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[XV]:this.skus}}async acquireToken(t,r){this.logger.trace("03qeos",this.correlationId);const n=this.performanceClient.startMeasurement(r7,t.correlationId),a=qs(),s=ha(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const l=await this.initializeNativeRequest(t);try{const d=await this.acquireTokensFromCache(this.accountId,l);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),d}catch(d){if(r===Bn.AccessToken)throw this.logger.info("0eitbc",this.correlationId),d;this.logger.info("0957j1",this.correlationId)}const u=await this.platformAuthProvider.sendMessage(l);return await this.handleNativeResponse(u,l,a).then(d=>(n.end({success:!0,isNativeBroker:!0,requestId:d.requestId}),s.clearNativeBrokerErrorCode(),d)).catch(d=>{throw n.end({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})}catch(l){throw l instanceof si&&s.setNativeBrokerErrorCode(l.errorCode),l}}createSilentCacheRequest(t,r){return{authority:t.authority,correlationId:this.correlationId,scopes:On.fromString(t.scope).asArray(),account:r,forceRefresh:!1}}async acquireTokensFromCache(t,r){if(!t)throw this.logger.warning("1ndf3e",this.correlationId),Oe(j5);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:t},r.correlationId);if(!n)throw Oe(j5);try{const a=this.createSilentCacheRequest(r,n),s=await this.silentCacheClient.acquireToken(a),l={...n,idTokenClaims:s?.idTokenClaims,idToken:s?.idToken};return{...s,account:l}}catch(a){throw a}}async acquireTokenRedirect(t,r,n){this.logger.trace("0luikq",this.correlationId);const a=await this.initializeNativeRequest(t),s=n?.navigateToLoginRequestUrl??!0;try{await this.platformAuthProvider.sendMessage(a)}catch(d){if(d instanceof si&&(ha(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).setNativeBrokerErrorCode(d.errorCode),id(d)))throw d}this.browserStorage.setTemporaryCache(Pr.NATIVE_REQUEST,JSON.stringify(a),!0);const l={apiId:Rt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=s?window.location.href:dy(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId);r.end({success:!0}),await this.navigationClient.navigateExternal(u,l)}async handleRedirectPromise(t,r){if(this.logger.trace("1c5lhw",this.correlationId),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",this.correlationId),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("0a6zjb",this.correlationId),t&&r&&t?.addFields({errorCode:"no_cached_request"},r),null;const{prompt:a,...s}=n;a&&this.logger.verbose("0ac34v",this.correlationId),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Pr.NATIVE_REQUEST));const l=qs();try{this.logger.verbose("003x5a",this.correlationId);const u=await this.platformAuthProvider.sendMessage(s),d=await this.handleNativeResponse(u,s,l);return ha(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger).clearNativeBrokerErrorCode(),d}catch(u){throw u}}logout(){return this.logger.trace("0u2sjm",this.correlationId),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,r,n){this.logger.trace("1bojln",this.correlationId);const a=Xi(t.id_token,Aa),s=this.createHomeAccountIdentifier(t,a),l=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:r.accountId},this.correlationId)?.homeAccountId;if(r.extraParameters?.child_client_id&&t.account.id!==r.accountId)this.logger.info("1ub1in",this.correlationId);else if(s!==l&&t.account.id!==r.accountId)throw fy(SZ);const u=await Zi(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,r.authority),d=_9(this.browserStorage,u,s,Aa,this.correlationId,a,t.client_info,void 0,a.tid,void 0,t.account.id);t.expires_in=Number(t.expires_in);const f=await this.generateAuthenticationResult(t,r,a,d,u.canonicalAuthority,n);return await this.cacheAccount(d,_c(a)),await this.cacheNativeTokens(t,r,s,a,t.access_token,f.tenantId,n),f}createHomeAccountIdentifier(t,r){return b9(t.client_info||"",Os.Default,this.logger,this.browserCrypto,this.correlationId,r)}generateScopes(t,r){return r?On.fromString(r):On.fromString(t)}async generatePopAccessToken(t,r){if(r.tokenType===Ft.POP&&r.signPopToken){if(t.shr)return this.logger.trace("0coqhu",this.correlationId),t.shr;const n=new Rd(this.browserCrypto,this.performanceClient),a={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce,correlationId:this.correlationId};if(!r.keyId)throw Oe(s9);return n.signPopToken(t.access_token,r.keyId,a)}else return t.access_token}async generateAuthenticationResult(t,r,n,a,s,l){const u=this.addTelemetryFromNativeResponse(t.properties.MATS),d=this.generateScopes(r.scope,t.scope),f=t.account.properties||{},m=f.UID||n.oid||n.sub||"",g=f.TenantId||n.tid||"",y=vN(jl(a),void 0,n,t.id_token);y.nativeAccountId!==t.account.id&&(y.nativeAccountId=t.account.id);const b=await this.generatePopAccessToken(t,r),v=r.tokenType===Ft.POP?Ft.POP:Ft.BEARER;return{authority:s,uniqueId:m,tenantId:g,scopes:d.asArray(),account:y,idToken:t.id_token,idTokenClaims:n,accessToken:b,fromCache:u?this.isResponseFromCache(u):!1,expiresOn:Np(l+t.expires_in),tokenType:v,correlationId:this.correlationId,state:t.state,fromPlatformBroker:!0}}async cacheAccount(t,r){await this.browserStorage.setAccount(t,this.correlationId,r),this.browserStorage.removeAccountContext(jl(t),this.correlationId)}cacheNativeTokens(t,r,n,a,s,l,u){const d=_N(n,r.authority,t.id_token||"",r.clientId,a.tid||""),f=r.tokenType===Ft.POP?x5:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,m=u+f,g=this.generateScopes(t.scope,r.scope),y=jN(n,r.authority,s,r.clientId,a.tid||l,g.printScopes(),m,0,Aa,void 0,r.tokenType,void 0,r.keyId),b={idToken:d,accessToken:y};return this.nativeStorageManager.saveCacheRecord(b,this.correlationId,_c(a),r.storeInCache)}getExpiresInValue(t,r){return t===Ft.POP?x5:(typeof r=="string"?parseInt(r,10):r)||0}addTelemetryFromNativeResponse(t){const r=this.getMATSFromResponse(t);return r?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:r.broker_version,matsAccountJoinOnStart:r.account_join_on_start,matsAccountJoinOnEnd:r.account_join_on_end,matsDeviceJoin:r.device_join,matsPromptBehavior:r.prompt_behavior,matsApiErrorCode:r.api_error_code,matsUiVisible:r.ui_visible,matsSilentCode:r.silent_code,matsSilentBiSubCode:r.silent_bi_sub_code,matsSilentMessage:r.silent_message,matsSilentStatus:r.silent_status,matsHttpStatus:r.http_status,matsHttpEventCount:r.http_event_count},this.correlationId),r):null}getMATSFromResponse(t){if(t)try{return JSON.parse(t)}catch{this.logger.error("0b3l57",this.correlationId)}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("1okqev",this.correlationId),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("04j6wj",this.correlationId);const r=await this.getCanonicalAuthority(t),{scopes:n,...a}=t,s=new On(n||[]);s.appendScopes(af);const l={...a,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:dy(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId),prompt:this.getPrompt(t.prompt),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraParameters},extendedExpiryToken:!1,keyId:t.popKid};if(l.signPopToken&&t.popKid)throw Fe($J);if(this.handleExtraBrokerParams(l),l.extraParameters=l.extraParameters||{},l.extraParameters.telemetry=ls.MATS_TELEMETRY,t.authenticationScheme===Ft.POP){const u={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce,correlationId:this.correlationId},d=new Rd(this.browserCrypto,this.performanceClient);let f;if(l.keyId)f=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:l.keyId})),l.signPopToken=!1;else{const m=await be(d.generateCnf.bind(d),R0,this.logger,this.performanceClient,this.correlationId)(u,this.logger);f=m.reqCnfString,l.keyId=m.kid,l.signPopToken=!0}l.reqCnf=f}return this.addRequestSKUs(l),l}async getCanonicalAuthority(t){const r=t.authority||this.config.auth.authority,{azureCloudOptions:n,account:a}=t;a&&await Zi(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,r,n,void 0,a);const s=new Ot(r);return s.validateAsUri(),s}getPrompt(t){switch(this.apiId){case Rt.ssoSilent:case Rt.acquireTokenSilent_silentFlow:return this.logger.trace("1hiwaz",this.correlationId),la.NONE}if(!t){this.logger.trace("1qlu04",this.correlationId);return}switch(t){case la.NONE:case la.CONSENT:case la.LOGIN:return this.logger.trace("1ynje4",this.correlationId),t;default:throw this.logger.trace("0nkr6q",this.correlationId),Fe(BJ)}}handleExtraBrokerParams(t){const r=t.extraParameters&&t.extraParameters.hasOwnProperty(ey)&&t.extraParameters.hasOwnProperty(ty)&&t.extraParameters.hasOwnProperty(Uc);if(!t.embeddedClientId&&!r)return;let n="";const a=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,n=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[ty],n=t.extraParameters[Uc]),t.extraParameters={child_client_id:n,child_redirect_uri:a},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:a},t.correlationId)}}async function VN(e,t,r,n,a){const s=aJ({...e.auth,authority:t},r,n,a);if(mN(s,{sku:os.MSAL_SKU,version:$c,os:"",cpu:""}),e.system.protocolMode!==fa.OIDC&&gN(s,e.telemetry.application),r.platformBroker&&(TY(s),r.authenticationScheme===Ft.POP)){const l=new oo(n,a),u=new Rd(l,a);let d;r.popKid?d=l.encodeKid(r.popKid):d=(await be(u.generateCnf.bind(u),R0,n,a,r.correlationId)(r,n)).reqCnfString,xN(s,d)}return Tx(s,r.correlationId,a),s}async function YN(e,t,r,n,a){if(!r.codeChallenge)throw nr(J8);const s=await be(VN,AQ,n,a,r.correlationId)(e,t,r,n,a);return lN(s,tN.CODE),pN(s,r.codeChallenge,eN),fi(s,{...r.extraQueryParameters,...r.extraParameters}),AN(t,s)}async function XN(e,t,r,n,a,s){if(!n.earJwk)throw Fe(B9);const l=await VN(t,r,n,a,s);lN(l,tN.IDTOKEN_TOKEN_REFRESHTOKEN),zY(l,n.earJwk),pN(l,n.codeChallenge,eN),fi(l,{...n.extraParameters});const u=new Map;fi(u,n.extraQueryParameters||{});const d=AN(r,u);return c7(e,d,l)}async function JN(e,t,r,n,a,s){const l=await VN(t,r,n,a,s);lN(l,tN.CODE),pN(l,n.codeChallenge,n.codeChallengeMethod||eN),fi(l,{...n.extraParameters});const u=new Map;fi(u,n.extraQueryParameters||{});const d=AN(r,u);return c7(e,d,l)}function c7(e,t,r){const n=e.createElement("form");return n.method="post",n.action=t,r.forEach((a,s)=>{const l=e.createElement("input");l.hidden=!0,l.name=s,l.value=a,n.appendChild(l)}),e.body.appendChild(n),n}async function u7(e,t,r,n,a,s,l,u,d,f){if(u.verbose("11qcow",e.correlationId),!f)throw Fe(K9);const m=new oo(u,d),g=new Ap(n,a,m,u,l,n.system.navigationClient,r,d,f,t,s,e.correlationId),{userRequestState:y}=M0(m.base64Decode,e.state);return be(g.acquireToken.bind(g),r7,u,d,e.correlationId)({...e,state:y,prompt:void 0})}async function _d(e,t,r,n,a,s,l,u,d,f,m,g){if(ai.removeThrottle(l,a.auth.clientId,e),t.accountId)return be(u7,n7,f,m,e.correlationId)(e,t.accountId,n,a,l,u,d,f,m,g);const y={...e,code:t.code||"",codeVerifier:r},b=new o7(s,l,y,f,m);return await be(b.handleCodeResponse.bind(b),TQ,f,m,e.correlationId)(t,e)}async function QN(e,t,r,n,a,s,l,u,d,f,m){if(ai.removeThrottle(s,n.auth.clientId,e),D9(t,e.state),!t.ear_jwe)throw Fe(yJ);if(!e.earJwk)throw Fe(B9);const g=JSON.parse(await be(nQ,GQ,d,f,e.correlationId)(e.earJwk,t.ear_jwe));if(g.accountId)return be(u7,n7,d,f,e.correlationId)(e,g.accountId,r,n,s,l,u,d,f,m);const y=new Fc(n.auth.clientId,s,new oo(d,f),d,f,null,null);y.validateTokenResponse(g,e.correlationId);const b={code:"",state:e.state,nonce:e.nonce,client_info:g.client_info,cloud_graph_host_name:g.cloud_graph_host_name,cloud_instance_host_name:g.cloud_instance_host_name,cloud_instance_name:g.cloud_instance_name,msgraph_host:g.msgraph_host};return await be(y.handleServerTokenResponse.bind(y),EN,d,f,e.correlationId)(g,a,qs(),e,b,void 0,void 0,void 0,void 0)}const OZ=32;async function Hc(e,t,r){const n=Fs(MZ,UQ,t,e,r)(e,t,r),a=await be(RZ,FQ,t,e,r)(n,e,t,r);return{verifier:n,challenge:a}}function MZ(e,t,r){try{const n=new Uint8Array(OZ);return Fs(QJ,zQ,t,e,r)(n),Al(n)}catch{throw Fe(F9)}}async function RZ(e,t,r,n){try{const a=await be(V9,BQ,r,t,n)(e);return Al(new Uint8Array(a))}catch{throw Fe(F9)}}class hy{navigateInternal(t,r){return hy.defaultNavigateWindow(t,r)}navigateExternal(t,r){return hy.defaultNavigateWindow(t,r)}static defaultNavigateWindow(t,r){return r.noHistory?window.location.replace(t):window.location.assign(t),new Promise((n,a)=>{setTimeout(()=>{a(Fe(cy,"failed_to_redirect"))},r.timeout)})}}class DZ{async sendGetRequestAsync(t,r){let n,a={},s=0;const l=f6(r);try{n=await fetch(t,{method:G5.GET,headers:l})}catch(u){throw $h(Fe(window.navigator.onLine?MJ:o2),void 0,void 0,u)}a=h6(n.headers);try{return s=n.status,{headers:a,body:await n.json(),status:s}}catch(u){throw $h(Fe(Y5),s,a,u)}}async sendPostRequestAsync(t,r){const n=r&&r.body||"",a=f6(r);let s,l=0,u={};try{s=await fetch(t,{method:G5.POST,headers:a,body:n})}catch(d){throw $h(Fe(window.navigator.onLine?OJ:o2),void 0,void 0,d)}u=h6(s.headers);try{return l=s.status,{headers:u,body:await s.json(),status:l}}catch(d){throw $h(Fe(Y5),l,u,d)}}}function f6(e){try{const t=new Headers;if(!(e&&e.headers))return t;const r=e.headers;return Object.entries(r).forEach(([n,a])=>{t.append(n,a)}),t}catch(t){throw $h(Fe(HJ),void 0,void 0,t)}}function h6(e){try{const t={};return e.forEach((r,n)=>{t[n]=r}),t}catch{throw Fe(qJ)}}const PZ=6e4,LZ=1e4,UZ=3e4,d7=2e3;function FZ({auth:e,cache:t,system:r,telemetry:n},a){const s={clientId:"",authority:`${L8}`,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:"",postLogoutRedirectUri:"",clientCapabilities:[],OIDCOptions:{responseMode:rN.FRAGMENT,defaultScopes:[F8,B8,ZC]},azureCloudOptions:{azureCloudInstance:bN.None,tenant:""},instanceAware:!1},l={cacheLocation:gs.SessionStorage,cacheRetentionDays:5},u={loggerCallback:()=>{},logLevel:gr.Info,piiLoggingEnabled:!1},f={...{...w9,loggerOptions:u,networkClient:a?new DZ:nJ,navigationClient:new hy,popupBridgeTimeout:r?.popupBridgeTimeout||PZ,iframeBridgeTimeout:r?.iframeBridgeTimeout||LZ,redirectNavigationTimeout:UZ,allowRedirectInIframe:!1,navigatePopups:!0,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:r?.nativeBrokerHandshakeTimeout||d7,protocolMode:fa.AAD},...r,loggerOptions:r?.loggerOptions||u},m={application:{appName:"",appVersion:""},client:new v9};if(r?.protocolMode!==fa.OIDC&&e?.OIDCOptions&&new $s(f.loggerOptions).warning(JSON.stringify(nr(lY)),""),r?.protocolMode&&r.protocolMode===fa.OIDC&&f?.allowPlatformBroker)throw nr(cY);return{auth:{...s,...e,OIDCOptions:{...s.OIDCOptions,...e?.OIDCOptions}},cache:{...l,...t},system:f,telemetry:{...m,...n}}}class my{constructor(t,r,n,a){this.logger=t,this.handshakeTimeoutMs=r,this.extensionId=a,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(PQ),this.platformAuthType=ls.PLATFORM_EXTENSION_PROVIDER}async sendMessage(t){this.logger.trace("0on4p2",t.correlationId);const r={method:jh.GetToken,request:t},n={channel:ls.CHANNEL_ID,extensionId:this.extensionId,responseId:Bc(),body:r};this.logger.trace("1qadfi",t.correlationId),this.logger.tracePii("1xm533",t.correlationId),this.messageChannel.port1.postMessage(n);const a=await new Promise((l,u)=>{this.resolvers.set(n.responseId,{resolve:l,reject:u})});return this.validatePlatformBrokerResponse(a)}static async createProvider(t,r,n,a){t.trace("15zfnw",a);try{const s=new my(t,r,n,ls.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(a),s}catch{const l=new my(t,r,n);return await l.sendHandshakeRequest(a),l}}async sendHandshakeRequest(t){this.logger.trace("1dpg9o",t),window.addEventListener("message",this.windowListener,!1);const r={channel:ls.CHANNEL_ID,extensionId:this.extensionId,responseId:Bc(),body:{method:jh.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(r,window.origin,[this.messageChannel.port2]),new Promise((n,a)=>{this.handshakeResolvers.set(r.responseId,{resolve:n,reject:a}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),a(Fe(UJ)),this.handshakeResolvers.delete(r.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){const r=l2();if(this.logger.trace("0jpn5u",r),t.source!==window)return;const n=t.data;if(!(!n.channel||n.channel!==ls.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===jh.HandshakeRequest){const a=this.handshakeResolvers.get(n.responseId);if(!a){this.logger.trace("07buhm",r);return}this.logger.verbose(n.extensionId?"0xrkug":"No extension installed",r),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),a.reject(Fe(FJ))}}onChannelMessage(t){const r=l2();this.logger.trace("1py8yf",r);const n=t.data,a=this.resolvers.get(n.responseId),s=this.handshakeResolvers.get(n.responseId);try{const l=n.body.method;if(l===jh.Response){if(!a)return;const u=n.body.response;if(this.logger.trace("19hpgm",r),this.logger.tracePii("179a24",r),u.status!=="Success")a.reject(fy(u.code,u.description,u.ext));else if(u.result)u.result.code&&u.result.description?a.reject(fy(u.result.code,u.result.description,u.result.ext)):a.resolve(u.result);else throw ZS(a2,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(l===jh.HandshakeResponse){if(!s){this.logger.trace("082qnt",r);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose("0yf5ib",r),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(l){this.logger.error("0xf978",r),this.logger.errorPii("04i99o",r),this.logger.errorPii("0xdvsy",r),a?a.reject(l):s&&s.reject(l)}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw ZS(a2,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===ls.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class ZN{constructor(t,r,n){this.logger=t,this.performanceClient=r,this.correlationId=n,this.platformAuthType=ls.PLATFORM_DOM_PROVIDER}static async createProvider(t,r,n){if(t.trace("12mj4a",n),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(ls.MICROSOFT_ENTRA_BROKERID))?.includes(ls.PLATFORM_DOM_APIS))return t.trace("1h5q1r",n),new ZN(t,r,n)}getExtensionId(){return ls.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return ls.DOM_API_NAME}async sendMessage(t){this.logger.trace("02bcil",t.correlationId);try{const r=this.initializePlatformDOMRequest(t),n=await window.navigator.platformAuthentication.executeGetToken(r);return this.validatePlatformBrokerResponse(n,t.correlationId)}catch(r){throw this.logger.error("11im7g",t.correlationId),r}}initializePlatformDOMRequest(t){this.logger.trace("15d6yv",t.correlationId);const{accountId:r,clientId:n,authority:a,scope:s,redirectUri:l,correlationId:u,state:d,storeInCache:f,embeddedClientId:m,extraParameters:g,...y}=t,b=this.getDOMExtraParams(y);return{accountId:r,brokerId:this.getExtensionId(),authority:a,clientId:n,correlationId:u||this.correlationId,extraParameters:{...g,...b},isSecurityTokenService:!1,redirectUri:l,scope:s,state:d,storeInCache:f,embeddedClientId:m}}validatePlatformBrokerResponse(t,r){if(t.hasOwnProperty("isSuccess")){if(t.hasOwnProperty("accessToken")&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("clientInfo")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scopes")&&t.hasOwnProperty("expiresIn"))return this.logger.trace("0h4vei",r),this.convertToPlatformBrokerResponse(t,r);if(t.hasOwnProperty("error")){const n=t;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace("0g92vm",r),fy(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw ZS(a2,"Response missing expected properties.")}convertToPlatformBrokerResponse(t,r){return this.logger.trace("14913t",r),{access_token:t.accessToken,id_token:t.idToken,client_info:t.clientInfo,account:t.account,expires_in:t.expiresIn,scope:t.scopes,state:t.state||"",properties:t.properties||{},extendedLifetimeToken:t.extendedLifetimeToken??!1,shr:t.proofOfPossessionPayload}}getDOMExtraParams(t){return{...Object.entries(t).reduce((a,[s,l])=>(a[s]=String(l),a),{})}}}async function BZ(e,t,r,n){e.trace("134j0v",r);const a=zZ();e.trace("04c81g",r);let s;try{a&&(s=await ZN.createProvider(e,t,r)),s||(e.trace("0l3na8",r),s=await my.createProvider(e,n||d7,t,r))}catch(l){e.trace("0icbd7",l)}return s}function zZ(){let e;try{return e=window[gs.SessionStorage],e?.getItem(aZ)==="true"}catch{return!1}}function a0(e,t,r,n,a){if(t.trace("0uko3r",r),!e.system.allowPlatformBroker)return t.trace("04hozs",r),!1;if(!n)return t.trace("0kvv1r",r),!1;if(a)switch(a){case Ft.BEARER:case Ft.POP:return t.trace("18tev1",r),!0;default:return t.trace("1dd2nh",r),!1}return!0}class $Z extends of{constructor(t,r,n,a,s,l,u,d,f,m){super(t,r,n,a,s,l,u,f,m),this.nativeStorage=d,this.eventHandler=s}acquireToken(t,r){let n;try{if(n={popupName:this.generatePopupName(t.scopes||af,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:!this.config.system.navigatePopups},this.correlationId),this.config.system.navigatePopups){const s={...t,httpMethod:i7(t,this.config.system.protocolMode)};return this.logger.verbose("1f9ok3",this.correlationId),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(s,n,r)}else return this.logger.verbose("162h4u",this.correlationId),this.acquireTokenPopupAsync(t,n,r)}catch(a){return Promise.reject(a)}}logout(t){try{this.logger.verbose("068rup",this.correlationId);const r=this.initializeLogoutRequest(t),n={popupName:this.generateLogoutPopupName(r),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},a=t&&t.authority,s=t&&t.mainWindowRedirectUri;return this.config.system.navigatePopups?(this.logger.verbose("1a28da",this.correlationId),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(r,n,a,s)):(this.logger.verbose("1phd8u",this.correlationId),this.logoutPopupAsync(r,n,a,s))}catch(r){return Promise.reject(r)}}async acquireTokenPopupAsync(t,r,n){this.logger.verbose("1g77pg",this.correlationId);const a=await be(Hx,zx,this.logger,this.performanceClient,this.correlationId)(t,rt.Popup,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);r.popup&&t7(a.authority);const s=a0(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);return a.platformBroker=s,this.config.system.protocolMode===fa.EAR?this.executeEarFlow(a,r,n):this.executeCodeFlow(a,r,n)}async executeCodeFlow(t,r,n){const a=t.correlationId,s=ha(Rt.acquireTokenPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),l=n||await be(Hc,zc,this.logger,this.performanceClient,a)(this.performanceClient,this.logger,a),u={...t,codeChallenge:l.challenge};try{const d=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,a)({serverTelemetryManager:s,requestAuthority:u.authority,requestAzureCloudOptions:u.azureCloudOptions,requestExtraQueryParameters:u.extraQueryParameters,account:u.account});if(u.httpMethod===wd.POST)return await this.executeCodeFlowWithPost(u,r,d,l.verifier);{const f=await be(YN,NN,this.logger,this.performanceClient,a)(this.config,d.authority,u,this.logger,this.performanceClient),m=this.initiateAuthRequest(f,r);this.eventHandler.emitEvent(Qe.POPUP_OPENED,rt.Popup,{popupWindow:m},null);const g=await cd(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),y=Fs(Vh,Wh,this.logger,this.performanceClient,this.correlationId)(g,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return await be(_d,Cd,this.logger,this.performanceClient,a)(t,y,l.verifier,Rt.acquireTokenPopup,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(d){throw r.popup?.close(),d instanceof Yt&&(d.setCorrelationId(this.correlationId),s.cacheFailedRequest(d)),d}}async executeEarFlow(t,r,n){const{correlationId:a,authority:s,azureCloudOptions:l,extraQueryParameters:u,account:d}=t,f=await be(Zi,jc,this.logger,this.performanceClient,a)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,s,l,u,d),m=await be(FN,qN,this.logger,this.performanceClient,a)(),g=n||await be(Hc,zc,this.logger,this.performanceClient,a)(this.performanceClient,this.logger,a),y={...t,earJwk:m,codeChallenge:g.challenge},b=r.popup||this.openPopup("about:blank",r);(await XN(b.document,this.config,f,y,this.logger,this.performanceClient)).submit();const S=await be(cd,uy,this.logger,this.performanceClient,a)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,y),k=Fs(Vh,Wh,this.logger,this.performanceClient,this.correlationId)(S,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);if(!k.ear_jwe&&k.code){const N=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,a)({serverTelemetryManager:ha(Rt.acquireTokenPopup,this.config.auth.clientId,a,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:f});return be(_d,Cd,this.logger,this.performanceClient,a)(y,k,g.verifier,Rt.acquireTokenPopup,this.config,N,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return be(QN,HN,this.logger,this.performanceClient,a)(y,k,Rt.acquireTokenPopup,this.config,f,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(t,r,n,a){const s=t.correlationId,l=await be(Zi,jc,this.logger,this.performanceClient,s)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger),u=r.popup||this.openPopup("about:blank",r);(await JN(u.document,this.config,l,t,this.logger,this.performanceClient)).submit();const f=await be(cd,uy,this.logger,this.performanceClient,s)(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t),m=Fs(Vh,Wh,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.responseMode,this.logger,this.correlationId);return be(_d,Cd,this.logger,this.performanceClient,s)(t,m,a,Rt.acquireTokenPopup,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(t,r,n,a){this.logger.verbose("0b7yrk",this.correlationId),this.eventHandler.emitEvent(Qe.LOGOUT_START,rt.Popup,t);const s=ha(Rt.logoutPopup,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{await GN(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,t.account);const l=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:n,account:t.account||void 0});try{l.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId&&t.postLogoutRedirectUri&&l.authority.protocolMode===fa.OIDC){if(this.eventHandler.emitEvent(Qe.LOGOUT_SUCCESS,rt.Popup,t),a){const f={apiId:Rt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ot.getAbsoluteUrl(a,yl());await this.navigationClient.navigateInternal(m,f)}r.popup?.close();return}}const u=l.getLogoutUri(t);this.eventHandler.emitEvent(Qe.LOGOUT_SUCCESS,rt.Popup,t);const d=this.openPopup(u,r);if(this.eventHandler.emitEvent(Qe.POPUP_OPENED,rt.Popup,{popupWindow:d},null),await cd(this.config.system.popupBridgeTimeout,this.logger,this.browserCrypto,t).catch(()=>{}),a){const f={apiId:Rt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ot.getAbsoluteUrl(a,yl());this.logger.verbose("0qcur2",this.correlationId),this.logger.verbosePii("0oj7lk",this.correlationId),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("03zgcf",this.correlationId)}catch(l){throw r.popup?.close(),l instanceof Yt&&(l.setCorrelationId(this.correlationId),s.cacheFailedRequest(l)),this.eventHandler.emitEvent(Qe.LOGOUT_FAILURE,rt.Popup,null,l),this.eventHandler.emitEvent(Qe.LOGOUT_END,rt.Popup),l}this.eventHandler.emitEvent(Qe.LOGOUT_END,rt.Popup)}initiateAuthRequest(t,r){if(t)return this.logger.infoPii("1kcr9k",this.correlationId),this.openPopup(t,r);throw this.logger.error("1l7hyp",this.correlationId),Fe(ON)}openPopup(t,r){try{let n;if(r.popup?(n=r.popup,this.logger.verbosePii("0cgeo7",this.correlationId),n.location.assign(t)):typeof r.popup>"u"&&(this.logger.verbosePii("0c2awd",this.correlationId),n=this.openSizedPopup(t,r)),!n)throw Fe(CJ);return n.focus&&n.focus(),this.currentWindow=n,n}catch{throw this.logger.error("0dxfb9",this.correlationId),Fe(SJ)}}openSizedPopup(t,{popupName:r,popupWindowAttributes:n,popupWindowParent:a}){const s=a.screenLeft?a.screenLeft:a.screenX,l=a.screenTop?a.screenTop:a.screenY,u=a.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=a.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let f=n.popupSize?.width,m=n.popupSize?.height,g=n.popupPosition?.top,y=n.popupPosition?.left;return(!f||f<0||f>u)&&(this.logger.verbose("08vfmo",this.correlationId),f=os.POPUP_WIDTH),(!m||m<0||m>d)&&(this.logger.verbose("09cxa0",this.correlationId),m=os.POPUP_HEIGHT),(!g||g<0||g>d)&&(this.logger.verbose("1qh4wo",this.correlationId),g=Math.max(0,d/2-os.POPUP_HEIGHT/2+l)),(!y||y<0||y>u)&&(this.logger.verbose("1sz3en",this.correlationId),y=Math.max(0,u/2-os.POPUP_WIDTH/2+s)),a.open(t,r,`width=${f}, height=${m}, top=${g}, left=${y}, scrollbars=yes`)}generatePopupName(t,r){return`${os.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${r}.${this.correlationId}`}generateLogoutPopupName(t){const r=t.account&&t.account.homeAccountId;return`${os.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${r}.${this.correlationId}`}}function HZ(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const e=window.performance.getEntriesByType("navigation");return(e.length?e[0]:void 0)?.type}class qZ extends of{constructor(t,r,n,a,s,l,u,d,f,m){super(t,r,n,a,s,l,u,f,m),this.nativeStorage=d}async acquireToken(t){const r=await be(Hx,zx,this.logger,this.performanceClient,this.correlationId)(t,rt.Redirect,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);r.platformBroker=a0(this.config,this.logger,this.correlationId,this.platformAuthProvider,t.authenticationScheme);const n=s=>{s.persisted&&(this.logger.verbose("0udvtt",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),this.eventHandler.emitEvent(Qe.RESTORE_FROM_BFCACHE,rt.Redirect))},a=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii("0zao0a",this.correlationId),this.browserStorage.setTemporaryCache(Pr.ORIGIN_URI,a,!0),window.addEventListener("pageshow",n);try{this.config.system.protocolMode===fa.EAR?await this.executeEarFlow(r):await this.executeCodeFlow(r)}catch(s){throw s instanceof Yt&&s.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),s}}async executeCodeFlow(t){const r=t.correlationId,n=ha(Rt.acquireTokenRedirect,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),a=await be(Hc,zc,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...t,codeChallenge:a.challenge};this.browserStorage.cacheAuthorizeRequest(s,this.correlationId,a.verifier);try{if(s.httpMethod===wd.POST)return await this.executeCodeFlowWithPost(s);{const l=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),u=await be(YN,NN,this.logger,this.performanceClient,t.correlationId)(this.config,l.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(u)}}catch(l){throw l instanceof Yt&&(l.setCorrelationId(this.correlationId),n.cacheFailedRequest(l)),l}}async executeEarFlow(t){const{correlationId:r,authority:n,azureCloudOptions:a,extraQueryParameters:s,account:l}=t,u=await be(Zi,jc,this.logger,this.performanceClient,r)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,n,a,s,l),d=await be(FN,qN,this.logger,this.performanceClient,r)(),f=await be(Hc,zc,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),m={...t,earJwk:d,codeChallenge:f.challenge};return this.browserStorage.cacheAuthorizeRequest(m,this.correlationId,f.verifier),(await XN(document,this.config,u,m,this.logger,this.performanceClient)).submit(),new Promise((y,b)=>{setTimeout(()=>{b(Fe(cy,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(t){const r=t.correlationId,n=await be(Zi,jc,this.logger,this.performanceClient,r)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger);return this.browserStorage.cacheAuthorizeRequest(t,this.correlationId),(await JN(document,this.config,n,t,this.logger,this.performanceClient)).submit(),new Promise((s,l)=>{setTimeout(()=>{l(Fe(cy,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(t,r,n,a){const s=ha(Rt.handleRedirectPromise,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),l=a?.navigateToLoginRequestUrl??!0;try{const[u,d]=this.getRedirectResponse(a?.hash||"");if(!u)return this.logger.info("1qmv0q",this.correlationId),this.browserStorage.resetRequestCache(this.correlationId),HZ()!=="back_forward"?n.event.errorCode="no_server_response":this.logger.verbose("1eqegq",this.correlationId),null;const f=this.browserStorage.getTemporaryCache(Pr.ORIGIN_URI,this.correlationId,!0)||"",m=I5(f),g=I5(window.location.href);if(m===g&&l)return this.logger.verbose("11yred",this.correlationId),f.indexOf("#")>-1&&lQ(f),await this.handleResponse(u,t,r,s);if(l){if(!Fx()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Pr.URL_HASH,d,!0);const y={apiId:Rt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let b=!0;if(!f||f==="null"){const v=dQ();this.browserStorage.setTemporaryCache(Pr.ORIGIN_URI,v,!0),this.logger.warning("1dutq1",this.correlationId),b=await this.navigationClient.navigateInternal(v,y)}else this.logger.verbose("08jpy1",this.correlationId),b=await this.navigationClient.navigateInternal(f,y);if(!b)return await this.handleResponse(u,t,r,s)}}else return this.logger.verbose("0v4sdv",this.correlationId),await this.handleResponse(u,t,r,s);return null}catch(u){throw u instanceof Yt&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),u}}getRedirectResponse(t){this.logger.verbose("1c5i8m",this.correlationId);let r=t;r||(this.config.auth.OIDCOptions.responseMode===rN.QUERY?r=window.location.search:r=window.location.hash);let n=ny(r);if(n){try{vZ(n,this.browserCrypto,rt.Redirect)}catch(s){return s instanceof Yt&&this.logger.error("0bkq6p",this.correlationId),[null,""]}return Q9(window),this.logger.verbose("00uvho",this.correlationId),[n,r]}const a=this.browserStorage.getTemporaryCache(Pr.URL_HASH,this.correlationId,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Pr.URL_HASH)),a&&(n=ny(a),n)?(this.logger.verbose("001671",this.correlationId),[n,a]):[null,""]}async handleResponse(t,r,n,a){if(!t.state)throw Fe(MN);const{authority:l,azureCloudOptions:u,extraQueryParameters:d,account:f}=r;if(t.ear_jwe){const g=await be(Zi,jc,this.logger,this.performanceClient,r.correlationId)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,l,u,d,f);return be(QN,HN,this.logger,this.performanceClient,r.correlationId)(r,t,Rt.acquireTokenRedirect,this.config,g,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const m=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:r.authority});return be(_d,Cd,this.logger,this.performanceClient,r.correlationId)(r,t,n,Rt.acquireTokenRedirect,this.config,m,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(t){if(this.logger.verbose("0yaw2e",this.correlationId),t){this.logger.infoPii("1luf83",this.correlationId);const r={apiId:Rt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},n=this.config.auth.onRedirectNavigate;if(typeof n=="function")if(this.logger.verbose("1nehvl",this.correlationId),n(t)!==!1){this.logger.verbose("1a0jxh",this.correlationId),await this.navigationClient.navigateExternal(t,r);return}else{this.logger.verbose("09k5h5",this.correlationId);return}else{this.logger.verbose("0klwf7",this.correlationId),await this.navigationClient.navigateExternal(t,r);return}}else throw this.logger.info("0rlh4e",this.correlationId),Fe(ON)}async logout(t){this.logger.verbose("1rkurh",this.correlationId);const r=this.initializeLogoutRequest(t),n=ha(Rt.logout,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{this.eventHandler.emitEvent(Qe.LOGOUT_START,rt.Redirect,t),await GN(this.browserStorage,this.browserCrypto,this.logger,this.correlationId,r.account);const a={apiId:Rt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0});if(s.authority.protocolMode===fa.OIDC)try{s.authority.endSessionEndpoint}catch{if(r.account?.homeAccountId){this.eventHandler.emitEvent(Qe.LOGOUT_SUCCESS,rt.Redirect,r);return}}const l=s.getLogoutUri(r);r.account?.homeAccountId&&this.eventHandler.emitEvent(Qe.LOGOUT_SUCCESS,rt.Redirect,r);const u=this.config.auth.onRedirectNavigate;if(typeof u=="function")if(u(l)!==!1){this.logger.verbose("06v57e",this.correlationId),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,dl.SIGNOUT),await this.navigationClient.navigateExternal(l,a);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("0xqes1",this.correlationId);else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,dl.SIGNOUT),await this.navigationClient.navigateExternal(l,a);return}}catch(a){throw a instanceof Yt&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),this.eventHandler.emitEvent(Qe.LOGOUT_FAILURE,rt.Redirect,null,a),this.eventHandler.emitEvent(Qe.LOGOUT_END,rt.Redirect),a}this.eventHandler.emitEvent(Qe.LOGOUT_END,rt.Redirect)}getRedirectStartPage(t){const r=t||window.location.href;return Ot.getAbsoluteUrl(r,yl())}}async function KZ(e,t,r,n){if(!e)throw r.info("1l7hyp",n),Fe(ON);return Fs(VZ,_Q,r,t,n)(e)}async function GZ(e,t,r,n,a){const s=eE();if(!s.contentDocument)throw"No document associated with iframe!";return(await JN(s.contentDocument,e,t,r,n,a)).submit(),s}async function WZ(e,t,r,n,a){const s=eE();if(!s.contentDocument)throw"No document associated with iframe!";return(await XN(s.contentDocument,e,t,r,n,a)).submit(),s}function VZ(e){const t=eE();return t.src=e,t}function eE(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),e.setAttribute("allow","local-network-access *"),document.body.appendChild(e),e}class YZ extends of{constructor(t,r,n,a,s,l,u,d,f,m,g){super(t,r,n,a,s,l,d,m,g),this.apiId=u,this.nativeStorage=f}async acquireToken(t){!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("1kl318",this.correlationId);const r={...t};r.prompt?r.prompt!==la.NONE&&r.prompt!==la.NO_SESSION&&(this.logger.warning("0bmctg",this.correlationId),r.prompt=la.NONE):r.prompt=la.NONE;const n=await be(Hx,zx,this.logger,this.performanceClient,this.correlationId)(r,rt.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId);return n.platformBroker=a0(this.config,this.logger,this.correlationId,this.platformAuthProvider,n.authenticationScheme),t7(n.authority),this.config.system.protocolMode===fa.EAR?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(t){let r;const n=ha(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{return r=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),await be(this.silentTokenHelper.bind(this),r6,this.logger,this.performanceClient,t.correlationId)(r,t)}catch(a){if(a instanceof Yt&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),!r||!(a instanceof Yt)||a.errorCode!==os.INVALID_GRANT_ERROR)throw a;return this.performanceClient.addFields({retryError:a.errorCode},this.correlationId),await be(this.silentTokenHelper.bind(this),r6,this.logger,this.performanceClient,this.correlationId)(r,t)}}async executeEarFlow(t){const{correlationId:r,authority:n,azureCloudOptions:a,extraQueryParameters:s,account:l}=t,u=await be(Zi,jc,this.logger,this.performanceClient,r)(this.config,this.correlationId,this.performanceClient,this.browserStorage,this.logger,n,a,s,l),d=await be(FN,qN,this.logger,this.performanceClient,r)(),f=await be(Hc,zc,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),m={...t,earJwk:d,codeChallenge:f.challenge};await be(WZ,Iw,this.logger,this.performanceClient,r)(this.config,u,m,this.logger,this.performanceClient);const g=this.config.auth.OIDCOptions.responseMode,y=await be(cd,uy,this.logger,this.performanceClient,r)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,t),b=Fs(Vh,Wh,this.logger,this.performanceClient,r)(y,g,this.logger,this.correlationId);if(!b.ear_jwe&&b.code){const v=await be(this.createAuthCodeClient.bind(this),kl,this.logger,this.performanceClient,r)({serverTelemetryManager:ha(this.apiId,this.config.auth.clientId,r,this.browserStorage,this.logger),requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account,authority:u});return be(_d,Cd,this.logger,this.performanceClient,r)(m,b,f.verifier,this.apiId,this.config,v,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return be(QN,HN,this.logger,this.performanceClient,r)(m,b,this.apiId,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(Fe(RN))}async silentTokenHelper(t,r){const n=r.correlationId,a=await be(Hc,zc,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),s={...r,codeChallenge:a.challenge};if(r.httpMethod===wd.POST)await be(GZ,Iw,this.logger,this.performanceClient,n)(this.config,t.authority,s,this.logger,this.performanceClient);else{const f=await be(YN,NN,this.logger,this.performanceClient,n)(this.config,t.authority,s,this.logger,this.performanceClient);await be(KZ,Iw,this.logger,this.performanceClient,n)(f,this.performanceClient,this.logger,n)}const l=this.config.auth.OIDCOptions.responseMode,u=await be(cd,uy,this.logger,this.performanceClient,n)(this.config.system.iframeBridgeTimeout,this.logger,this.browserCrypto,r),d=Fs(Vh,Wh,this.logger,this.performanceClient,n)(u,l,this.logger,this.correlationId);return be(_d,Cd,this.logger,this.performanceClient,n)(r,d,a.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class XZ extends of{async acquireToken(t){const r=await be(WN,$N,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger,this.correlationId),n={...t,...r};t.redirectUri&&(n.redirectUri=dy(t.redirectUri,this.config.auth.redirectUri,this.logger,this.correlationId));const a=ha(Rt.acquireTokenSilent_silentFlow,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger),s=await this.createRefreshTokenClient({serverTelemetryManager:a,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return be(s.acquireTokenByRefreshToken.bind(s),CQ,this.logger,this.performanceClient,t.correlationId)(n).catch(l=>{throw l.setCorrelationId(this.correlationId),a.cacheFailedRequest(l),l})}logout(){return Promise.reject(Fe(RN))}async createRefreshTokenClient(t){const r=await be(this.getClientConfiguration.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new tJ(r,this.performanceClient)}}class JZ extends R9{constructor(t,r){super(t,r),this.includeRedirectUri=!1}}class QZ extends of{constructor(t,r,n,a,s,l,u,d,f,m){super(t,r,n,a,s,l,d,f,m),this.apiId=u}async acquireToken(t){if(!t.code)throw Fe(RJ);const r=await be(Hx,zx,this.logger,this.performanceClient,this.correlationId)(t,rt.Silent,this.config,this.browserCrypto,this.browserStorage,this.logger,this.performanceClient,this.correlationId),n=ha(this.apiId,this.config.auth.clientId,this.correlationId,this.browserStorage,this.logger);try{const a={...r,code:t.code},s=await be(this.getClientConfiguration.bind(this),Bx,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),l=new JZ(s,this.performanceClient);this.logger.verbose("1uic5e",this.correlationId);const u=new o7(l,this.browserStorage,a,this.logger,this.performanceClient);return await be(u.handleCodeResponseFromServer.bind(u),E9,this.logger,this.performanceClient,this.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},r,!1)}catch(a){throw a instanceof Yt&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),a}}logout(){return Promise.reject(Fe(RN))}}function ZZ(e,t,r,n){const a=window.msal?.clientIds||[],s=a.length,l=a.filter(u=>u===e).length;l>1&&r.warning("1e88vg",n),t.add({msalInstanceCount:s,sameClientIdInstanceCount:l})}function Gg(e,t,r){try{zN(e)}catch(n){throw t.end({success:!1},n,r),n}}class tE{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new oo(this.logger,this.performanceClient):ay,this.eventHandler=new yZ(this.logger),this.browserStorage=this.isBrowserEnvironment?new u2(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,ZX(this.config.auth)):dZ(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const r={cacheLocation:gs.MemoryStorage,cacheRetentionDays:5};this.nativeInternalStorage=new u2(this.config.auth.clientId,r,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(t,r){const n=new tE(t);return await n.initialize(r),n}trackPageVisibility(t){t&&(this.logger.info("16v6hv",t),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t){const r=this.getRequestCorrelationId(t);if(this.logger.trace("1f7joy",r),this.initialized){this.logger.info("061m5x",r);return}if(!this.isBrowserEnvironment){this.logger.info("19fvpi",r),this.initialized=!0,this.eventHandler.emitEvent(Qe.INITIALIZE_END);return}const n=t?.correlationId||this.getRequestCorrelationId(),a=this.config.system.allowPlatformBroker,s=this.performanceClient.startMeasurement(eZ,n);if(this.eventHandler.emitEvent(Qe.INITIALIZE_START),this.logMultipleInstances(s,n),await be(this.browserStorage.initialize.bind(this.browserStorage),EQ,this.logger,this.performanceClient,n)(n),a)try{this.platformAuthProvider=await BZ(this.logger,this.performanceClient,n,this.config.system.nativeBrokerHandshakeTimeout)}catch(l){this.logger.verbose(l,n)}this.config.cache.cacheLocation===gs.LocalStorage&&this.eventHandler.subscribeCrossTab(),!this.config.system.navigatePopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(Qe.INITIALIZE_END),s.end({allowPlatformBroker:a,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("02l8bm",""),e7(this.initialized),this.isBrowserEnvironment){const r=t?.hash||"";let n=this.redirectResponse.get(r);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(r,n),this.logger.verbose("1wn9kp","")):this.logger.verbose("0w0gm3",""),n}return this.logger.verbose("12xi63",""),null}async handleRedirectPromiseInternal(t){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("0le6uv",""),null;if(this.browserStorage.getInteractionInProgress()?.type===dl.SIGNOUT)return this.logger.verbose("1ywcv2",""),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),a=this.browserStorage.getCachedNativeRequest(),s=a&&this.platformAuthProvider&&!t?.hash;let l;this.eventHandler.emitEvent(Qe.HANDLE_REDIRECT_START,rt.Redirect);let u;try{if(s&&this.platformAuthProvider){const d=a?.correlationId||"";l=this.performanceClient.startMeasurement(Ow,d),this.logger.trace("12v7is",d);const f=new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Rt.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,a.accountId,this.nativeInternalStorage,a.correlationId);u=be(f.handleRedirectPromise.bind(f),DQ,this.logger,this.performanceClient,l.event.correlationId)(this.performanceClient,l.event.correlationId)}else{const[d,f]=this.browserStorage.getCachedRequest(""),m=d.correlationId;l=this.performanceClient.startMeasurement(Ow,m),this.logger.trace("0znzs5",m);const g=this.createRedirectClient(m);u=be(g.handleRedirectPromise.bind(g),RQ,this.logger,this.performanceClient,l.event.correlationId)(d,f,l,t)}}catch(d){throw this.browserStorage.resetRequestCache(""),d}return u.then(d=>(d?(this.browserStorage.resetRequestCache(d.correlationId),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_SUCCESS,rt.Redirect,d),this.logger.verbose("0ui8f5",d.correlationId),n.length<this.getAllAccounts().length&&(this.eventHandler.emitEvent(Qe.LOGIN_SUCCESS,rt.Redirect,d.account),this.logger.verbose("16im3l",d.correlationId)),l.end({success:!0},void 0,d.account)):l.event.errorCode?l.end({success:!1},void 0):l.discard(),this.eventHandler.emitEvent(Qe.HANDLE_REDIRECT_END,rt.Redirect),d)).catch(d=>{this.browserStorage.resetRequestCache(l.event.correlationId);const f=d;throw this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Redirect,null,f),this.eventHandler.emitEvent(Qe.HANDLE_REDIRECT_END,rt.Redirect),l.end({success:!1},f),d})}async acquireTokenRedirect(t){const r=this.getRequestCorrelationId(t);this.logger.verbose("0os66p",r);const n=this.performanceClient.startMeasurement(QQ,r);n.add({scenarioId:t.scenarioId});const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=s=>{const l=typeof a=="function"?a(s):void 0;return n.add({navigateCallbackResult:l!==!1}),n.event=n.end({success:!0},void 0,t.account)||n.event,l};try{e6(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,dl.SIGNIN),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_START,rt.Redirect,t);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(t)?s=new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Rt.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(t),this.nativeInternalStorage,r).acquireTokenRedirect(t,n).catch(u=>{if(u instanceof si&&id(u))return this.platformAuthProvider=void 0,this.createRedirectClient(r).acquireToken(t);if(u instanceof Hs)return this.logger.verbose("1ipyz4",r),this.createRedirectClient(r).acquireToken(t);throw u}):s=this.createRedirectClient(r).acquireToken(t),await s}catch(s){throw this.browserStorage.resetRequestCache(r),n.event.status===2?this.performanceClient.startMeasurement(Ow,r).end({success:!1},s,t.account):n.end({success:!1},s,t.account),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Redirect,null,s),s}}acquireTokenPopup(t){const r=this.getRequestCorrelationId(t),n=this.performanceClient.startMeasurement(JQ,r);n.add({scenarioId:t.scenarioId});try{this.logger.verbose("0ch87b",r),Gg(this.initialized,n,t.account),this.browserStorage.setInteractionInProgress(!0,dl.SIGNIN,t.overrideInteractionInProgress,r)}catch(u){return Promise.reject(u)}const a=this.getAllAccounts();this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_START,rt.Popup,t);let s;const l=this.getPreGeneratedPkceCodes(r);return this.canUsePlatformBroker(t)?s=this.acquireTokenNative({...t,correlationId:r},Rt.acquireTokenPopup).then(u=>(n.end({success:!0,isNativeBroker:!0},void 0,u.account),u)).catch(u=>{if(u instanceof si&&id(u))return this.platformAuthProvider=void 0,this.createPopupClient(r).acquireToken(t,l);if(u instanceof Hs)return this.logger.verbose("0yy5fw",r),this.createPopupClient(r).acquireToken(t,l);throw u}):s=this.createPopupClient(r).acquireToken(t,l),s.then(u=>{const d=a.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_SUCCESS,rt.Popup,u),d&&this.eventHandler.emitEvent(Qe.LOGIN_SUCCESS,rt.Popup,u.account),n.end({success:!0,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length},void 0,u.account),u}).catch(u=>(this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Popup,null,u),n.end({success:!1},u,t.account),Promise.reject(u))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.navigatePopups||await this.preGeneratePkceCodes(r)})}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&t.increment({visibilityChangeCount:1})}async ssoSilent(t){const r=this.getRequestCorrelationId(t),n={...t,prompt:t.prompt,correlationId:r};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(ZQ,r),this.ssoSilentMeasurement?.add({scenarioId:t.scenarioId}),Gg(this.initialized,this.ssoSilentMeasurement,t.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const a=this.getAllAccounts();this.logger.verbose("0w1b45",r),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_START,rt.Silent,n);let s;return this.canUsePlatformBroker(n)?s=this.acquireTokenNative(n,Rt.ssoSilent).catch(l=>{if(l instanceof si&&id(l))return this.platformAuthProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw l}):s=this.createSilentIframeClient(n.correlationId).acquireToken(n),s.then(l=>{const u=a.length<this.getAllAccounts().length;return this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_SUCCESS,rt.Silent,l),u&&this.eventHandler.emitEvent(Qe.LOGIN_SUCCESS,rt.Silent,l.account),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:l.fromPlatformBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length},void 0,l.account),l}).catch(l=>{throw this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Silent,null,l),this.ssoSilentMeasurement?.end({success:!1},l,t.account),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const r=this.getRequestCorrelationId(t);this.logger.trace("0ch6ga",r);const n=this.performanceClient.startMeasurement(XQ,r);Gg(this.initialized,n),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_START,rt.Silent,t),n.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw Fe(PJ);if(t.code){const a=t.code;let s=this.hybridAuthCodeResponses.get(a);return s?(this.logger.verbose("0qgp28",r),n.discard()):(this.logger.verbose("06eh73",r),s=this.acquireTokenByCodeAsync({...t,correlationId:r}).then(l=>(this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_SUCCESS,rt.Silent,l),this.hybridAuthCodeResponses.delete(a),n.end({success:!0,isNativeBroker:l.fromPlatformBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length},void 0,l.account),l)).catch(l=>{throw this.hybridAuthCodeResponses.delete(a),this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Silent,null,l),n.end({success:!1},l),l}),this.hybridAuthCodeResponses.set(a,s)),await s}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){const a=await this.acquireTokenNative({...t,correlationId:r},Rt.acquireTokenByCode,t.nativeAccountId).catch(s=>{throw s instanceof si&&id(s)&&(this.platformAuthProvider=void 0),s});return n.end({success:!0},void 0,a.account),a}else throw Fe(LJ);else throw Fe(DJ)}catch(a){throw this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Silent,null,a),n.end({success:!1},a),a}}async acquireTokenByCodeAsync(t){const r=this.getRequestCorrelationId(t);return this.logger.trace("10d9hy",r),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(MQ,r),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(r).acquireToken(t).then(s=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromPlatformBroker}),s)).catch(s=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,r){switch(r){case Bn.Default:case Bn.AccessToken:case Bn.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(t.correlationId);return be(n.acquireToken.bind(n),vQ,this.logger,this.performanceClient,t.correlationId)(t);default:throw Oe(Ec)}}async acquireTokenByRefreshToken(t,r){switch(r){case Bn.Default:case Bn.AccessTokenAndRefreshToken:case Bn.RefreshToken:case Bn.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(t.correlationId);return be(n.acquireToken.bind(n),SQ,this.logger,this.performanceClient,t.correlationId)(t);default:throw Oe(Ec)}}async acquireTokenBySilentIframe(t){const r=this.createSilentIframeClient(t.correlationId);return be(r.acquireToken.bind(r),wQ,this.logger,this.performanceClient,t.correlationId)(t)}async logoutRedirect(t){const r=this.getRequestCorrelationId(t);return e6(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,dl.SIGNOUT),this.createRedirectClient(r).logout(t)}logoutPopup(t){try{const r=this.getRequestCorrelationId(t);return zN(this.initialized),this.browserStorage.setInteractionInProgress(!0,dl.SIGNOUT),this.createPopupClient(r).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(r){return Promise.reject(r)}}async clearCache(t){if(!this.isBrowserEnvironment)return;const r=this.getRequestCorrelationId(t);return this.createSilentCacheClient(r).logout(t)}getAllAccounts(t){return fZ(this.logger,this.browserStorage,this.isBrowserEnvironment,this.getRequestCorrelationId(),t)}getAccount(t){return hZ(t,this.logger,this.browserStorage,this.getRequestCorrelationId())}setActiveAccount(t){mZ(t,this.browserStorage,this.getRequestCorrelationId())}getActiveAccount(){return gZ(this.browserStorage,this.getRequestCorrelationId())}async hydrateCache(t,r){this.logger.verbose("16jycr",t.correlationId);const n=tX(t.account,t.cloudGraphHostName,t.msGraphHost);return await this.browserStorage.setAccount(n,t.correlationId,_c(t.idTokenClaims)),t.fromPlatformBroker?(this.logger.verbose("1fxyu8",t.correlationId),this.nativeInternalStorage.hydrateCache(t,r)):this.browserStorage.hydrateCache(t,r)}async acquireTokenNative(t,r,n,a){const s=this.getRequestCorrelationId(t);if(this.logger.trace("0b9y3p",s),!this.platformAuthProvider)throw Fe(K9);return new Ap(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,r,this.performanceClient,this.platformAuthProvider,n||this.getNativeAccountId(t),this.nativeInternalStorage,s).acquireToken(t,a)}canUsePlatformBroker(t,r){const n=this.getRequestCorrelationId(t);if(this.logger.trace("1n9lbl",n),!this.platformAuthProvider)return this.logger.trace("0vnu11",n),!1;if(!a0(this.config,this.logger,n,this.platformAuthProvider,t.authenticationScheme))return this.logger.trace("1m4bzf",n),!1;if(t.prompt)switch(t.prompt){case la.NONE:case la.CONSENT:case la.LOGIN:this.logger.trace("0vdv8e",n);break;default:return this.logger.trace("0pdzw6",n),!1}return!r&&!this.getNativeAccountId(t)?(this.logger.trace("16lbtk",n),!1):!0}getNativeAccountId(t){const r=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return r&&r.nativeAccountId||""}createPopupClient(t){return new $Z(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createRedirectClient(t){return new qZ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentIframeClient(t){return new YZ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Rt.ssoSilent,this.performanceClient,this.nativeInternalStorage,t,this.platformAuthProvider)}createSilentCacheClient(t){return new l7(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentRefreshClient(t){return new XZ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,t,this.platformAuthProvider)}createSilentAuthCodeClient(t){return new QZ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Rt.acquireTokenByCode,this.performanceClient,t,this.platformAuthProvider)}addEventCallback(t,r){return this.eventHandler.addEventCallback(t,r)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return Z9(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,r){this.browserStorage.setWrapperMetadata(t,r)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?Bc():""}async loginRedirect(t){const r=this.getRequestCorrelationId(t);return this.logger.verbose("0lz9hf",r),this.acquireTokenRedirect({correlationId:r,...t||W5})}loginPopup(t){const r=this.getRequestCorrelationId(t);return this.logger.verbose("0qw7v5",r),this.acquireTokenPopup({correlationId:r,...t||W5})}async acquireTokenSilent(t){const r=this.getRequestCorrelationId(t),n=this.performanceClient.startMeasurement(YQ,r);n.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),Gg(this.initialized,n,t.account),this.logger.verbose("0x1c4s",r);const a=t.account||this.getActiveAccount();if(!a)throw Fe(AJ);return this.acquireTokenSilentDeduped(t,a,r).then(s=>(n.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromPlatformBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length},void 0,s.account),{...s,state:t.state,correlationId:r})).catch(s=>{throw s instanceof Yt&&s.setCorrelationId(r),n.end({success:!1},s,a),s})}async acquireTokenSilentDeduped(t,r,n){const a=Dx(this.config.auth.clientId,{...t,authority:t.authority||this.config.auth.authority},r.homeAccountId),s=JSON.stringify(a),l=this.activeSilentTokenRequests.get(s);if(typeof l>"u"){this.logger.verbose("0fcjbk",n),this.performanceClient.addFields({deduped:!1},n);const u=be(this.acquireTokenSilentAsync.bind(this),yQ,this.logger,this.performanceClient,n)({...t,correlationId:n},r);return this.activeSilentTokenRequests.set(s,u),u.finally(()=>{this.activeSilentTokenRequests.delete(s)})}else return this.logger.verbose("1yq7nb",n),this.performanceClient.addFields({deduped:!0},n),l}async acquireTokenSilentAsync(t,r){const n=()=>this.trackPageVisibility(t.correlationId);this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_START,rt.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",n);const a=await be(xZ,NQ,this.logger,this.performanceClient,t.correlationId)(t,r,this.config,this.performanceClient,this.logger),s=t.cacheLookupPolicy||Bn.Default;return this.acquireTokenSilentNoIframe(a,s).catch(async u=>{if(eee(u,s))if(this.activeIframeRequest)if(s!==Bn.Skip){const[f,m]=this.activeIframeRequest;this.logger.verbose("1w8fso",a.correlationId);const g=this.performanceClient.startMeasurement(kQ,a.correlationId);g.add({awaitIframeCorrelationId:m});const y=await f;if(g.end({success:y}),y)return this.logger.verbose("0ywzzi",a.correlationId),this.acquireTokenSilentNoIframe(a,s);throw this.logger.info("17y14q",a.correlationId),u}else return this.logger.warning("1bd4p8",a.correlationId),be(this.acquireTokenBySilentIframe.bind(this),t6,this.logger,this.performanceClient,a.correlationId)(a);else{let f;return this.activeIframeRequest=[new Promise(m=>{f=m}),a.correlationId],this.logger.verbose("0rh08z",a.correlationId),be(this.acquireTokenBySilentIframe.bind(this),t6,this.logger,this.performanceClient,a.correlationId)(a).then(m=>(f(!0),m)).catch(m=>{throw f(!1),m}).finally(()=>{this.activeIframeRequest=void 0})}else throw u}).then(u=>(this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_SUCCESS,rt.Silent,u),t.correlationId&&this.performanceClient.addFields({fromCache:u.fromCache,isNativeBroker:u.fromPlatformBroker},t.correlationId),u)).catch(u=>{throw this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_FAILURE,rt.Silent,null,u),u}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(t,r){return a0(this.config,this.logger,t.correlationId,this.platformAuthProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("0sczo4",t.correlationId),this.acquireTokenNative(t,Rt.acquireTokenSilent_silentFlow,t.account.nativeAccountId,r).catch(async n=>{throw n instanceof si&&id(n)?(this.logger.verbose("07rkmb",t.correlationId),this.platformAuthProvider=void 0,Oe(Ec)):n})):(this.logger.verbose("0ox81t",t.correlationId),r===Bn.AccessToken&&this.logger.verbose("0fvwxe",t.correlationId),be(this.acquireTokenFromCache.bind(this),gQ,this.logger,this.performanceClient,t.correlationId)(t,r).catch(n=>{if(r===Bn.AccessToken)throw n;return this.eventHandler.emitEvent(Qe.ACQUIRE_TOKEN_NETWORK_START,rt.Silent,t),be(this.acquireTokenByRefreshToken.bind(this),pQ,this.logger,this.performanceClient,t.correlationId)(t,r)}))}async preGeneratePkceCodes(t){return this.logger.verbose("1x6uj6",t),this.pkceCode=await be(Hc,zc,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()}getPreGeneratedPkceCodes(t){const r=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,r?this.logger.verbose("12js1o",t):this.logger.verbose("1oe9ci",t),this.performanceClient.addFields({usePreGeneratedPkce:!!r},t),r}logMultipleInstances(t,r){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("1qtz3l",r),window.msal.clientIds.push(n),ZZ(n,t,this.logger,r)}}function eee(e,t){const r=!(e instanceof Hs&&e.subError!==CN),n=e.errorCode===os.INVALID_GRANT_ERROR||e.errorCode===Ec,a=r&&n||e.errorCode===n2||e.errorCode===S9,s=pJ.includes(t);return a&&s}class rE{static loggerCallback(t,r){switch(t){case gr.Error:console.error(r);return;case gr.Info:console.info(r);return;case gr.Verbose:console.debug(r);return;case gr.Warning:console.warn(r);return;default:console.log(r);return}}constructor(t){this.browserEnvironment=typeof window<"u",this.config=FZ(t,this.browserEnvironment);let r;try{r=window[gs.SessionStorage]}catch{}const n=r?.getItem(rZ),a=r?.getItem(nZ)?.toLowerCase(),s=a==="true"?!0:a==="false"?!1:void 0,l={...this.config.system.loggerOptions},u=n&&Object.keys(gr).includes(n)?gr[n]:void 0;u&&(l.loggerCallback=rE.loggerCallback,l.logLevel=u),s!==void 0&&(l.piiLoggingEnabled=s),this.logger=new $s(l,uZ,$c),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Dd extends rE{getModuleName(){return Dd.MODULE_NAME}getId(){return Dd.ID}async initialize(t){return this.available=typeof window<"u",this.available}}Dd.MODULE_NAME="";Dd.ID="StandardOperatingContext";class nE{constructor(t,r){this.controller=r||new tE(new Dd(t))}async initialize(t){return this.controller.initialize(t)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,r){return this.controller.addEventCallback(t,r)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}getAccount(t){return this.controller.getAccount(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,r){return this.controller.initializeWrapperLibrary(t,r)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,r){return this.controller.hydrateCache(t,r)}clearCache(t){return this.controller.clearCache(t)}}const tee={initialize:()=>Promise.reject(nn(Un)),acquireTokenPopup:()=>Promise.reject(nn(Un)),acquireTokenRedirect:()=>Promise.reject(nn(Un)),acquireTokenSilent:()=>Promise.reject(nn(Un)),acquireTokenByCode:()=>Promise.reject(nn(Un)),getAllAccounts:()=>[],getAccount:()=>null,handleRedirectPromise:()=>Promise.reject(nn(Un)),loginPopup:()=>Promise.reject(nn(Un)),loginRedirect:()=>Promise.reject(nn(Un)),logoutRedirect:()=>Promise.reject(nn(Un)),logoutPopup:()=>Promise.reject(nn(Un)),ssoSilent:()=>Promise.reject(nn(Un)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,getLogger:()=>{throw nn(Un)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw nn(Un)},hydrateCache:()=>Promise.reject(nn(Un)),clearCache:()=>Promise.reject(nn(Un))};class ree{static getInteractionStatusFromEvent(t,r){switch(t.eventType){case Qe.ACQUIRE_TOKEN_START:if(t.interactionType===rt.Redirect||t.interactionType===rt.Popup)return ia.AcquireToken;break;case Qe.HANDLE_REDIRECT_START:return ia.HandleRedirect;case Qe.LOGOUT_START:return ia.Logout;case Qe.LOGOUT_END:if(r&&r!==ia.Logout)break;return ia.None;case Qe.HANDLE_REDIRECT_END:if(r&&r!==ia.HandleRedirect)break;return ia.None;case Qe.ACQUIRE_TOKEN_SUCCESS:case Qe.ACQUIRE_TOKEN_FAILURE:case Qe.RESTORE_FROM_BFCACHE:if(t.interactionType===rt.Redirect||t.interactionType===rt.Popup){if(r&&r!==ia.AcquireToken)break;return ia.None}break}return null}}const nee={instance:tee,inProgress:ia.None,accounts:[],logger:new $s({})},aE=x.createContext(nee);aE.Consumer;function m6(e,t){if(e.length!==t.length)return!1;const r=[...t];return e.every(n=>{const a=r.shift();return!n||!a?!1:n.homeAccountId===a.homeAccountId&&n.localAccountId===a.localAccountId&&n.username===a.username})}const aee="@azure/msal-react",g6="5.0.2";const gy={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},see=(e,t)=>{const{type:r,payload:n}=t;let a=e.inProgress;switch(r){case gy.UNBLOCK_INPROGRESS:e.inProgress===ia.Startup&&(a=ia.None,n.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'",""));break;case gy.EVENT:const l=n.message,u=ree.getInteractionStatusFromEvent(l,e.inProgress);u&&(n.logger.info(`MsalProvider - '${l.eventType}' results in setting inProgress from '${e.inProgress}' to '${u}'`,""),a=u);break;default:throw new Error(`Unknown action type: ${r}`)}if(a===ia.Startup)return e;const s=n.instance.getAllAccounts();return a!==e.inProgress&&!m6(s,e.accounts)?{...e,inProgress:a,accounts:s}:a!==e.inProgress?{...e,inProgress:a}:m6(s,e.accounts)?e:{...e,accounts:s}};function iee({instance:e,children:t}){x.useEffect(()=>{e.initializeWrapperLibrary(hJ.React,g6)},[e]);const r=x.useMemo(()=>e.getLogger().clone(aee,g6),[e]),[n,a]=x.useReducer(see,void 0,()=>({inProgress:ia.Startup,accounts:[]}));x.useEffect(()=>{const l=e.addEventCallback(u=>{a({payload:{instance:e,logger:r,message:u},type:gy.EVENT})});return r.verbose(`MsalProvider - Registered event callback with id: '${l}'`,""),e.initialize().then(()=>{e.handleRedirectPromise().catch(()=>{}).finally(()=>{a({payload:{instance:e,logger:r},type:gy.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{l&&(r.verbose(`MsalProvider - Removing event callback '${l}'`,""),e.removeEventCallback(l))}},[e,r]);const s={instance:e,inProgress:n.inProgress,accounts:n.accounts,logger:r};return Kt.createElement(aE.Provider,{value:s},t)}const qx=()=>x.useContext(aE),sE={auth:{clientId:"e6cc6189-3b58-4c15-a1c4-e24e9f5e4a97",authority:"https://login.microsoftonline.com/common",redirectUri:"http://localhost:5174"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1}},Hh={scopes:["api://e6cc6189-3b58-4c15-a1c4-e24e9f5e4a97/access_as_user"]};var p6="popstate";function oee(e={}){function t(n,a){let{pathname:s,search:l,hash:u}=n.location;return d2("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:s0(a)}return cee(t,r,null,e)}function xr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lee(){return Math.random().toString(36).substring(2,10)}function y6(e,t){return{usr:e.state,key:e.key,idx:t}}function d2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lf(t):t,state:r,key:t&&t.key||n||lee()}}function s0({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function cee(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let k=m(),N=k==null?null:k-f;f=k,d&&d({action:u,location:S.location,delta:N})}function y(k,N){u="PUSH";let E=d2(S.location,k,N);f=m()+1;let _=y6(E,f),O=S.createHref(E);try{l.pushState(_,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(O)}s&&d&&d({action:u,location:S.location,delta:1})}function b(k,N){u="REPLACE";let E=d2(S.location,k,N);f=m();let _=y6(E,f),O=S.createHref(E);l.replaceState(_,"",O),s&&d&&d({action:u,location:S.location,delta:0})}function v(k){return uee(k)}let S={get action(){return u},get location(){return e(a,l)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(p6,g),d=k,()=>{a.removeEventListener(p6,g),d=null}},createHref(k){return t(a,k)},createURL:v,encodeLocation(k){let N=v(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:b,go(k){return l.go(k)}};return S}function uee(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),xr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:s0(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function f7(e,t,r="/"){return dee(e,t,r,!1)}function dee(e,t,r,n){let a=typeof t=="string"?lf(t):t,s=lo(a.pathname||"/",r);if(s==null)return null;let l=h7(e);fee(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=See(s);u=wee(l[d],f,n)}return u}function h7(e,t=[],r=[],n="",a=!1){let s=(l,u,d=a,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;xr(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=eo([n,m.relativePath]),y=r.concat(m);l.children&&l.children.length>0&&(xr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),h7(l.children,t,y,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:bee(g,l.index),routesMeta:y})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of m7(l.path))s(l,u,!0,d)}),t}function m7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=m7(n.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function fee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var hee=/^:[\w-]+$/,mee=3,gee=2,pee=1,yee=10,xee=-2,x6=e=>e==="*";function bee(e,t){let r=e.split("/"),n=r.length;return r.some(x6)&&(n+=xee),t&&(n+=gee),r.filter(a=>!x6(a)).reduce((a,s)=>a+(hee.test(s)?mee:s===""?pee:yee),n)}function vee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function wee(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",g=py({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!g&&f&&r&&!n[n.length-1].route.index&&(g=py({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:eo([s,g.pathname]),pathnameBase:_ee(eo([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=eo([s,g.pathnameBase]))}return l}function py(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kee(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let v=u[y]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function kee(e,t=!1,r=!0){Ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function See(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ba(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function lo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var g7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cee=e=>g7.test(e);function Nee(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?lf(e):e,s;if(r)if(Cee(r))s=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?s=b6(r.substring(1),"/"):s=b6(r,t)}else s=t;return{pathname:s,search:jee(n),hash:Aee(a)}}function b6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Mw(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Eee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iE(e){let t=Eee(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function oE(e,t,r,n=!1){let a;typeof e=="string"?a=lf(e):(a={...e},xr(!a.pathname||!a.pathname.includes("?"),Mw("?","pathname","search",a)),xr(!a.pathname||!a.pathname.includes("#"),Mw("#","pathname","hash",a)),xr(!a.search||!a.search.includes("#"),Mw("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;a.pathname=y.join("/")}u=g>=0?t[g]:"/"}let d=Nee(a,u),f=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var eo=e=>e.join("/").replace(/\/\/+/g,"/"),_ee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Tee=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Iee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Oee(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y7(e,t){let r=e;if(typeof r!="string"||!g7.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(p7)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=lo(l.pathname,t);l.origin===s.origin&&u!=null?r=u+l.search+l.hash:a=!0}catch{Ba(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x7=["POST","PUT","PATCH","DELETE"];new Set(x7);var Mee=["GET",...x7];new Set(Mee);var cf=x.createContext(null);cf.displayName="DataRouter";var Kx=x.createContext(null);Kx.displayName="DataRouterState";var Ree=x.createContext(!1),b7=x.createContext({isTransitioning:!1});b7.displayName="ViewTransition";var Dee=x.createContext(new Map);Dee.displayName="Fetchers";var Pee=x.createContext(null);Pee.displayName="Await";var qa=x.createContext(null);qa.displayName="Navigation";var P0=x.createContext(null);P0.displayName="Location";var Gs=x.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var lE=x.createContext(null);lE.displayName="RouteError";var v7="REACT_ROUTER_ERROR",Lee="REDIRECT",Uee="ROUTE_ERROR_RESPONSE";function Fee(e){if(e.startsWith(`${v7}:${Lee}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Bee(e){if(e.startsWith(`${v7}:${Uee}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Tee(t.status,t.statusText,t.data)}catch{}}function zee(e,{relative:t}={}){xr(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(qa),{hash:a,pathname:s,search:l}=L0(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:eo([r,s])),n.createHref({pathname:u,search:l,hash:a})}function uf(){return x.useContext(P0)!=null}function wi(){return xr(uf(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(P0).location}var w7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k7(e){x.useContext(qa).static||x.useLayoutEffect(e)}function df(){let{isDataRoute:e}=x.useContext(Gs);return e?ete():$ee()}function $ee(){xr(uf(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(cf),{basename:t,navigator:r}=x.useContext(qa),{matches:n}=x.useContext(Gs),{pathname:a}=wi(),s=JSON.stringify(iE(n)),l=x.useRef(!1);return k7(()=>{l.current=!0}),x.useCallback((d,f={})=>{if(Ba(l.current,w7),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=oE(d,JSON.parse(s),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:eo([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,s,a,e])}x.createContext(null);function Gx(){let{matches:e}=x.useContext(Gs),t=e[e.length-1];return t?t.params:{}}function L0(e,{relative:t}={}){let{matches:r}=x.useContext(Gs),{pathname:n}=wi(),a=JSON.stringify(iE(r));return x.useMemo(()=>oE(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function Hee(e,t){return S7(e,t)}function S7(e,t,r,n,a){xr(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(qa),{matches:l}=x.useContext(Gs),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";N7(f,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=wi(),b;if(t){let E=typeof t=="string"?lf(t):t;xr(m==="/"||E.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),b=E}else b=y;let v=b.pathname||"/",S=v;if(m!=="/"){let E=m.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=f7(e,{pathname:S});Ba(g||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ba(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Vee(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:eo([m,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:eo([m,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,a);return t&&N?x.createElement(P0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function qee(){let e=Zee(),t=Iee(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,l)}var Kee=x.createElement(qee,null),C7=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Bee(e.digest);r&&(e=r)}let t=e!==void 0?x.createElement(Gs.Provider,{value:this.props.routeContext},x.createElement(lE.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(Gee,{error:e},t):t}};C7.contextType=Ree;var Rw=new WeakMap;function Gee({children:e,error:t}){let{basename:r}=x.useContext(qa);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Fee(t.digest);if(n){let a=Rw.get(t);if(a)throw a;let s=y7(n.location,r);if(p7&&!Rw.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Rw.set(t,l),l}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function Wee({routeContext:e,match:t,children:r}){let n=x.useContext(cf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Gs.Provider,{value:e},r)}function Vee(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r?.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);xr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:y,errors:b}=r,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}let f=r&&n?(m,g)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Oee(r.matches),errorInfo:g})}:void 0;return s.reduceRight((m,g,y)=>{let b,v=!1,S=null,k=null;r&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||Kee,u&&(d<0&&y===0?(N7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,k=null):d===y&&(v=!0,k=g.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,y+1)),E=()=>{let _;return b?_=S:v?_=k:g.route.Component?_=x.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=m,x.createElement(Wee,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:_})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?x.createElement(C7,{location:r.location,revalidation:r.revalidation,component:S,error:b,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:f}):E()},null)}function cE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yee(e){let t=x.useContext(cf);return xr(t,cE(e)),t}function Xee(e){let t=x.useContext(Kx);return xr(t,cE(e)),t}function Jee(e){let t=x.useContext(Gs);return xr(t,cE(e)),t}function uE(e){let t=Jee(e),r=t.matches[t.matches.length-1];return xr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Qee(){return uE("useRouteId")}function Zee(){let e=x.useContext(lE),t=Xee("useRouteError"),r=uE("useRouteError");return e!==void 0?e:t.errors?.[r]}function ete(){let{router:e}=Yee("useNavigate"),t=uE("useNavigate"),r=x.useRef(!1);return k7(()=>{r.current=!0}),x.useCallback(async(a,s={})=>{Ba(r.current,w7),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var v6={};function N7(e,t,r){!t&&!v6[e]&&(v6[e]=!0,Ba(!1,r))}x.memo(tte);function tte({routes:e,future:t,state:r,onError:n}){return S7(e,void 0,r,n,t)}function f2({to:e,replace:t,state:r,relative:n}){xr(uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(qa);Ba(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Gs),{pathname:l}=wi(),u=df(),d=oE(e,iE(s),l,n==="path"),f=JSON.stringify(d);return x.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:n})},[u,f,n,t,r]),null}function mr(e){xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rte({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){xr(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[u,a,s,l]);typeof r=="string"&&(r=lf(r));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:b="default"}=r,v=x.useMemo(()=>{let S=lo(f,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:y,key:b},navigationType:n}},[u,f,m,g,y,b,n]);return Ba(v!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(qa.Provider,{value:d},x.createElement(P0.Provider,{children:t,value:v}))}function nte({children:e,location:t}){return Hee(h2(e),t)}function h2(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,h2(n.props.children,s));return}xr(n.type===mr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=h2(n.props.children,s)),r.push(l)}),r}var Tp="get",Ip="application/x-www-form-urlencoded";function Wx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ate(e){return Wx(e)&&e.tagName.toLowerCase()==="button"}function ste(e){return Wx(e)&&e.tagName.toLowerCase()==="form"}function ite(e){return Wx(e)&&e.tagName.toLowerCase()==="input"}function ote(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lte(e,t){return e.button===0&&(!t||t==="_self")&&!ote(e)}function m2(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function cte(e,t){let r=m2(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}var Wg=null;function ute(){if(Wg===null)try{new FormData(document.createElement("form"),0),Wg=!1}catch{Wg=!0}return Wg}var dte=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dw(e){return e!=null&&!dte.has(e)?(Ba(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ip}"`),null):e}function fte(e,t){let r,n,a,s,l;if(ste(e)){let u=e.getAttribute("action");n=u?lo(u,t):null,r=e.getAttribute("method")||Tp,a=Dw(e.getAttribute("enctype"))||Ip,s=new FormData(e)}else if(ate(e)||ite(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?lo(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Tp,a=Dw(e.getAttribute("formenctype"))||Dw(u.getAttribute("enctype"))||Ip,s=new FormData(u,e),!ute()){let{name:f,type:m,value:g}=e;if(m==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,g)}}else{if(Wx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Tp,n=null,a=Ip,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hte(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&lo(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function mte(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gte(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function pte(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await mte(s,r);return l.links?l.links():[]}return[]}));return vte(n.flat(1).filter(gte).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function w6(e,t,r,n,a,s){let l=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return s==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?t.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function yte(e,t,{includeHydrateFallback:r}={}){return xte(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function xte(e){return[...new Set(e)]}function bte(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function vte(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(bte(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function E7(){let e=x.useContext(cf);return dE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wte(){let e=x.useContext(Kx);return dE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fE=x.createContext(void 0);fE.displayName="FrameworkContext";function _7(){let e=x.useContext(fE);return dE(e,"You must render this element inside a <HydratedRouter> element"),e}function kte(e,t){let r=x.useContext(fE),[n,a]=x.useState(!1),[s,l]=x.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=N=>{N.forEach(E=>{l(E.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[e]),x.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{a(!0)},v=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,y,{}]:[s,y,{onFocus:Th(u,b),onBlur:Th(d,v),onMouseEnter:Th(f,b),onMouseLeave:Th(m,v),onTouchStart:Th(g,b)}]:[!1,y,{}]}function Th(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ste({page:e,...t}){let{router:r}=E7(),n=x.useMemo(()=>f7(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(Nte,{page:e,matches:n,...t}):null}function Cte(e){let{manifest:t,routeModules:r}=_7(),[n,a]=x.useState([]);return x.useEffect(()=>{let s=!1;return pte(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function Nte({page:e,matches:t,...r}){let n=wi(),{future:a,manifest:s,routeModules:l}=_7(),{basename:u}=E7(),{loaderData:d,matches:f}=wte(),m=x.useMemo(()=>w6(e,t,f,s,n,"data"),[e,t,f,s,n]),g=x.useMemo(()=>w6(e,t,f,s,n,"assets"),[e,t,f,s,n]),y=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,k=!1;if(t.forEach(E=>{let _=s.routes[E.route.id];!_||!_.hasLoader||(!m.some(O=>O.route.id===E.route.id)&&E.route.id in d&&l[E.route.id]?.shouldRevalidate||_.hasClientLoader?k=!0:S.add(E.route.id))}),S.size===0)return[];let N=hte(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return k&&S.size>0&&N.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[u,a.unstable_trailingSlashAwareDataRequests,d,n,s,m,t,e,l]),b=x.useMemo(()=>yte(g,s),[g,s]),v=Cte(g);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),b.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),v.map(({key:S,link:k})=>x.createElement("link",{key:S,nonce:r.nonce,...k})))}function Ete(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var _te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_te&&(window.__reactRouterVersion="7.12.0")}catch{}function jte({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=x.useRef();a.current==null&&(a.current=oee({window:n,v5Compat:!0}));let s=a.current,[l,u]=x.useState({action:s.action,location:s.location}),d=x.useCallback(f=>{r===!1?u(f):x.startTransition(()=>u(f))},[r]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.createElement(rte,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var j7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},v){let{basename:S,unstable_useTransitions:k}=x.useContext(qa),N=typeof f=="string"&&j7.test(f),E=y7(f,S);f=E.to;let _=zee(f,{relative:a}),[O,j,A]=kte(n,b),R=Ite(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:k});function U(W){t&&t(W),W.defaultPrevented||R(W)}let V=x.createElement("a",{...b,...A,href:E.absoluteURL||_,onClick:E.isExternal||s?t:U,ref:Ete(v,j),target:d,"data-discover":!N&&r==="render"?"true":void 0});return O&&!N?x.createElement(x.Fragment,null,V,x.createElement(Ste,{page:_})):V});hE.displayName="Link";var A7=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:u,children:d,...f},m){let g=L0(l,{relative:f.relative}),y=wi(),b=x.useContext(Kx),{navigator:v,basename:S}=x.useContext(qa),k=b!=null&&Lte(g)&&u===!0,N=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,E=y.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(E=E.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&S&&(_=lo(_,S)||_);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let j=E===N||!a&&E.startsWith(N)&&E.charAt(O)==="/",A=_!=null&&(_===N||!a&&_.startsWith(N)&&_.charAt(N.length)==="/"),R={isActive:j,isPending:A,isTransitioning:k},U=j?t:void 0,V;typeof n=="function"?V=n(R):V=[n,j?"active":null,A?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(R):s;return x.createElement(hE,{...f,"aria-current":U,className:V,ref:m,style:W,to:l,viewTransition:u},typeof d=="function"?d(R):d)});A7.displayName="NavLink";var Ate=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=Tp,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y,...b},v)=>{let{unstable_useTransitions:S}=x.useContext(qa),k=Dte(),N=Pte(u,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&j7.test(u),O=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let A=j.nativeEvent.submitter,R=A?.getAttribute("formmethod")||l,U=()=>k(A||j.currentTarget,{fetcherKey:t,method:R,navigate:r,replace:a,state:s,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});S&&r!==!1?x.startTransition(()=>U()):U()};return x.createElement("form",{ref:v,method:E,action:N,onSubmit:n?d:O,...b,"data-discover":!_&&e==="render"?"true":void 0})});Ate.displayName="Form";function Tte(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T7(e){let t=x.useContext(cf);return xr(t,Tte(e)),t}function Ite(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=df(),m=wi(),g=L0(e,{relative:s});return x.useCallback(y=>{if(lte(y,t)){y.preventDefault();let b=r!==void 0?r:s0(m)===s0(g),v=()=>f(e,{replace:b,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});d?x.startTransition(()=>v()):v()}},[m,f,g,r,n,t,e,a,s,l,u,d])}function Ote(e){Ba(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(m2(e)),r=x.useRef(!1),n=wi(),a=x.useMemo(()=>cte(n.search,r.current?null:t.current),[n.search]),s=df(),l=x.useCallback((u,d)=>{const f=m2(typeof u=="function"?u(new URLSearchParams(a)):u);r.current=!0,s("?"+f,d)},[s,a]);return[a,l]}var Mte=0,Rte=()=>`__${String(++Mte)}__`;function Dte(){let{router:e}=T7("useSubmit"),{basename:t}=x.useContext(qa),r=Qee(),n=e.fetch,a=e.navigate;return x.useCallback(async(s,l={})=>{let{action:u,method:d,encType:f,formData:m,body:g}=fte(s,t);if(l.navigate===!1){let y=l.fetcherKey||Rte();await n(y,r,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await a(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function Pte(e,{relative:t}={}){let{basename:r}=x.useContext(qa),n=x.useContext(Gs);xr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...L0(e||".",{relative:t})},l=wi();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:eo([r,s.pathname])),s0(s)}function Lte(e,{relative:t}={}){let r=x.useContext(b7);xr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=T7("useViewTransitionState"),a=L0(e,{relative:t});if(!r.isTransitioning)return!1;let s=lo(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=lo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return py(a.pathname,l)!=null||py(a.pathname,s)!=null}var Vx=P8();const Ute=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),k6=e=>{const t=Fte(e);return t.charAt(0).toUpperCase()+t.slice(1)},I7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Bte=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $te=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...zte,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:I7("lucide",a),...!s&&!Bte(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(s)?s:[s]]));const Ue=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement($te,{ref:s,iconNode:t,className:I7(`lucide-${Ute(k6(e))}`,`lucide-${e}`,n),...a}));return r.displayName=k6(e),r};const Hte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wr=Ue("activity",Hte);const qte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],O7=Ue("arrow-right",qte);const Kte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ff=Ue("bell",Kte);const Gte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yy=Ue("calendar",Gte);const Wte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Op=Ue("chart-column",Wte);const Vte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Mp=Ue("chart-line",Vte);const Yte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hi=Ue("check",Yte);const Xte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qc=Ue("chevron-down",Xte);const Jte=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mE=Ue("chevron-left",Jte);const Qte=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pd=Ue("chevron-right",Qte);const Zte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xy=Ue("chevron-up",Zte);const ere=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],tre=Ue("chevrons-down",ere);const rre=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],nre=Ue("chevrons-up",rre);const are=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qt=Ue("circle-alert",are);const sre=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dn=Ue("circle-check-big",sre);const ire=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ki=Ue("circle-check",ire);const ore=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],g2=Ue("circle-question-mark",ore);const lre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],cre=Ue("circle-user",lre);const ure=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ma=Ue("circle-x",ure);const dre=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mi=Ue("clock",dre);const fre=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],M7=Ue("cloud",fre);const hre=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],R7=Ue("code",hre);const mre=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],p2=Ue("copy",mre);const gre=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],us=Ue("cpu",gre);const pre=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yc=Ue("dollar-sign",pre);const yre=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],D7=Ue("download",yre);const xre=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bre=Ue("external-link",xre);const vre=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wre=Ue("eye-off",vre);const kre=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P7=Ue("eye",kre);const Sre=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],L7=Ue("folder-open",Sre);const Cre=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U7=Ue("funnel",Cre);const Nre=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],S6=Ue("gauge",Nre);const Ere=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cs=Ue("globe",Ere);const _re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],jre=Ue("grid-3x3",_re);const Are=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],qn=Ue("hard-drive",Are);const Tre=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ud=Ue("layers",Tre);const Ire=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ore=Ue("layout-dashboard",Ire);const Mre=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],y2=Ue("loader-circle",Mre);const Rre=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dre=Ue("lock",Rre);const Pre=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lre=Ue("log-out",Pre);const Ure=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yx=Ue("mail",Ure);const Fre=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],sl=Ue("maximize-2",Fre);const Bre=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hf=Ue("message-square",Bre);const zre=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],F7=Ue("messages-square",zre);const $re=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],B7=Ue("minimize-2",$re);const Hre=[["path",{d:"M5 12h14",key:"1ays0h"}]],qre=Ue("minus",Hre);const Kre=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],x2=Ue("monitor",Kre);const Gre=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Wre=Ue("moon",Gre);const Vre=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Kc=Ue("network",Vre);const Yre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Tl=Ue("package",Yre);const Xre=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Vg=Ue("palette",Xre);const Jre=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Xx=Ue("pause",Jre);const Qre=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zre=Ue("pen-line",Qre);const ene=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],z7=Ue("play",ene);const tne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gc=Ue("plus",tne);const rne=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kn=Ue("refresh-cw",rne);const nne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],i0=Ue("save",nne);const ane=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iu=Ue("search",ane);const sne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$7=Ue("send",sne);const ine=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],vr=Ue("server",ine);const one=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],So=Ue("settings",one);const lne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pi=Ue("shield",lne);const cne=[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]],une=Ue("slack",cne);const dne=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],C6=Ue("smartphone",dne);const fne=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gE=Ue("sparkles",fne);const hne=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mne=Ue("square-check-big",hne);const gne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pE=Ue("square-pen",gne);const pne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],by=Ue("square",pne);const yne=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],xne=Ue("sun",yne);const bne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ks=Ue("trash-2",bne);const vne=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wne=Ue("trending-down",vne);const kne=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yE=Ue("trending-up",kne);const Sne=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vt=Ue("triangle-alert",Sne);const Cne=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Nne=Ue("upload",Cne);const Ene=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U0=Ue("users",Ene);const _ne=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],xE=Ue("webhook",_ne);const jne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dt=Ue("x",jne);const Ane=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N6=Ue("zap",Ane);function jd(...e){return e.filter(Boolean).join(" ")}function bE(){return!0}const Tne=[{id:"1",name:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{id:"2",name:"Dashboard Builder",icon:"BarChart3",path:"/dashboard-builder"},{id:"3",name:"Cluster Metrics",icon:"LineChart",path:"/metrics"},{id:"4",name:"Application Metrics",icon:"Package",path:"/application-metrics"},{id:"15",name:"Volume Metrics",icon:"HardDrive",path:"/volume-metrics"},{id:"12",name:"Clusters Diagram",icon:"Network",path:"/clusters-diagram"},{id:"13",name:"Cluster Events",icon:"Activity",path:"/cluster-events"},{id:"14",name:"Cluster Prices",icon:"DollarSign",path:"/cluster-prices"},{id:"5",name:"Monitor Agents",icon:"Monitor",path:"/agents"},{id:"6",name:"Monitor Alert",icon:"Bell",path:"/alerts"},{id:"7",name:"SSL Certificate Monitor",icon:"Shield",path:"/ssl-certificates"},{id:"8",name:"Notification Management",icon:"MessageSquare",path:"/notifications"},{id:"9",name:"Monitor Groups",icon:"Users",path:"/groups"}],Ine=[{id:"10",name:"User Management",icon:"UserCircle",path:"/users"},{id:"11",name:"Administration",icon:"Bell",path:"/admin"}],One={id:"settings",name:"Settings",icon:"Settings",path:"/settings"},Mne={LayoutDashboard:Ore,BarChart3:Op,Monitor:x2,Bell:ff,LineChart:Mp,MessageSquare:hf,Users:U0,UserCircle:cre,Settings:So,Shield:pi,Package:Tl,HardDrive:qn,Network:Kc,Activity:wr,DollarSign:yc};function Rne({isCollapsed:e,toggleSidebar:t}){const r=Kt.useMemo(()=>{const a=localStorage.getItem("userInfo");return a?JSON.parse(a):null},[]),n=Kt.useMemo(()=>{let a=[...Tne];if(!bE()){const s=["3","4","15","12","13","14"];a=a.filter(l=>!s.includes(l.id))}return r?.isAdmin&&a.push(...Ine),a.push(One),a},[r]);return i.jsxs("div",{className:`bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm text-gray-900 dark:text-white border-r border-gray-200/50 dark:border-gray-800/50 transition-all duration-300 ease-in-out flex flex-col shadow-sm
        ${e?"w-[70px]":"w-[260px]"}`,children:[i.jsx("div",{className:"flex-none p-4 border-b border-gray-200/50 dark:border-gray-800/50",children:i.jsx("button",{onClick:t,className:"w-full flex items-center justify-center p-2.5 hover:bg-gray-100 dark:hover:bg-gray-800/50 rounded-xl transition-all duration-200 text-gray-700 dark:text-white hover:scale-105 active:scale-95","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?i.jsx(Pd,{className:"w-5 h-5"}):i.jsx(mE,{className:"w-5 h-5"})})}),i.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2 space-y-1",children:n.map(a=>{const s=Mne[a.icon],l=a.id==="3"||a.id==="4"||a.id==="15"||a.id==="12"||a.id==="13"||a.id==="14";return i.jsx(A7,{to:a.path,className:({isActive:u})=>jd("flex items-center gap-3 px-3 py-2.5 rounded-xl transition-all duration-200 text-gray-700 dark:text-white relative group",u?"bg-gradient-to-r from-blue-50 to-blue-100/50 dark:from-blue-900/30 dark:to-blue-800/20 text-blue-600 dark:text-blue-400 shadow-sm border border-blue-200/50 dark:border-blue-800/30":"hover:bg-gray-100/80 dark:hover:bg-gray-800/50 hover:translate-x-1"),children:({isActive:u})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative flex-none",children:[i.jsx(s,{className:jd("w-5 h-5 transition-transform duration-200",u?"scale-110":"group-hover:scale-110")}),l&&i.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-500 rounded-full border-2 border-white dark:border-gray-900 animate-pulse"})]}),!e&&i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("span",{className:jd("text-sm font-medium whitespace-nowrap overflow-hidden text-ellipsis",u&&"font-semibold"),children:a.name}),l&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-bold bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-md flex-shrink-0 shadow-sm",children:"NEW"})]}),u&&!e&&i.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-gradient-to-b from-blue-500 to-blue-600 rounded-r-full"})]})},a.id)})})]})}function As({value:e,onValueChange:t,children:r,className:n}){return i.jsx("select",{value:e,onChange:a=>t(a.target.value),className:jd("w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500",n),children:r})}As.Item=function({value:t,children:r}){return i.jsx("option",{value:t,children:r})};function ii({checked:e,onCheckedChange:t,disabled:r=!1}){return i.jsx("button",{type:"button",role:"switch","aria-checked":e,disabled:r,onClick:n=>{n.preventDefault(),n.stopPropagation(),r||t(!e)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${e?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"} ${r?"opacity-50 cursor-not-allowed":""}`,children:i.jsx("span",{className:`${e?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition-transform`})})}function Dne({className:e,...t}){return i.jsx("textarea",{className:jd("w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500",e),...t})}const Pne={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};function Je({size:e="md",text:t,className:r="",fullScreen:n=!1}){const a=i.jsxs("div",{className:`flex items-center gap-2 text-gray-500 dark:text-gray-400 ${r}`,children:[i.jsx(y2,{className:`${Pne[e]} animate-spin`}),t&&i.jsx("span",{children:t})]});return n?i.jsx("div",{className:"min-h-screen dark:bg-gray-900 bg-gray-50 flex items-center justify-center",children:a}):a}const Qu=new nE(sE);class Lne{initialized=!1;async initialize(){this.initialized||(await Qu.initialize(),this.initialized=!0)}async ensureActiveAccount(){if(await this.initialize(),!Qu.getActiveAccount()){const r=Qu.getAllAccounts();if(r.length>0)Qu.setActiveAccount(r[0]);else throw new Error("No accounts found. Please sign in first.")}}async getMsGraphToken(){try{await this.ensureActiveAccount();const t=Qu.getActiveAccount();if(!t)throw new Error("No active account! Verify a user is signed in and setActiveAccount has been called.");return(await Qu.acquireTokenSilent({scopes:["User.Read"],account:t})).accessToken}catch(t){throw console.error("Error getting MS Graph token:",t),t}}async getUserPhoto(){try{let t;try{t=await this.getMsGraphToken()}catch(a){return console.warn("Failed to get MS Graph token:",a),null}const r=await fetch("https://graph.microsoft.com/v1.0/me/photo/$value",{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)return console.warn("Failed to fetch user photo:",r.status),null;const n=await r.blob();return URL.createObjectURL(n)}catch(t){return console.error("Error fetching user photo:",t),null}}}const Une=new Lne,Fne=[{title:"Monitor Execution Control",description:"New system maintenance mode feature allowing administrators to globally enable or disable monitor execution across all monitor types (HTTP, TCP, K8s) for system maintenance and troubleshooting.",date:"January 10th, 2026",features:["New Monitor Execution section in Administration page for controlling global monitor execution","Enable/Disable toggle with confirmation modal to prevent accidental changes","Visual warning indicators when monitor execution is disabled","TopBar status indicator showing when all monitors are paused for maintenance","Real-time status updates across the application when execution state changes","Clear messaging explaining that disabling pauses all monitor runners (HTTP, TCP, K8s)","Admin-only access control for system maintenance operations","Automatic status refresh every 30 seconds to keep UI synchronized","Warning banner in TopBar replacing monitor status when execution is disabled","Confirmation dialogs with appropriate warnings for disabling and simpler messages for enabling"]},{title:"Enhanced Monitor Creation Wizard",description:"Completely redesigned monitor creation and editing experience with an intuitive step-by-step wizard interface for improved usability and user guidance.",date:"January 2nd, 2026",features:["New step-by-step wizard interface replacing the single-page form for monitor creation and editing","Type selection as the first step (HTTP, TCP, or Kubernetes) with clear visual indicators","Conditional form fields that dynamically appear based on selected monitor type","Automatic group creation step when no monitor groups exist for the user","Improved navigation with Next/Previous buttons and step indicators","Step-by-step validation ensuring all required fields are completed before proceeding","Enhanced review step for HTTP monitors to review all settings before submission","Fixed group display issues for Kubernetes monitors in edit mode","Better error handling and user feedback throughout the creation process","Removed Beta tag from Kubernetes monitor type for production readiness","Improved form submission control to prevent accidental auto-submissions","Dark theme support with consistent styling across all wizard steps"]},{title:"Kubernetes Metrics Monitoring",description:"New dedicated metrics pages for monitoring Kubernetes cluster nodes and namespaces with comprehensive CPU and memory tracking powered by the new alerthawk-metrics microservice.",date:"November 19th, 2025",features:["New Cluster Nodes metrics page for monitoring node-level CPU and memory usage across Kubernetes clusters","New Application Metrics page for tracking pod and container resource consumption by namespace","Integration with the new alerthawk-metrics microservice for dedicated metrics collection and storage","Cluster filtering to view metrics for specific Kubernetes clusters","Time range selection with options for 1 hour, 6 hours, 24 hours, 48 hours, and 7 days","Real-time charts showing CPU and memory usage trends over time","Detailed tables with color-coded usage indicators (green/yellow/red based on thresholds)","Node-level metrics including CPU cores usage, memory capacity, and utilization percentages","Namespace-level aggregation showing total pods, containers, and resource consumption","Pod and container filtering for granular monitoring within namespaces","Automatic refresh functionality to keep metrics up-to-date","Dark theme support with responsive design for all screen sizes"]},{title:"Dashboard Builder & Custom Widgets",description:"Revolutionary dashboard builder with drag-and-drop widgets, real-time data visualization, and customizable monitoring dashboards.",date:"October 4th, 2025",features:["Interactive Dashboard Builder accessible from the sidebar with drag-and-drop functionality","Customizable widget library with 6 widget types: Uptime Summary, Alert Timeline, Group Summary, Monitor Status, SSL Status, and Status Blocks","Real-time data integration with monitor groups and alert data sources","Widget configuration with settings panels for each widget type","Save and load dashboard functionality with local storage persistence","URL-based dashboard sharing with unique dashboard IDs","Auto-refresh settings with configurable intervals (10s, 20s, 30s, 1min, 5min)","Widget limit of 15 widgets per dashboard for optimal performance","Responsive grid layout with fixed widget heights and internal scrolling","Dark theme support with consistent styling across all widgets","Widget renaming with pencil icon and keyboard shortcuts (Enter to save)","Preview mode for clean dashboard viewing without edit controls"]},{title:"SSL Certificate Monitor",description:"New dedicated page for monitoring SSL certificate expiration status across all environments with advanced filtering and sorting capabilities.",date:"September 27th, 2025",features:["Dedicated SSL Certificate Monitor page accessible from the sidebar","Environment selector to view certificates across Development, Staging, QA, Testing, PreProd, and Production","Smart filtering to show only active HTTP monitors with certificate monitoring enabled","Color-coded status indicators: Critical (7 days), Warning (8-30 days), Healthy (>30 days)","Sortable table columns for Status, Monitor Name, URL, and Days to Expire","One-click URL opening to visit monitored sites directly","Dark theme support with responsive design","Automatic exclusion of paused monitors and monitors without certificate monitoring"]},{title:"HTTP Response Code Range Configuration",description:"Enhanced HTTP monitor configuration with customizable response code range validation for more precise monitoring control.",date:"September 12th, 2025",features:["Added configurable HTTP response code range fields (From/To) for HTTP monitors","Default range set to 200-299 for standard successful responses","Real-time form validation with proper min/max constraints (100-599)","Seamless integration with existing monitor creation and editing workflows","Improved monitor accuracy by allowing custom success criteria beyond standard HTTP codes","Enhanced editing experience with proper field population from existing monitor data"]},{title:"Environment Selection Persistence",description:"Enhanced environment selection with persistent storage and real-time updates across components.",date:"August 8th, 2025",features:["Environment selection is now saved to localStorage and persists across page refreshes","TopBar monitor status automatically updates when environment changes","Real-time synchronization between MetricsList and TopBar components","Default environment set to Production when no selection is stored","Improved user experience with consistent environment state across the application"]},{title:"Certificate Expiration Warnings",description:"New proactive monitoring feature to alert users about expiring SSL certificates.",date:"August 1st, 2025",features:["Automatic detection of monitors with certificates expiring in less than 30 days","Smart filtering to only show HTTP monitors (monitorTypeId = 1)","Visual indicators with color-coded urgency levels","User preference option to dismiss warnings permanently","Responsive modal design with dark mode support"]},{title:"Enhanced Group Filtering",description:"New filtering capabilities and improvements to the monitoring interface.",date:"March 19th, 2025",features:["Added group filtering with multi-select support","Improved search functionality","Added Select All/Unselect All options for groups","Fixed various UI/UX issues in the monitoring dashboard","Improved button layouts and responsiveness"]},{title:"Kubernetes Support (Beta)",description:"New features and bug fixing",date:"March 9th, 2025",features:["Kubernetes Support (Beta)","Fixed issue when user from different region cannot see the monitor","Fixed issue when user without groups tries to load groups page"]},{title:"Enhanced Monitoring Dashboard",description:"We've completely revamped the monitoring dashboard with new features and improved visualization.",date:"March 1st, 2025",features:["Real-time status updates with live indicators","Advanced filtering and sorting capabilities","Added Support to Kubernetes (Beta)","Integration with AI for predictive alerts","Improved user interface for better navigation"]},{title:"New UI! - V2",description:"A completely redesigned UI.",date:"February 10th, 2025",features:["Better user experience","Improved charts and monitor details","Improved Alert details"]}];function Bne({onClose:e}){const t=i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",margin:0},onClick:r=>{r.target===r.currentTarget&&e()},children:i.jsxs("div",{className:"w-full max-w-2xl dark:bg-gray-900 bg-gray-50 rounded-lg shadow-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(gE,{className:"w-5 h-5 text-blue-500"}),i.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"What's New"})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-5 h-5 dark:text-gray-400"})})]}),i.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(80vh-80px)]",children:i.jsx("div",{className:"space-y-8",children:Fne.map((r,n)=>i.jsxs("div",{className:"relative pl-8 border-l-2 border-blue-500 dark:border-blue-400",children:[i.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-blue-500 dark:bg-blue-400"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium dark:text-white",children:r.title}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.date})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:r.description}),i.jsx("ul",{className:"space-y-2 mt-4",children:r.features.map((a,s)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:a})]},s))})]})]},n))})}),i.jsx("div",{className:"p-4 border-t dark:border-gray-700",children:i.jsxs("button",{onClick:e,className:`w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                     transition-colors flex items-center justify-center gap-2`,children:["Got it",i.jsx(O7,{className:"w-4 h-4"})]})})]})});return Vx.createPortal(t,document.body)}function H7(e,t){return function(){return e.apply(t,arguments)}}const{toString:zne}=Object.prototype,{getPrototypeOf:vE}=Object,{iterator:Jx,toStringTag:q7}=Symbol,Qx=(e=>t=>{const r=zne.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ws=e=>(e=e.toLowerCase(),t=>Qx(t)===e),Zx=e=>t=>typeof t===e,{isArray:mf}=Array,Ld=Zx("undefined");function F0(e){return e!==null&&!Ld(e)&&e.constructor!==null&&!Ld(e.constructor)&&ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const K7=Ws("ArrayBuffer");function $ne(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&K7(e.buffer),t}const Hne=Zx("string"),ga=Zx("function"),G7=Zx("number"),B0=e=>e!==null&&typeof e=="object",qne=e=>e===!0||e===!1,Rp=e=>{if(Qx(e)!=="object")return!1;const t=vE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(q7 in e)&&!(Jx in e)},Kne=e=>{if(!B0(e)||F0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Gne=Ws("Date"),Wne=Ws("File"),Vne=Ws("Blob"),Yne=Ws("FileList"),Xne=e=>B0(e)&&ga(e.pipe),Jne=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ga(e.append)&&((t=Qx(e))==="formdata"||t==="object"&&ga(e.toString)&&e.toString()==="[object FormData]"))},Qne=Ws("URLSearchParams"),[Zne,eae,tae,rae]=["ReadableStream","Request","Response","Headers"].map(Ws),nae=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function z0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),mf(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(F0(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let u;for(n=0;n<l;n++)u=s[n],t.call(null,e[u],u,e)}}function W7(e,t){if(F0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V7=e=>!Ld(e)&&e!==bc;function b2(){const{caseless:e,skipUndefined:t}=V7(this)&&this||{},r={},n=(a,s)=>{const l=e&&W7(r,s)||s;Rp(r[l])&&Rp(a)?r[l]=b2(r[l],a):Rp(a)?r[l]=b2({},a):mf(a)?r[l]=a.slice():(!t||!Ld(a))&&(r[l]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&z0(arguments[a],n);return r}const aae=(e,t,r,{allOwnKeys:n}={})=>(z0(t,(a,s)=>{r&&ga(a)?e[s]=H7(a,r):e[s]=a},{allOwnKeys:n}),e),sae=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iae=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oae=(e,t,r,n)=>{let a,s,l;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&vE(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},lae=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},cae=e=>{if(!e)return null;if(mf(e))return e;let t=e.length;if(!G7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},uae=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vE(Uint8Array)),dae=(e,t)=>{const n=(e&&e[Jx]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},fae=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},hae=Ws("HTMLFormElement"),mae=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),E6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gae=Ws("RegExp"),Y7=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};z0(r,(a,s)=>{let l;(l=t(a,s,e))!==!1&&(n[s]=l||a)}),Object.defineProperties(e,n)},pae=e=>{Y7(e,(t,r)=>{if(ga(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ga(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yae=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return mf(e)?n(e):n(String(e).split(t)),r},xae=()=>{},bae=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vae(e){return!!(e&&ga(e.append)&&e[q7]==="FormData"&&e[Jx])}const wae=e=>{const t=new Array(10),r=(n,a)=>{if(B0(n)){if(t.indexOf(n)>=0)return;if(F0(n))return n;if(!("toJSON"in n)){t[a]=n;const s=mf(n)?[]:{};return z0(n,(l,u)=>{const d=r(l,a+1);!Ld(d)&&(s[u]=d)}),t[a]=void 0,s}}return n};return r(e,0)},kae=Ws("AsyncFunction"),Sae=e=>e&&(B0(e)||ga(e))&&ga(e.then)&&ga(e.catch),X7=((e,t)=>e?setImmediate:t?((r,n)=>(bc.addEventListener("message",({source:a,data:s})=>{a===bc&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ga(bc.postMessage)),Cae=typeof queueMicrotask<"u"?queueMicrotask.bind(bc):typeof process<"u"&&process.nextTick||X7,Nae=e=>e!=null&&ga(e[Jx]),he={isArray:mf,isArrayBuffer:K7,isBuffer:F0,isFormData:Jne,isArrayBufferView:$ne,isString:Hne,isNumber:G7,isBoolean:qne,isObject:B0,isPlainObject:Rp,isEmptyObject:Kne,isReadableStream:Zne,isRequest:eae,isResponse:tae,isHeaders:rae,isUndefined:Ld,isDate:Gne,isFile:Wne,isBlob:Vne,isRegExp:gae,isFunction:ga,isStream:Xne,isURLSearchParams:Qne,isTypedArray:uae,isFileList:Yne,forEach:z0,merge:b2,extend:aae,trim:nae,stripBOM:sae,inherits:iae,toFlatObject:oae,kindOf:Qx,kindOfTest:Ws,endsWith:lae,toArray:cae,forEachEntry:dae,matchAll:fae,isHTMLForm:hae,hasOwnProperty:E6,hasOwnProp:E6,reduceDescriptors:Y7,freezeMethods:pae,toObjectSet:yae,toCamelCase:mae,noop:xae,toFiniteNumber:bae,findKey:W7,global:bc,isContextDefined:V7,isSpecCompliantForm:vae,toJSONObject:wae,isAsyncFn:kae,isThenable:Sae,setImmediate:X7,asap:Cae,isIterable:Nae};function dt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}he.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const J7=dt.prototype,Q7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Q7[e]={value:e}});Object.defineProperties(dt,Q7);Object.defineProperty(J7,"isAxiosError",{value:!0});dt.from=(e,t,r,n,a,s)=>{const l=Object.create(J7);he.toFlatObject(e,l,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return dt.call(l,u,d,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const Eae=null;function v2(e){return he.isPlainObject(e)||he.isArray(e)}function Z7(e){return he.endsWith(e,"[]")?e.slice(0,-2):e}function _6(e,t,r){return e?e.concat(t).map(function(a,s){return a=Z7(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function _ae(e){return he.isArray(e)&&!e.some(v2)}const jae=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function eb(e,t,r){if(!he.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=he.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!he.isUndefined(k[S])});const n=r.metaTokens,a=r.visitor||m,s=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(a))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(he.isDate(v))return v.toISOString();if(he.isBoolean(v))return v.toString();if(!d&&he.isBlob(v))throw new dt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(v)||he.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,S,k){let N=v;if(v&&!k&&typeof v=="object"){if(he.endsWith(S,"{}"))S=n?S:S.slice(0,-2),v=JSON.stringify(v);else if(he.isArray(v)&&_ae(v)||(he.isFileList(v)||he.endsWith(S,"[]"))&&(N=he.toArray(v)))return S=Z7(S),N.forEach(function(_,O){!(he.isUndefined(_)||_===null)&&t.append(l===!0?_6([S],O,s):l===null?S:S+"[]",f(_))}),!1}return v2(v)?!0:(t.append(_6(k,S,s),f(v)),!1)}const g=[],y=Object.assign(jae,{defaultVisitor:m,convertValue:f,isVisitable:v2});function b(v,S){if(!he.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(v),he.forEach(v,function(N,E){(!(he.isUndefined(N)||N===null)&&a.call(t,N,he.isString(E)?E.trim():E,S,y))===!0&&b(N,S?S.concat(E):[E])}),g.pop()}}if(!he.isObject(e))throw new TypeError("data must be an object");return b(e),t}function j6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function wE(e,t){this._pairs=[],e&&eb(e,this,t)}const eL=wE.prototype;eL.append=function(t,r){this._pairs.push([t,r])};eL.toString=function(t){const r=t?function(n){return t.call(this,n,j6)}:j6;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Aae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tL(e,t,r){if(!t)return e;const n=r&&r.encode||Aae;he.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=he.isURLSearchParams(t)?t.toString():new wE(t,r).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class A6{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(n){n!==null&&t(n)})}}const rL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tae=typeof URLSearchParams<"u"?URLSearchParams:wE,Iae=typeof FormData<"u"?FormData:null,Oae=typeof Blob<"u"?Blob:null,Mae={isBrowser:!0,classes:{URLSearchParams:Tae,FormData:Iae,Blob:Oae},protocols:["http","https","file","blob","url","data"]},kE=typeof window<"u"&&typeof document<"u",w2=typeof navigator=="object"&&navigator||void 0,Rae=kE&&(!w2||["ReactNative","NativeScript","NS"].indexOf(w2.product)<0),Dae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pae=kE&&window.location.href||"http://localhost",Lae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kE,hasStandardBrowserEnv:Rae,hasStandardBrowserWebWorkerEnv:Dae,navigator:w2,origin:Pae},Symbol.toStringTag,{value:"Module"})),Tn={...Lae,...Mae};function Uae(e,t){return eb(e,new Tn.classes.URLSearchParams,{visitor:function(r,n,a,s){return Tn.isNode&&he.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Fae(e){return he.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bae(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function nL(e){function t(r,n,a,s){let l=r[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=r.length;return l=!l&&he.isArray(a)?a.length:l,d?(he.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!he.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],s)&&he.isArray(a[l])&&(a[l]=Bae(a[l])),!u)}if(he.isFormData(e)&&he.isFunction(e.entries)){const r={};return he.forEachEntry(e,(n,a)=>{t(Fae(n),a,r,0)}),r}return null}function zae(e,t,r){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const $0={transitional:rL,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=he.isObject(t);if(s&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return a?JSON.stringify(nL(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)||he.isReadableStream(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Uae(t,this.formSerializer).toString();if((u=he.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return eb(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),zae(t)):t}],transformResponse:[function(t){const r=this.transitional||$0.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(he.isResponse(t)||he.isReadableStream(t))return t;if(t&&he.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?dt.from(u,dt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],e=>{$0.headers[e]={}});const $ae=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hae=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&$ae[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},T6=Symbol("internals");function Ih(e){return e&&String(e).trim().toLowerCase()}function Dp(e){return e===!1||e==null?e:he.isArray(e)?e.map(Dp):String(e)}function qae(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Kae=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pw(e,t,r,n,a){if(he.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!he.isString(t)){if(he.isString(n))return t.indexOf(n)!==-1;if(he.isRegExp(n))return n.test(t)}}function Gae(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Wae(e,t){const r=he.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,l){return this[n].call(this,t,a,s,l)},configurable:!0})})}let pa=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(u,d,f){const m=Ih(d);if(!m)throw new Error("header name must be a non-empty string");const g=he.findKey(a,m);(!g||a[g]===void 0||f===!0||f===void 0&&a[g]!==!1)&&(a[g||d]=Dp(u))}const l=(u,d)=>he.forEach(u,(f,m)=>s(f,m,d));if(he.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(he.isString(t)&&(t=t.trim())&&!Kae(t))l(Hae(t),r);else if(he.isObject(t)&&he.isIterable(t)){let u={},d,f;for(const m of t){if(!he.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?he.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(u,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Ih(t),t){const n=he.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return qae(a);if(he.isFunction(r))return r.call(this,a,n);if(he.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ih(t),t){const n=he.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Pw(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(l){if(l=Ih(l),l){const u=he.findKey(n,l);u&&(!r||Pw(n,n[u],u,r))&&(delete n[u],a=!0)}}return he.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||Pw(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return he.forEach(this,(a,s)=>{const l=he.findKey(n,s);if(l){r[l]=Dp(a),delete r[s];return}const u=t?Gae(s):String(s).trim();u!==s&&delete r[s],r[u]=Dp(a),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return he.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&he.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[T6]=this[T6]={accessors:{}}).accessors,a=this.prototype;function s(l){const u=Ih(l);n[u]||(Wae(a,l),n[u]=!0)}return he.isArray(t)?t.forEach(s):s(t),this}};pa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(pa.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});he.freezeMethods(pa);function Lw(e,t){const r=this||$0,n=t||r,a=pa.from(n.headers);let s=n.data;return he.forEach(e,function(u){s=u.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function aL(e){return!!(e&&e.__CANCEL__)}function gf(e,t,r){dt.call(this,e??"canceled",dt.ERR_CANCELED,t,r),this.name="CanceledError"}he.inherits(gf,dt,{__CANCEL__:!0});function sL(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new dt("Request failed with status code "+r.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Vae(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Yae(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=n[s];l||(l=f),r[a]=d,n[a]=f;let g=s,y=0;for(;g!==a;)y+=r[g++],g=g%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),f-l<t)return;const b=m&&f-m;return b?Math.round(y*1e3/b):void 0}}function Xae(e,t){let r=0,n=1e3/t,a,s;const l=(f,m=Date.now())=>{r=m,a=null,s&&(clearTimeout(s),s=null),e(...f)};return[(...f)=>{const m=Date.now(),g=m-r;g>=n?l(f,m):(a=f,s||(s=setTimeout(()=>{s=null,l(a)},n-g)))},()=>a&&l(a)]}const vy=(e,t,r=3)=>{let n=0;const a=Yae(50,250);return Xae(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-n,f=a(d),m=l<=u;n=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-l)/f:void 0,event:s,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},r)},I6=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},O6=e=>(...t)=>he.asap(()=>e(...t)),Jae=Tn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Tn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,Qae=Tn.hasStandardBrowserEnv?{write(e,t,r,n,a,s,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];he.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),he.isString(n)&&u.push(`path=${n}`),he.isString(a)&&u.push(`domain=${a}`),s===!0&&u.push("secure"),he.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Zae(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ese(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iL(e,t,r){let n=!Zae(t);return e&&(n||r==!1)?ese(e,t):t}const M6=e=>e instanceof pa?{...e}:e;function Wc(e,t){t=t||{};const r={};function n(f,m,g,y){return he.isPlainObject(f)&&he.isPlainObject(m)?he.merge.call({caseless:y},f,m):he.isPlainObject(m)?he.merge({},m):he.isArray(m)?m.slice():m}function a(f,m,g,y){if(he.isUndefined(m)){if(!he.isUndefined(f))return n(void 0,f,g,y)}else return n(f,m,g,y)}function s(f,m){if(!he.isUndefined(m))return n(void 0,m)}function l(f,m){if(he.isUndefined(m)){if(!he.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function u(f,m,g){if(g in t)return n(f,m);if(g in e)return n(void 0,f)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m,g)=>a(M6(f),M6(m),g,!0)};return he.forEach(Object.keys({...e,...t}),function(m){const g=d[m]||a,y=g(e[m],t[m],m);he.isUndefined(y)&&g!==u||(r[m]=y)}),r}const oL=e=>{const t=Wc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:u}=t;if(t.headers=l=pa.from(l),t.url=tL(iL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),he.isFormData(r)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(he.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,g])=>{f.includes(m.toLowerCase())&&l.set(m,g)})}}if(Tn.hasStandardBrowserEnv&&(n&&he.isFunction(n)&&(n=n(t)),n||n!==!1&&Jae(t.url))){const d=a&&s&&Qae.read(s);d&&l.set(a,d)}return t},tse=typeof XMLHttpRequest<"u",rse=tse&&function(e){return new Promise(function(r,n){const a=oL(e);let s=a.data;const l=pa.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=a,m,g,y,b,v;function S(){b&&b(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function N(){if(!k)return;const _=pa.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:_,config:e,request:k};sL(function(R){r(R),S()},function(R){n(R),S()},j),k=null}"onloadend"in k?k.onloadend=N:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(N)},k.onabort=function(){k&&(n(new dt("Request aborted",dt.ECONNABORTED,e,k)),k=null)},k.onerror=function(O){const j=O&&O.message?O.message:"Network Error",A=new dt(j,dt.ERR_NETWORK,e,k);A.event=O||null,n(A),k=null},k.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||rL;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),n(new dt(O,j.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,e,k)),k=null},s===void 0&&l.setContentType(null),"setRequestHeader"in k&&he.forEach(l.toJSON(),function(O,j){k.setRequestHeader(j,O)}),he.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),u&&u!=="json"&&(k.responseType=a.responseType),f&&([y,v]=vy(f,!0),k.addEventListener("progress",y)),d&&k.upload&&([g,b]=vy(d),k.upload.addEventListener("progress",g),k.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(m=_=>{k&&(n(!_||_.type?new gf(null,e,k):_),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const E=Vae(a.url);if(E&&Tn.protocols.indexOf(E)===-1){n(new dt("Unsupported protocol "+E+":",dt.ERR_BAD_REQUEST,e));return}k.send(s||null)})},nse=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(f){if(!a){a=!0,u();const m=f instanceof Error?f:this.reason;n.abort(m instanceof dt?m:new gf(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,s(new dt(`timeout ${t} of ms exceeded`,dt.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:d}=n;return d.unsubscribe=()=>he.asap(u),d}},ase=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},sse=async function*(e,t){for await(const r of ise(e))yield*ase(r,t)},ise=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},R6=(e,t,r,n)=>{const a=sse(e,t);let s=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await a.next();if(f){u(),d.close();return}let g=m.byteLength;if(r){let y=s+=g;r(y)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},D6=64*1024,{isFunction:Yg}=he,ose=(({Request:e,Response:t})=>({Request:e,Response:t}))(he.global),{ReadableStream:P6,TextEncoder:L6}=he.global,U6=(e,...t)=>{try{return!!e(...t)}catch{return!1}},lse=e=>{e=he.merge.call({skipUndefined:!0},ose,e);const{fetch:t,Request:r,Response:n}=e,a=t?Yg(t):typeof fetch=="function",s=Yg(r),l=Yg(n);if(!a)return!1;const u=a&&Yg(P6),d=a&&(typeof L6=="function"?(v=>S=>v.encode(S))(new L6):async v=>new Uint8Array(await new r(v).arrayBuffer())),f=s&&u&&U6(()=>{let v=!1;const S=new r(Tn.origin,{body:new P6,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!S}),m=l&&u&&U6(()=>he.isReadableStream(new n("").body)),g={stream:m&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(S,k)=>{let N=S&&S[v];if(N)return N.call(S);throw new dt(`Response type '${v}' is not supported`,dt.ERR_NOT_SUPPORT,k)})});const y=async v=>{if(v==null)return 0;if(he.isBlob(v))return v.size;if(he.isSpecCompliantForm(v))return(await new r(Tn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(he.isArrayBufferView(v)||he.isArrayBuffer(v))return v.byteLength;if(he.isURLSearchParams(v)&&(v=v+""),he.isString(v))return(await d(v)).byteLength},b=async(v,S)=>{const k=he.toFiniteNumber(v.getContentLength());return k??y(S)};return async v=>{let{url:S,method:k,data:N,signal:E,cancelToken:_,timeout:O,onDownloadProgress:j,onUploadProgress:A,responseType:R,headers:U,withCredentials:V="same-origin",fetchOptions:W}=oL(v),G=t||fetch;R=R?(R+"").toLowerCase():"text";let $=nse([E,_&&_.toAbortSignal()],O),z=null;const Y=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let le;try{if(A&&f&&k!=="get"&&k!=="head"&&(le=await b(U,N))!==0){let M=new r(S,{method:"POST",body:N,duplex:"half"}),L;if(he.isFormData(N)&&(L=M.headers.get("content-type"))&&U.setContentType(L),M.body){const[J,se]=I6(le,vy(O6(A)));N=R6(M.body,D6,J,se)}}he.isString(V)||(V=V?"include":"omit");const H=s&&"credentials"in r.prototype,ee={...W,signal:$,method:k.toUpperCase(),headers:U.normalize().toJSON(),body:N,duplex:"half",credentials:H?V:void 0};z=s&&new r(S,ee);let q=await(s?G(z,W):G(S,ee));const te=m&&(R==="stream"||R==="response");if(m&&(j||te&&Y)){const M={};["status","statusText","headers"].forEach(je=>{M[je]=q[je]});const L=he.toFiniteNumber(q.headers.get("content-length")),[J,se]=j&&I6(L,vy(O6(j),!0))||[];q=new n(R6(q.body,D6,J,()=>{se&&se(),Y&&Y()}),M)}R=R||"text";let D=await g[he.findKey(g,R)||"text"](q,v);return!te&&Y&&Y(),await new Promise((M,L)=>{sL(M,L,{data:D,headers:pa.from(q.headers),status:q.status,statusText:q.statusText,config:v,request:z})})}catch(H){throw Y&&Y(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,v,z),{cause:H.cause||H}):dt.from(H,H&&H.code,v,z)}}},cse=new Map,lL=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let l=s.length,u=l,d,f,m=cse;for(;u--;)d=s[u],f=m.get(d),f===void 0&&m.set(d,f=u?new Map:lse(t)),m=f;return f};lL();const SE={http:Eae,xhr:rse,fetch:{get:lL}};he.forEach(SE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const F6=e=>`- ${e}`,use=e=>he.isFunction(e)||e===null||e===!1;function dse(e,t){e=he.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let l=0;l<r;l++){n=e[l];let u;if(a=n,!use(n)&&(a=SE[(u=String(n)).toLowerCase()],a===void 0))throw new dt(`Unknown adapter '${u}'`);if(a&&(he.isFunction(a)||(a=a.get(t))))break;s[u||"#"+l]=a}if(!a){const l=Object.entries(s).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(F6).join(`
`):" "+F6(l[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a}const cL={getAdapter:dse,adapters:SE};function Uw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gf(null,e)}function B6(e){return Uw(e),e.headers=pa.from(e.headers),e.data=Lw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cL.getAdapter(e.adapter||$0.adapter,e)(e).then(function(n){return Uw(e),n.data=Lw.call(e,e.transformResponse,n),n.headers=pa.from(n.headers),n},function(n){return aL(n)||(Uw(e),n&&n.response&&(n.response.data=Lw.call(e,e.transformResponse,n.response),n.response.headers=pa.from(n.response.headers))),Promise.reject(n)})}const uL="1.13.2",tb={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tb[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const z6={};tb.transitional=function(t,r,n){function a(s,l){return"[Axios v"+uL+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,u)=>{if(t===!1)throw new dt(a(l," has been removed"+(r?" in "+r:"")),dt.ERR_DEPRECATED);return r&&!z6[l]&&(z6[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,u):!0}};tb.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function fse(e,t,r){if(typeof e!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const u=e[s],d=u===void 0||l(u,s,e);if(d!==!0)throw new dt("option "+s+" must be "+d,dt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new dt("Unknown option "+s,dt.ERR_BAD_OPTION)}}const Pp={assertOptions:fse,validators:tb},ti=Pp.validators;let Ac=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A6,response:new A6}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Pp.assertOptions(n,{silentJSONParsing:ti.transitional(ti.boolean),forcedJSONParsing:ti.transitional(ti.boolean),clarifyTimeoutError:ti.transitional(ti.boolean)},!1),a!=null&&(he.isFunction(a)?r.paramsSerializer={serialize:a}:Pp.assertOptions(a,{encode:ti.function,serialize:ti.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Pp.assertOptions(r,{baseUrl:ti.spelling("baseURL"),withXsrfToken:ti.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&he.merge(s.common,s[r.method]);s&&he.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=pa.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(d=d&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let m,g=0,y;if(!d){const v=[B6.bind(this),void 0];for(v.unshift(...u),v.push(...f),y=v.length,m=Promise.resolve(r);g<y;)m=m.then(v[g++],v[g++]);return m}y=u.length;let b=r;for(;g<y;){const v=u[g++],S=u[g++];try{b=v(b)}catch(k){S.call(this,k);break}}try{m=B6.call(this,b)}catch(v){return Promise.reject(v)}for(g=0,y=f.length;g<y;)m=m.then(f[g++],f[g++]);return m}getUri(t){t=Wc(this.defaults,t);const r=iL(t.baseURL,t.url,t.allowAbsoluteUrls);return tL(r,t.params,t.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(t){Ac.prototype[t]=function(r,n){return this.request(Wc(n||{},{method:t,url:r,data:(n||{}).data}))}});he.forEach(["post","put","patch"],function(t){function r(n){return function(s,l,u){return this.request(Wc(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ac.prototype[t]=r(),Ac.prototype[t+"Form"]=r(!0)});let hse=class dL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const l=new Promise(u=>{n.subscribe(u),s=u}).then(a);return l.cancel=function(){n.unsubscribe(s)},l},t(function(s,l,u){n.reason||(n.reason=new gf(s,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new dL(function(a){t=a}),cancel:t}}};function mse(e){return function(r){return e.apply(null,r)}}function gse(e){return he.isObject(e)&&e.isAxiosError===!0}const k2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(k2).forEach(([e,t])=>{k2[t]=e});function fL(e){const t=new Ac(e),r=H7(Ac.prototype.request,t);return he.extend(r,Ac.prototype,t,{allOwnKeys:!0}),he.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return fL(Wc(e,a))},r}const Jt=fL($0);Jt.Axios=Ac;Jt.CanceledError=gf;Jt.CancelToken=hse;Jt.isCancel=aL;Jt.VERSION=uL;Jt.toFormData=eb;Jt.AxiosError=dt;Jt.Cancel=Jt.CanceledError;Jt.all=function(t){return Promise.all(t)};Jt.spread=mse;Jt.isAxiosError=gse;Jt.mergeConfig=Wc;Jt.AxiosHeaders=pa;Jt.formToJSON=e=>nL(he.isHTMLForm(e)?new FormData(e):e);Jt.getAdapter=cL.getAdapter;Jt.HttpStatusCode=k2;Jt.default=Jt;const{Axios:tOe,AxiosError:rOe,CanceledError:nOe,isCancel:aOe,CancelToken:sOe,VERSION:iOe,all:oOe,Cancel:lOe,isAxiosError:cOe,spread:uOe,toFormData:dOe,AxiosHeaders:fOe,HttpStatusCode:hOe,formToJSON:mOe,getAdapter:gOe,mergeConfig:pOe}=Jt;class cr{static monitoringInstance;static authInstance;static notificationInstance;static metricsInstance;axiosInstance;msalInstance;initialized=!1;constructor(t){this.axiosInstance=Jt.create({baseURL:t}),this.msalInstance=new nE(sE),this.initialize()}async initialize(){if(!this.initialized)try{await this.msalInstance.initialize(),this.initialized=!0,this.setupInterceptors()}catch(t){console.error("Failed to initialize MSAL:",t)}}setupInterceptors(){this.axiosInstance.interceptors.request.use(async t=>{this.initialized||await this.initialize();const r=localStorage.getItem("authToken");if(r)return t.headers.Authorization=`Bearer ${r}`,t;try{const n=this.msalInstance.getAllAccounts();if(n.length>0){const a=await this.msalInstance.acquireTokenSilent({...Hh,account:n[0]});t.headers.Authorization=`Bearer ${a.accessToken}`,localStorage.setItem("authToken",a.accessToken)}}catch(n){console.error("Failed to get token:",n)}return t}),this.axiosInstance.interceptors.response.use(t=>t,async t=>{if(t.response?.status===401){this.initialized||await this.initialize(),localStorage.removeItem("authToken"),localStorage.removeItem("userInfo");try{const r=this.msalInstance.getAllAccounts();if(r.length>0){const n=await this.msalInstance.acquireTokenSilent({...Hh,account:r[0]});localStorage.setItem("authToken",n.accessToken);try{const s=r[0].username,l=await this.axiosInstance.get(`https://auth.alerthawk.net/auth/api/user/${s}`,{headers:{Authorization:`Bearer ${n.accessToken}`}});localStorage.setItem("userInfo",JSON.stringify(l.data))}catch(s){console.error("Failed to fetch user info:",s)}const a=t.config;if(a)return a.headers.Authorization=`Bearer ${n.accessToken}`,this.axiosInstance(a)}else await this.msalInstance.loginRedirect(Hh)}catch(r){console.error("Failed to re-authenticate:",r),await this.msalInstance.loginRedirect(Hh)}}return Promise.reject(t)})}static async getMonitoringInstance(){return cr.monitoringInstance||(cr.monitoringInstance=new cr("https://monitoring.alerthawk.net/monitoring/"),await cr.monitoringInstance.initialize()),cr.monitoringInstance.axiosInstance}static async getAuthInstance(){return cr.authInstance||(cr.authInstance=new cr("https://auth.alerthawk.net/auth/"),await cr.authInstance.initialize()),cr.authInstance.axiosInstance}static async getNotificationInstance(){return cr.notificationInstance||(cr.notificationInstance=new cr("https://notification.alerthawk.net/notification/"),await cr.notificationInstance.initialize()),cr.notificationInstance.axiosInstance}static async getMetricsInstance(){return cr.metricsInstance||(cr.metricsInstance=new cr("https://metrics.alerthawk.net/metrics/"),await cr.metricsInstance.initialize()),cr.metricsInstance.axiosInstance}}let bt,Ta,hl,xn;(async()=>(bt=await cr.getMonitoringInstance(),Ta=await cr.getAuthInstance(),hl=await cr.getNotificationInstance(),xn=await cr.getMetricsInstance()))();var S2=(e=>(e[e.Europe=1]="Europe",e[e.Oceania=2]="Oceania",e[e.NorthAmerica=3]="NorthAmerica",e[e.SourthAmerica=4]="SourthAmerica",e[e.Africa=5]="Africa",e[e.Asia=6]="Asia",e[e.Custom=7]="Custom",e[e.Custom2=8]="Custom2",e[e.Custom3=9]="Custom3",e[e.Custom4=10]="Custom4",e[e.Custom5=11]="Custom5",e))(S2||{});class dd{static instance;static getInstance(){return dd.instance||(dd.instance=new dd),dd.instance}async getMonitorGroupList(){return(await bt.get("/api/MonitorGroup/monitorGroupList")).data}async getMonitorGroupListByUser(){return(await bt.get("/api/MonitorGroup/monitorGroupListByUser")).data}async getDashboardGroups(t){return(await bt.get(`/api/MonitorGroup/monitorDashboardGroupListByUser/${t}`)).data}async getMonitorAgents(){return(await bt.get("/api/Monitor/allMonitorAgents")).data}async getMonitorJsonBackup(){return(await bt.get("/api/monitor/getMonitorJsonBackup")).data}async getMonitorHistoryRetention(){return(await bt.get("/api/MonitorHistory/GetMonitorHistoryRetention")).data.historyDaysRetention}async setMonitorHistoryRetention(t){await bt.post("/api/MonitorHistory/SetMonitorHistoryRetention",{historyDaysRetention:t})}async clearAllStatistics(){return(await bt.delete("/api/MonitorHistory")).data}async uploadMonitorBackup(t){const r=new FormData;return r.append("file",t),(await bt.post("/api/monitor/uploadMonitorJsonBackup",r,{headers:{"Content-Type":"multipart/form-data"}})).data}async getMonitorAlerts(t,r=7){return(await bt.get(`/api/MonitorAlert/monitorAlerts/${t}/${r}`)).data}async addMonitorGroup(t){return(await bt.post("/api/monitorGroup/addMonitorGroup",{name:t})).data}async deleteMonitorGroup(t){return(await bt.delete(`/api/monitorGroup/deleteMonitorGroup/${t}`)).data}async updateMonitorGroup(t){return(await bt.post("/api/monitorGroup/updateMonitorGroup",{id:t.id,name:t.name})).data}async deleteMonitor(t){try{return await bt.delete(`/api/Monitor/deleteMonitor/${t}`),!0}catch(r){return console.error("Failed to delete monitor:",r),!1}}async toggleMonitorPause(t,r){try{return await bt.put(`/api/Monitor/pauseMonitor/${t}/${r}`),!0}catch(n){return console.error("Failed to toggle monitor pause:",n),!1}}async createMonitor(t){try{const r="monitorTypeId"in t&&t.monitorTypeId===3?"/api/Monitor/CreateMonitorTcp":"/api/Monitor/CreateMonitorHttp";return console.log("monitor:",t),await bt.post(r,t),!0}catch(r){return console.error("Failed to create monitor:",r),!1}}async updateMonitorHttp(t){try{return await bt.post("/api/Monitor/updateMonitorHttp",t),!0}catch(r){return console.error("Failed to update monitor:",r),!1}}async updateMonitorTcp(t){try{return await bt.post("/api/Monitor/updateMonitorTcp",t),!0}catch(r){return console.error("Failed to update TCP monitor:",r),!1}}async getMonitorTcpDetails(t){return(await bt.get(`/api/Monitor/getMonitorTcpByMonitorId/${t}`)).data}async getMonitorK8sDetails(t){return(await bt.get(`/api/Monitor/getMonitorK8sByMonitorId/${t}`)).data}async cloneMonitor(t){try{return await bt.post(`/api/Monitor/Clone/${t}`),!0}catch(r){return console.error("Failed to clone monitor:",r),!1}}async createMonitorK8s(t){await bt.post("/api/Monitor/createMonitorK8s",t)}async updateMonitorK8s(t){await bt.post("/api/Monitor/updateMonitorK8s",t)}async getMonitorHistory(t,r){const n=r>0;let a=r===1?10:50;r>1&&(a=Math.floor(r*10));let l=(await bt.get(`/api/MonitorHistory/MonitorHistoryByIdDays/${t}/${r}/${n}/${a}`)).data;if(l.length>500){const u=Math.ceil(l.length/150);l=l.filter((d,f)=>f%u===0)}return l}async getMonitorHttpDetails(t){try{return(await bt.get(`/api/Monitor/getMonitorHttpByMonitorId/${t}`)).data}catch(r){throw console.error("Failed to fetch HTTP monitor details:",r),r}}async getMonitorSecurityHeaders(t){try{return(await bt.get(`/api/MonitorHistory/GetMonitorSecurityHeaders/${t}`)).data}catch(r){throw console.error("Failed to fetch security headers:",r),r}}async getMonitorExecutionStatus(){return(await bt.get("/api/monitor/getMonitorExecutionStatus")).data}async setMonitorExecutionDisabled(t){await bt.put(`/api/monitor/setMonitorExecutionDisabled/${t}`)}async getMaintenanceWindow(){return(await bt.get("/api/monitor/getMaintenanceWindow")).data}async setMaintenanceWindow(t,r){return(await bt.put("/api/monitor/setMaintenanceWindow",{startUtc:t?new Date(t).toISOString():null,endUtc:r?new Date(r).toISOString():null})).data}}const He=dd.getInstance(),Fw=()=>{try{const e=localStorage.getItem("selectedEnvironment");return e?parseInt(e,10):6}catch{return 6}},pse=e=>{switch(e){case 1:return{name:"DEV",bgColor:"bg-blue-500/20 dark:bg-blue-600/20",textColor:"text-blue-600 dark:text-blue-400",borderColor:"border-blue-500/30 dark:border-blue-400/30"};case 2:return{name:"STG",bgColor:"bg-yellow-500/20 dark:bg-yellow-600/20",textColor:"text-yellow-600 dark:text-yellow-400",borderColor:"border-yellow-500/30 dark:border-yellow-400/30"};case 3:return{name:"QA",bgColor:"bg-purple-500/20 dark:bg-purple-600/20",textColor:"text-purple-600 dark:text-purple-400",borderColor:"border-purple-500/30 dark:border-purple-400/30"};case 4:return{name:"TEST",bgColor:"bg-orange-500/20 dark:bg-orange-600/20",textColor:"text-orange-600 dark:text-orange-400",borderColor:"border-orange-500/30 dark:border-orange-400/30"};case 5:return{name:"PRE",bgColor:"bg-indigo-500/20 dark:bg-indigo-600/20",textColor:"text-indigo-600 dark:text-indigo-400",borderColor:"border-indigo-500/30 dark:border-indigo-400/30"};case 6:return{name:"PROD",bgColor:"bg-green-500/20 dark:bg-green-600/20",textColor:"text-green-600 dark:text-green-400",borderColor:"border-green-500/30 dark:border-green-400/30"};default:return{name:"UNK",bgColor:"bg-gray-500/20 dark:bg-gray-600/20",textColor:"text-gray-600 dark:text-gray-400",borderColor:"border-gray-500/30 dark:border-gray-400/30"}}};function yse({theme:e,onThemeChange:t}){const{accounts:r,instance:n}=qx(),[a,s]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(null),[y,b]=x.useState({online:0,offline:0,paused:0}),[v,S]=x.useState(!0),[k,N]=x.useState(Fw()),[E,_]=x.useState(!1),O=x.useRef(null),j=x.useRef(null),A=(()=>{const $=localStorage.getItem("userInfo");return $?JSON.parse($):null})(),R=A?.username||r[0]?.name||"User",U=A?.email||r[0]?.username||"";x.useEffect(()=>{let $=Fw();N($);const Y=setInterval(()=>{const le=Fw();le!==$&&($=le,N(le))},100);return()=>clearInterval(Y)},[]),x.useEffect(()=>{async function $(){try{S(!0);const te=(await He.getDashboardGroups(k)).reduce((D,M)=>(M.monitors.forEach(L=>{L.paused?D.paused++:L.status?D.online++:D.offline++}),D),{online:0,offline:0,paused:0});b(te)}catch(q){console.error("Failed to fetch monitor status:",q)}finally{S(!1)}}async function z(){try{const q=await He.getMonitorExecutionStatus();_(q.isDisabled)}catch(q){console.error("Failed to fetch monitor execution status:",q)}}$(),z();const Y=()=>{z()},le=()=>{z()};window.addEventListener("maintenanceWindowUpdated",Y),window.addEventListener("monitorExecutionStatusUpdated",le);const H=setInterval($,3e4),ee=setInterval(z,3e4);return()=>{clearInterval(H),clearInterval(ee),window.removeEventListener("maintenanceWindowUpdated",Y),window.removeEventListener("monitorExecutionStatusUpdated",le)}},[k]);const V=async()=>{const $=r.length>0;localStorage.removeItem("authToken"),localStorage.removeItem("userInfo"),$?await n.logoutRedirect():window.location.href="/login"};x.useEffect(()=>{async function $(){const z=await Une.getUserPhoto();g(z)}$()},[]),x.useEffect(()=>{function $(z){O.current&&!O.current.contains(z.target)&&s(!1),j.current&&!j.current.contains(z.target)&&u(!1)}return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const W=()=>i.jsx(Vg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),G=[{value:"light",label:"Light",icon:i.jsx(xne,{className:"w-4 h-4"})},{value:"dark",label:"Dark",icon:i.jsx(Wre,{className:"w-4 h-4"})},{value:"darcula",label:"Darcula",icon:i.jsx(Vg,{className:"w-4 h-4"})},{value:"monokai",label:"Monokai",icon:i.jsx(Vg,{className:"w-4 h-4"})},{value:"github-dark",label:"GitHub Dark",icon:i.jsx(Vg,{className:"w-4 h-4"})}];return i.jsxs("div",{className:`h-16 px-6 py-2 border-b dark:border-gray-800/50 border-gray-200/50 flex items-center justify-between
                    dark:bg-gray-900/95 bg-white/95 backdrop-blur-sm transition-colors duration-200
                    shadow-sm dark:shadow-gray-900/20 relative z-[9999]`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"relative",children:i.jsx("img",{src:"../assets/logo.png",alt:"AlertHawk Logo",className:"w-9 h-9 object-contain drop-shadow-sm"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-400 dark:to-blue-300 bg-clip-text text-transparent",children:"AlertHawk"}),(()=>{const $=pse(k);return i.jsx("div",{className:`px-2.5 py-1 rounded-lg text-xs font-bold border ${$.bgColor} ${$.textColor} ${$.borderColor} shadow-sm`,children:$.name})})()]})]}),i.jsx("div",{className:"flex items-center gap-3",children:v?i.jsx(Je,{size:"sm",text:"Loading status..."}):E?i.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-1.5 rounded-lg bg-gradient-to-r from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/30 border border-yellow-200/50 dark:border-yellow-800/50 shadow-sm backdrop-blur-sm",children:[i.jsx("div",{className:"p-1.5 rounded-md bg-yellow-100 dark:bg-yellow-900/50",children:i.jsx(Vt,{className:"w-3.5 h-3.5 text-yellow-600 dark:text-yellow-400"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-semibold text-yellow-700 dark:text-yellow-300 leading-tight",children:"Monitor Execution Disabled"}),i.jsx("span",{className:"text-[10px] text-yellow-600/80 dark:text-yellow-400/80 leading-tight",children:"All monitors are paused for maintenance"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2.5 px-3.5 py-1.5 rounded-lg bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200/50 dark:border-green-800/30 shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-1.5 rounded-md bg-green-100 dark:bg-green-900/40",children:i.jsx(wr,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-lg font-bold text-green-600 dark:text-green-400 leading-tight",children:y.online}),i.jsx("span",{className:"text-[10px] font-medium text-green-700/70 dark:text-green-300/70 leading-tight",children:"Online"})]})]}),i.jsxs("div",{className:"flex items-center gap-2.5 px-3.5 py-1.5 rounded-lg bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border border-red-200/50 dark:border-red-800/30 shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-1.5 rounded-md bg-red-100 dark:bg-red-900/40",children:i.jsx(wr,{className:"w-3.5 h-3.5 text-red-600 dark:text-red-400"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-lg font-bold text-red-600 dark:text-red-400 leading-tight",children:y.offline}),i.jsx("span",{className:"text-[10px] font-medium text-red-700/70 dark:text-red-300/70 leading-tight",children:"Offline"})]})]}),i.jsxs("div",{className:"flex items-center gap-2.5 px-3.5 py-1.5 rounded-lg bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-800/30 dark:to-slate-800/30 border border-gray-200/50 dark:border-gray-700/30 shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 dark:bg-gray-800/50",children:i.jsx(wr,{className:"w-3.5 h-3.5 text-gray-500 dark:text-gray-400"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 leading-tight",children:y.paused}),i.jsx("span",{className:"text-[10px] font-medium text-gray-600/70 dark:text-gray-400/70 leading-tight",children:"Paused"})]})]})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{ref:j,className:"relative z-[10000]",children:[i.jsx("button",{onClick:()=>u(!l),className:"p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all duration-200 hover:scale-105 active:scale-95",title:"Select theme",children:W()}),l&&i.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 py-2 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md rounded-xl shadow-xl border dark:border-gray-800/50 border-gray-200/50 z-[10000] animate-in fade-in slide-in-from-top-2 duration-200",children:G.map($=>i.jsxs("button",{onClick:()=>{t($.value),u(!1)},className:`w-full px-4 py-2.5 text-left text-sm flex items-center gap-3 transition-all duration-150 ${e===$.value?"bg-gradient-to-r from-blue-50 to-blue-100/50 dark:from-blue-900/30 dark:to-blue-800/20 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,children:[$.icon,i.jsx("span",{className:"flex-1",children:$.label}),e===$.value&&i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:""})]},$.value))})]}),i.jsxs("div",{ref:O,className:"relative z-[10000]",children:[i.jsxs("button",{onClick:()=>s(!a),className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800/50 transition-all duration-200 hover:scale-105 active:scale-95 border border-transparent hover:border-gray-200 dark:hover:border-gray-700",children:[i.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 flex items-center justify-center text-white overflow-hidden shadow-md ring-2 ring-blue-100 dark:ring-blue-900/50",children:m?i.jsx("img",{src:m,alt:R,className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-sm font-semibold",children:R.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"text-left hidden sm:block",children:[i.jsx("div",{className:"text-sm font-semibold dark:text-white text-gray-900",children:R}),i.jsx("div",{className:"text-xs dark:text-gray-400 text-gray-600",children:U})]})]}),a&&i.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 py-2 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md rounded-xl shadow-xl border dark:border-gray-800/50 border-gray-200/50 z-[10000] animate-in fade-in slide-in-from-top-2 duration-200 overflow-hidden",children:[A?.isAdmin&&i.jsx("div",{className:"px-4 py-2 mb-1 text-xs font-semibold text-blue-600 dark:text-blue-400 bg-gradient-to-r from-blue-50 to-blue-100/50 dark:from-blue-900/30 dark:to-blue-800/20 border-b dark:border-gray-800/50 border-gray-200/50",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pi,{className:"w-3.5 h-3.5"}),"Administrator"]})}),i.jsxs("button",{onClick:()=>{f(!0),s(!1)},className:"w-full px-4 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800/50 flex items-center gap-3 transition-colors duration-150",children:[i.jsx(gE,{className:"w-4 h-4"}),"What's New"]}),i.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-800/50 my-1"}),i.jsxs("button",{onClick:V,className:"w-full px-4 py-2.5 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors duration-150",children:[i.jsx(Lre,{className:"w-4 h-4"}),"Sign Out"]})]})]})]}),d&&i.jsx(Bne,{onClose:()=>f(!1)})]})}function xse({children:e,theme:t,onThemeChange:r}){const[n,a]=Kt.useState(()=>{const s=localStorage.getItem("sidebarCollapsed");return s!==null?JSON.parse(s):!1});return i.jsxs("div",{className:"flex h-screen dark:bg-gray-900 bg-gray-50",children:[i.jsx(Rne,{isCollapsed:n,toggleSidebar:()=>a(!n),currentPage:"",onNavigate:()=>{}}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(yse,{theme:t,onThemeChange:r}),i.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}let bse={data:""},vse=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||bse,wse=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kse=/\/\*[^]*?\*\/|  +/g,$6=/\n+/g,ml=(e,t)=>{let r="",n="",a="";for(let s in e){let l=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+l+";":n+=s[1]=="f"?ml(l,s):s+"{"+ml(l,s[1]=="k"?"":t)+"}":typeof l=="object"?n+=ml(l,t?t.replace(/([^,])+/g,u=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ml.p?ml.p(s,l):s+":"+l+";")}return r+(t&&a?t+"{"+a+"}":a)+n},qi={},hL=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+hL(e[r]);return t}return e},Sse=(e,t,r,n,a)=>{let s=hL(e),l=qi[s]||(qi[s]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(s));if(!qi[l]){let d=s!==e?e:(f=>{let m,g,y=[{}];for(;m=wse.exec(f.replace(kse,""));)m[4]?y.shift():m[3]?(g=m[3].replace($6," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][m[1]]=m[2].replace($6," ").trim();return y[0]})(e);qi[l]=ml(a?{["@keyframes "+l]:d}:d,r?"":"."+l)}let u=r&&qi.g?qi.g:null;return r&&(qi.g=qi[l]),((d,f,m,g)=>{g?f.data=f.data.replace(g,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(qi[l],t,n,u),l},Cse=(e,t,r)=>e.reduce((n,a,s)=>{let l=t[s];if(l&&l.call){let u=l(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":ml(u,""):u===!1?"":u}return n+a+(l??"")},"");function rb(e){let t=this||{},r=e.call?e(t.p):e;return Sse(r.unshift?r.raw?Cse(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,vse(t.target),t.g,t.o,t.k)}let mL,C2,N2;rb.bind({g:1});let co=rb.bind({k:1});function Nse(e,t,r,n){ml.p=t,mL=e,C2=r,N2=n}function Ll(e,t){let r=this||{};return function(){let n=arguments;function a(s,l){let u=Object.assign({},s),d=u.className||a.className;r.p=Object.assign({theme:C2&&C2()},u),r.o=/ *go\d+/.test(d),u.className=rb.apply(r,n)+(d?" "+d:"");let f=e;return e[0]&&(f=u.as||e,delete u.as),N2&&f[0]&&N2(u),mL(f,u)}return a}}var Ese=e=>typeof e=="function",wy=(e,t)=>Ese(e)?e(t):e,_se=(()=>{let e=0;return()=>(++e).toString()})(),gL=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jse=20,CE="default",pL=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return pL(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+s}))}}},Lp=[],yL={toasts:[],pausedAt:void 0,settings:{toastLimit:jse}},oi={},xL=(e,t=CE)=>{oi[t]=pL(oi[t]||yL,e),Lp.forEach(([r,n])=>{r===t&&n(oi[t])})},bL=e=>Object.keys(oi).forEach(t=>xL(e,t)),Ase=e=>Object.keys(oi).find(t=>oi[t].toasts.some(r=>r.id===e)),nb=(e=CE)=>t=>{xL(t,e)},Tse={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ise=(e={},t=CE)=>{let[r,n]=x.useState(oi[t]||yL),a=x.useRef(oi[t]);x.useEffect(()=>(a.current!==oi[t]&&n(oi[t]),Lp.push([t,n]),()=>{let l=Lp.findIndex(([u])=>u===t);l>-1&&Lp.splice(l,1)}),[t]);let s=r.toasts.map(l=>{var u,d,f;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((u=e[l.type])==null?void 0:u.removeDelay)||e?.removeDelay,duration:l.duration||((d=e[l.type])==null?void 0:d.duration)||e?.duration||Tse[l.type],style:{...e.style,...(f=e[l.type])==null?void 0:f.style,...l.style}}});return{...r,toasts:s}},Ose=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:r?.id||_se()}),H0=e=>(t,r)=>{let n=Ose(t,e,r);return nb(n.toasterId||Ase(n.id))({type:2,toast:n}),n.id},xe=(e,t)=>H0("blank")(e,t);xe.error=H0("error");xe.success=H0("success");xe.loading=H0("loading");xe.custom=H0("custom");xe.dismiss=(e,t)=>{let r={type:3,toastId:e};t?nb(t)(r):bL(r)};xe.dismissAll=e=>xe.dismiss(void 0,e);xe.remove=(e,t)=>{let r={type:4,toastId:e};t?nb(t)(r):bL(r)};xe.removeAll=e=>xe.remove(void 0,e);xe.promise=(e,t,r)=>{let n=xe.loading(t.loading,{...r,...r?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?wy(t.success,a):void 0;return s?xe.success(s,{id:n,...r,...r?.success}):xe.dismiss(n),a}).catch(a=>{let s=t.error?wy(t.error,a):void 0;s?xe.error(s,{id:n,...r,...r?.error}):xe.dismiss(n)}),e};var Mse=1e3,Rse=(e,t="default")=>{let{toasts:r,pausedAt:n}=Ise(e,t),a=x.useRef(new Map).current,s=x.useCallback((g,y=Mse)=>{if(a.has(g))return;let b=setTimeout(()=>{a.delete(g),l({type:4,toastId:g})},y);a.set(g,b)},[]);x.useEffect(()=>{if(n)return;let g=Date.now(),y=r.map(b=>{if(b.duration===1/0)return;let v=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(v<0){b.visible&&xe.dismiss(b.id);return}return setTimeout(()=>xe.dismiss(b.id,t),v)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[r,n,t]);let l=x.useCallback(nb(t),[t]),u=x.useCallback(()=>{l({type:5,time:Date.now()})},[l]),d=x.useCallback((g,y)=>{l({type:1,toast:{id:g,height:y}})},[l]),f=x.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),m=x.useCallback((g,y)=>{let{reverseOrder:b=!1,gutter:v=8,defaultPosition:S}=y||{},k=r.filter(_=>(_.position||S)===(g.position||S)&&_.height),N=k.findIndex(_=>_.id===g.id),E=k.filter((_,O)=>O<N&&_.visible).length;return k.filter(_=>_.visible).slice(...b?[E+1]:[0,E]).reduce((_,O)=>_+(O.height||0)+v,0)},[r]);return x.useEffect(()=>{r.forEach(g=>{if(g.dismissed)s(g.id,g.removeDelay);else{let y=a.get(g.id);y&&(clearTimeout(y),a.delete(g.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:d,startPause:u,endPause:f,calculateOffset:m}}},Dse=co`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pse=co`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lse=co`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Use=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dse} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pse} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Lse} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Fse=co`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bse=Ll("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Fse} 1s linear infinite;
`,zse=co`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$se=co`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hse=Ll("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zse} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$se} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qse=Ll("div")`
  position: absolute;
`,Kse=Ll("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gse=co`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wse=Ll("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gse} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vse=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(Wse,null,t):t:r==="blank"?null:x.createElement(Kse,null,x.createElement(Bse,{...n}),r!=="loading"&&x.createElement(qse,null,r==="error"?x.createElement(Use,{...n}):x.createElement(Hse,{...n})))},Yse=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Xse=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Jse="0%{opacity:0;} 100%{opacity:1;}",Qse="0%{opacity:1;} 100%{opacity:0;}",Zse=Ll("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eie=Ll("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tie=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=gL()?[Jse,Qse]:[Yse(r),Xse(r)];return{animation:t?`${co(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${co(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rie=x.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?tie(e.position||t||"top-center",e.visible):{opacity:0},s=x.createElement(Vse,{toast:e}),l=x.createElement(eie,{...e.ariaProps},wy(e.message,e));return x.createElement(Zse,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:l}):x.createElement(x.Fragment,null,s,l))});Nse(x.createElement);var nie=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=x.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(e,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:s,className:t,style:r},a)},aie=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},sie=rb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xg=16,iie=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:s,containerStyle:l,containerClassName:u})=>{let{toasts:d,handlers:f}=Rse(r,s);return x.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Xg,left:Xg,right:Xg,bottom:Xg,pointerEvents:"none",...l},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let g=m.position||t,y=f.calculateOffset(m,{reverseOrder:e,gutter:n,defaultPosition:t}),b=aie(g,y);return x.createElement(nie,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?sie:"",style:b},m.type==="custom"?wy(m.message,m):a?a(m):x.createElement(rie,{toast:m,position:g}))}))},E2=(e=>(e[e.Development=1]="Development",e[e.Staging=2]="Staging",e[e.QA=3]="QA",e[e.Testing=4]="Testing",e[e.PreProd=5]="PreProd",e[e.Production=6]="Production",e))(E2||{});const H6=[{id:"http",label:"HTTP(S)",icon:cs},{id:"tcp",label:"TCP",icon:Kc},{id:"k8s",label:"Kubernetes",icon:vr}];function _2({onClose:e,onAdd:t,onUpdate:r,existingMonitor:n,isEditing:a}){const[s,l]=x.useState(0),[u,d]=x.useState(n?.monitorTypeId===3?"tcp":n?.monitorTypeId===4?"k8s":"http"),[f,m]=x.useState(""),[g,y]=x.useState(!1),[b,v]=x.useState(n?.name||""),[S,k]=x.useState(n?.monitorTypeId===3?n.monitorTcp?.IP??"":n?.urlToCheck??""),[N,E]=x.useState(n?.monitorTypeId===3?n.monitorTcp?.port?.toString()??"":""),[_,O]=x.useState(n?.heartBeatInterval?.toString()||"1"),[j,A]=x.useState(n?.retries?.toString()||"3"),[R,U]=x.useState(!1),[V,W]=x.useState(!1),[G,$]=x.useState(n?.monitorEnvironment||6),[z,Y]=x.useState(n?.checkCertExpiry??!0),[le,H]=x.useState(n&&"ignoreTlsSsl"in n?n.ignoreTlsSsl:!1),[ee,q]=x.useState(n&&"checkMonitorHttpHeaders"in n?n.checkMonitorHttpHeaders:!1),[te,D]=x.useState("GET"),[M,L]=x.useState(n?.maxRedirects?.toString()??"3"),[J,se]=x.useState(n?.timeout?.toString()??"30"),[je,Re]=x.useState(n?.httpResponseCodeFrom?.toString()??"200"),[Le,Ce]=x.useState(n?.httpResponseCodeTo?.toString()??"299"),[Q,Ee]=x.useState(n?.body||""),[we,ae]=x.useState([]),[nt,De]=x.useState(!0),[Ve,Ze]=x.useState(()=>a&&n&&(n.monitorGroup||n.monitorK8s?.monitorGroup||n.monitorK8s?.MonitorGroup||n?.MonitorGroup||n?.monitorGroup)||0),[ce,Ae]=x.useState([]),[Z,me]=x.useState(n?.monitorRegion||0),[Pe,Te]=x.useState([]),[Ye,Be]=x.useState(!1),[Zt,Sn]=x.useState(""),[dn,ir]=x.useState(""),[I,F]=x.useState(n?.monitorK8s?.clusterName||""),[B,ne]=x.useState(null),[ve]=x.useState(n?.monitorK8s?.kubeConfig||""),fe=x.useMemo(()=>[...we].sort((pe,et)=>pe.name.localeCompare(et.name)),[we]),Ne=we.length===0&&!a,_e=()=>{const pe=u==="http"?6:5;return Ne?pe+1:pe},Ie=pe=>{switch(pe){case 0:return f.trim()!=="";case 1:return!0;case 2:return b.trim()!==""&&Ve>0&&Z>0;case 3:if(u==="http"||u==="tcp")return S.trim()!==""&&(u==="http"||N.trim()!=="");if(u==="k8s"){const Ct=!!(B!==null||ve&&ve!==""||a);return!!(I.trim()!==""&&Ct)}return!1;case 4:return u==="http"?!0:_.trim()!==""&&j.trim()!==""&&J.trim()!=="";case 5:return u==="http"?_.trim()!==""&&j.trim()!==""&&J.trim()!=="":!0;case 6:return!0;default:return!1}},it=async()=>{if(!f.trim()){xe.error("Group name cannot be empty",{position:"bottom-right"});return}y(!0);try{const pe=await He.addMonitorGroup(f.trim()),et=await He.getMonitorGroupListByUser();ae(et),pe&&pe.id?Ze(pe.id):et.length>0&&Ze(et[0].id),xe.success("Group created successfully",{position:"bottom-right"}),l(1),m("")}catch(pe){console.error("Failed to create group:",pe),xe.error("Failed to create group. Please try again.",{position:"bottom-right"})}finally{y(!1)}},fr=()=>Ie(s),Cn=()=>Ne?s>0:s>1,Xs=async()=>{if(!fr())return;if(s===0&&Ne){await it();return}const pe=Ne?_e()-1:u==="http"?6:5;s<pe&&l(s+1)},Ni=()=>{Cn()&&l(s-1)};x.useEffect(()=>{!a&&s>1&&l(1)},[u,a]),x.useEffect(()=>{W(!1)},[s]),x.useEffect(()=>{a&&s===0&&l(1)},[a,s]),x.useEffect(()=>{(async()=>{De(!0);try{const et=await He.getMonitorGroupListByUser();if(ae(et),a){if(n){const Ct=n.monitorGroup||n.monitorK8s?.monitorGroup||n.monitorK8s?.MonitorGroup||n?.MonitorGroup||n?.monitorGroup;Ct&&Ze(Ct)}l(1)}else et.length>0?(Ze(et[0].id),l(1)):l(0)}catch(et){console.error("Failed to fetch monitor groups:",et),l(a?1:0)}finally{De(!1)}})()},[n,a]),x.useEffect(()=>{(async()=>{if(a&&n?.monitorTypeId===4)try{const et=await He.getMonitorK8sDetails(n.id),Ct=et.monitorGroup||et.MonitorGroup||et.MonitorGroup;Ct&&Ct>0?(Ze(Ct),console.log("Found monitorGroup from K8s details API:",Ct,"Full k8sDetails:",et)):console.warn("monitorGroup not found in K8s details or is 0:",et)}catch(et){console.error("Failed to fetch K8s details for group:",et)}})()},[a,n]),x.useEffect(()=>{a&&Ve>0&&we.length>0&&(we.find(et=>et.id===Ve)||console.warn(`Group with ID ${Ve} not found in groups list. Available groups:`,we.map(et=>({id:et.id,name:et.name}))))},[a,Ve,we]),x.useEffect(()=>{(async()=>{try{const et=await He.getMonitorAgents(),Ct=[...new Set(et.map(Ka=>Ka.monitorRegion))];Ae(Ct),n?.monitorRegion?me(n.monitorRegion):Ct.length>0&&me(Ct[0])}catch(et){console.error("Failed to fetch regions:",et)}})()},[n]),x.useEffect(()=>{te==="GET"&&Ee("")},[te]);function Cs(pe){if(pe&&"monitorHttpMethod"in pe&&typeof pe.monitorHttpMethod<"u")return pe.monitorHttpMethod}x.useEffect(()=>{if(n&&(n.monitorTypeId===1||n.monitorTypeId===void 0)){const pe=Cs(n);pe===2?D("POST"):pe===3?D("PUT"):pe===1&&D("GET")}},[n]),x.useEffect(()=>{n&&n?.httpResponseCodeFrom!==void 0&&Re(n.httpResponseCodeFrom.toString()),n&&n?.httpResponseCodeTo!==void 0&&Ce(n.httpResponseCodeTo.toString()),n&&n?.body!==void 0&&Ee(n.body),n&&n?.checkMonitorHttpHeaders!==void 0&&q(n.checkMonitorHttpHeaders)},[n]);const To=async pe=>{pe.preventDefault(),U(!0);try{const et={name:b,monitorGroup:Ve,monitorRegion:Z,monitorEnvironment:G,heartBeatInterval:parseInt(_),retries:parseInt(j),status:!0};if(u==="k8s"){let Ct="";if(B){const _m=await B.text();Ct=btoa(_m)}else if(ve&&!a)Ct=ve;else if(!a)throw new Error("KubeConfig file is required for new monitors");const Ka={Id:n?.id||0,MonitorId:n?.id||0,MonitorTypeId:4,MonitorType:{Id:4,Name:"Kubernetes"},Name:b,HeartBeatInterval:parseInt(_),Retries:parseInt(j),Status:!0,DaysToExpireCert:30,Paused:!1,UrlToCheck:"",CheckCertExpiry:!1,MonitorGroup:Ve,MonitorRegion:Z,ClusterName:I,KubeConfig:Ct||"",LastStatus:!0,MonitorEnvironment:G,Base64Content:Ct||""};a&&r?await He.updateMonitorK8s(Ka):(await He.createMonitorK8s(Ka),t&&await t(Ka))}else if(u==="tcp"){const Ct={...et,monitorId:n?.id||0,id:n?.id||0,port:parseInt(N),ip:S,timeout:parseInt(J),ignoreTlsSsl:le,checkCertExpiry:!1,daysToExpireCert:0,paused:!1,part:0,monitorTypeId:3,lastStatus:!0};a&&r?await r(Ct):await t(Ct)}else{const Ct={...et,monitorId:n?.id||0,id:n?.id||0,urlToCheck:S,ignoreTlsSsl:le,maxRedirects:parseInt(M),timeout:parseInt(J),monitorHttpMethod:te==="POST"?2:te==="PUT"?3:1,body:Q,checkCertExpiry:z,checkMonitorHttpHeaders:ee,daysToExpireCert:0,paused:!1,responseStatusCode:200,responseTime:0,lastStatus:!0,monitorTypeId:1,HttpResponseCodeFrom:parseInt(je),HttpResponseCodeTo:parseInt(Le)};a&&r?await r(Ct):await t(Ct)}e()}catch(et){console.error("Failed to submit monitor:",et)}finally{U(!1),W(!1)}},Gl=()=>{switch(s){case 0:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Create Monitor Group"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"You need to create a monitor group before adding monitors. Groups help you organize and manage your monitors."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:f,onChange:pe=>m(pe.target.value),placeholder:"e.g., Production, Development, Testing",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0,onKeyDown:pe=>{pe.key==="Enter"&&f.trim()&&!g&&it()}}),i.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"This group will be automatically selected for your new monitor."})]})]});case 1:return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Select Monitor Type"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Choose the type of monitor you want to create"})]}),i.jsx("div",{className:"flex gap-4",children:H6.map(pe=>i.jsxs("button",{type:"button",onClick:()=>d(pe.id),disabled:a,className:`flex-1 px-6 py-8 rounded-lg border-2 transition-all duration-200 
                            flex flex-col items-center justify-center gap-3 relative
                            ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                            ${u===pe.id?"border-blue-500 dark:bg-blue-900/20 bg-blue-50 shadow-lg scale-105":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[i.jsx(pe.icon,{className:`w-12 h-12 ${u===pe.id?"text-blue-500":"text-gray-500 dark:text-gray-400"}`}),i.jsx("span",{className:`font-semibold text-lg ${u===pe.id?"text-blue-500":"text-gray-700 dark:text-gray-300"}`,children:pe.label}),u===pe.id&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(hi,{className:"w-5 h-5 text-blue-500"})})]},pe.id))})]});case 2:return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Basic Information"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Provide the basic details for your monitor"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Monitor Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:b,onChange:pe=>v(pe.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0,placeholder:"e.g., Production API"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),a?i.jsx("div",{className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white bg-gray-100 dark:bg-gray-800 cursor-not-allowed`,children:nt?i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."}):fe.find(pe=>pe.id===Ve)?.name||(Ve>0?`Group ID: ${Ve}`:"Unknown Group")}):i.jsx(As,{value:Ve,onValueChange:pe=>Ze(Number(pe)),children:fe.map(pe=>i.jsx(As.Item,{value:pe.id.toString(),children:pe.name},pe.id))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Region ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(As,{value:Z.toString(),onValueChange:pe=>me(Number(pe)),children:ce.map(pe=>i.jsx(As.Item,{value:pe.toString(),children:S2[pe]||`Region ${pe}`},pe))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Environment ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(As,{value:G,onValueChange:pe=>$(Number(pe)),children:Object.entries(E2).filter(([pe])=>isNaN(Number(pe))).map(([pe,et])=>i.jsx(As.Item,{value:et.toString(),children:pe},et))})]})]});case 3:return u==="http"||u==="tcp"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Connection Details"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["Configure the connection settings for your ",u==="http"?"HTTP(S)":"TCP"," monitor"]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:[u==="http"?"URL":"IP Address"," ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:S,onChange:pe=>k(pe.target.value),placeholder:u==="http"?"https://example.com":"192.168.1.1 or hostname",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),u==="tcp"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Port ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:N,onChange:pe=>E(pe.target.value),placeholder:"e.g., 80, 443, 3306",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]})]}):u==="k8s"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Kubernetes Configuration"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Provide your Kubernetes cluster details"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Cluster Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:I,onChange:pe=>F(pe.target.value),placeholder:"e.g., production-cluster",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["KubeConfig File ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"file",accept:".yaml,.yml",onChange:pe=>ne(pe.target.files?.[0]||null),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 
                             file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold
                             file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100
                             dark:file:bg-blue-900/20 dark:file:text-blue-400`,required:!a}),B&&i.jsx("button",{type:"button",onClick:()=>ne(null),className:`p-2 text-gray-500 hover:text-red-500 dark:text-gray-400 
                               dark:hover:text-red-400 transition-colors`,title:"Remove file",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Upload your kubeconfig YAML file"})]})]}):null;case 4:return u==="http"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"HTTP Advanced Settings"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure advanced HTTP monitoring options"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"HTTP Method"}),i.jsxs(As,{value:te,onValueChange:pe=>D(pe),children:[i.jsx(As.Item,{value:"GET",children:"GET"}),i.jsx(As.Item,{value:"POST",children:"POST"}),i.jsx(As.Item,{value:"PUT",children:"PUT"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Max Redirects"}),i.jsx("input",{type:"number",value:M,onChange:pe=>L(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-2",children:"Expected HTTP Response Code Range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"From"}),i.jsx("input",{type:"number",value:je,onChange:pe=>Re(pe.target.value),min:"100",max:"599",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                               dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"To"}),i.jsx("input",{type:"number",value:Le,onChange:pe=>Ce(pe.target.value),min:"100",max:"599",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                               dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]})]}),i.jsx("p",{className:"mt-1 text-xs dark:text-gray-400 text-gray-600",children:"The monitor will consider the HTTP request successful if the response code falls within this range"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["HTTP Body ",te==="GET"&&"(GET methods do not support body)"]}),i.jsx(Dne,{value:Q,onChange:pe=>Ee(pe.target.value),rows:6,placeholder:"Enter request body (JSON, form data, etc.)",className:`font-mono text-sm w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                            dark:border-gray-600 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,disabled:te==="GET",readOnly:!1})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Headers"}),i.jsxs("button",{type:"button",onClick:()=>Be(!0),className:`px-3 py-1 text-sm bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                             flex items-center gap-2 transition-colors duration-200`,children:[i.jsx(Gc,{className:"w-4 h-4"}),"Add Header"]})]}),Pe.length>0&&i.jsx("div",{className:"space-y-2",children:Pe.map((pe,et)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg dark:bg-gray-700/50 bg-gray-50",children:[i.jsxs("span",{className:"flex-1 font-mono text-sm",children:[pe.name,": ",pe.value]}),i.jsx("button",{type:"button",onClick:()=>Te(Pe.filter((Ct,Ka)=>Ka!==et)),className:"p-1 hover:bg-gray-600 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-4 h-4"})})]},et))}),Ye&&i.jsxs("div",{className:"p-3 border dark:border-gray-700 rounded-lg space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Header Name"}),i.jsx("input",{type:"text",value:Zt,onChange:pe=>Sn(pe.target.value),placeholder:"Content-Type",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                                 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Header Value"}),i.jsx("input",{type:"text",value:dn,onChange:pe=>ir(pe.target.value),placeholder:"application/json",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                                 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>{Be(!1),Sn(""),ir("")},className:`px-3 py-1 text-sm dark:bg-gray-700 bg-gray-100
                                 dark:text-white text-gray-900 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{type:"button",onClick:()=>{Zt&&dn&&(Te([...Pe,{name:Zt,value:dn}]),Sn(""),ir(""),Be(!1))},className:`px-3 py-1 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600
                                 disabled:opacity-50 disabled:cursor-not-allowed`,disabled:!Zt||!dn,children:"Add"})]})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Check Cert Expiry"}),i.jsx(ii,{checked:z,onCheckedChange:pe=>Y(pe)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Ignore TLS"}),i.jsx(ii,{checked:le,onCheckedChange:pe=>H(pe)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Check Security Headers"}),i.jsx(ii,{checked:ee,onCheckedChange:pe=>q(pe)})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Monitoring Settings"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure how often and how the monitor should check"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Check Interval (minutes) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:_,onChange:pe=>O(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Retries before alert ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:j,onChange:pe=>A(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Timeout (seconds) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:J,onChange:pe=>se(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),u==="tcp"&&i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t dark:border-gray-700",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300",children:"Ignore TLS"}),i.jsx(ii,{checked:le,onCheckedChange:pe=>H(pe)})]})]});case 5:return u==="http"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Monitoring Settings"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure how often and how the monitor should check"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Check Interval (minutes) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:_,onChange:pe=>O(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Retries before alert ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:j,onChange:pe=>A(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:["Timeout (seconds) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",value:J,onChange:pe=>se(pe.target.value),min:"1",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,required:!0})]})]}):Nm();case 6:return Nm();default:return null}},Nm=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-2",children:"Review & Confirm"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Please review your monitor configuration before creating it"})]}),i.jsx("div",{className:"space-y-4 bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Monitor Type:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:H6.find(pe=>pe.id===u)?.label})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Name:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:b})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Group:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:fe.find(pe=>pe.id===Ve)?.name||(Ve>0?`Group ID: ${Ve}`:"Unknown")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Region:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:S2[Z]||`Region ${Z}`})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Environment:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:E2[G]})]}),u==="http"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"URL:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900 break-all",children:S})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"HTTP Method:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:te})]})]}),u==="tcp"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"IP:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:S})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Port:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:N})]})]}),u==="k8s"&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Cluster Name:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:I})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Check Interval:"}),i.jsxs("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:[_," minutes"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Retries:"}),i.jsx("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:j})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Timeout:"}),i.jsxs("p",{className:"text-sm font-semibold dark:text-white text-gray-900",children:[J," seconds"]})]})]})})]}),Em=()=>Ne?{0:"Create Monitor Group",1:"Select Monitor Type",2:"Basic Information",3:u==="k8s"?"Kubernetes Configuration":"Connection Details",4:u==="http"?"Advanced Settings":"Monitoring Settings",5:u==="http"?"Monitoring Settings":"Review & Confirm",6:"Review & Confirm"}[s]||"Step":{1:"Select Monitor Type",2:"Basic Information",3:u==="k8s"?"Kubernetes Configuration":"Connection Details",4:u==="http"?"Advanced Settings":"Monitoring Settings",5:u==="http"?"Monitoring Settings":"Review & Confirm",6:"Review & Confirm"}[s]||"Step";return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg flex flex-col",children:[i.jsxs("div",{className:"flex-none flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white",children:a?"Edit Monitor":"Add New Monitor"}),!nt&&i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Step ",Ne?s+1:s," of ",_e(),": ",Em()]})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-5 h-5 dark:text-gray-400"})})]}),!nt&&i.jsx("div",{className:"flex-none px-4 pt-4",children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:_e()},(pe,et)=>{const Ct=Ne?et:et+1,Ka=et+1;return i.jsxs(Kt.Fragment,{children:[i.jsx("div",{className:"flex items-center",children:i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${Ct<s?"bg-green-500 text-white":Ct===s?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:Ct<s?i.jsx(hi,{className:"w-5 h-5"}):Ka})}),et<_e()-1&&i.jsx("div",{className:`flex-1 h-1 mx-2 transition-colors ${Ct<s?"bg-green-500":"bg-gray-200 dark:bg-gray-700"}`})]},Ct)})})}),nt?i.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:i.jsx(Je,{text:"Loading groups..."})}):i.jsxs("form",{onSubmit:pe=>{pe.preventDefault(),pe.stopPropagation(),!(!(Ne?s===_e()-1:u==="http"?s===6:s===5)||!V)&&To(pe)},onKeyDown:pe=>{pe.key==="Enter"&&((Ne?s===_e()-1:u==="http"?s===6:s===5)||(pe.preventDefault(),pe.stopPropagation()))},className:"flex flex-col flex-1 overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-6",children:Gl()})}),i.jsx("div",{className:"flex-none border-t dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex justify-between gap-3",children:[i.jsxs("button",{type:"button",onClick:Cn()?Ni:e,className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-200
                         flex items-center gap-2`,children:[i.jsx(mE,{className:"w-4 h-4"}),Cn()?"Previous":"Cancel"]}),(Ne?s===_e()-1:u==="http"?s===6:s===5)?i.jsx("button",{type:"submit",onClick:()=>{W(!0)},disabled:R||!fr(),className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                           disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:R?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),a?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[a?"Update Monitor":"Create Monitor",i.jsx(hi,{className:"w-4 h-4"})]})}):i.jsx("button",{type:"button",onClick:pe=>{pe.preventDefault(),pe.stopPropagation(),Xs()},disabled:!fr()||g,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                           disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:g?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Creating..."]}):s===0&&Ne?i.jsxs(i.Fragment,{children:["Create Group",i.jsx(Pd,{className:"w-4 h-4"})]}):i.jsxs(i.Fragment,{children:["Next",i.jsx(Pd,{className:"w-4 h-4"})]})})]})})]})]})})}function oie({groups:e,selectedGroups:t,onClose:r,onApply:n}){const[a,s]=x.useState(t),[l,u]=x.useState(!1),d=x.useMemo(()=>[...e].sort((S,k)=>S.name.localeCompare(k.name)),[e]),f=S=>{s(k=>k.includes(S)?k.filter(N=>N!==S):[...k,S]),u(!1)},m=()=>{s(e.map(S=>S.id.toString())),u(!1)},g=()=>{s([]),u(!0)},y=()=>{if(a.length===0){u(!0),xe.error("Please select at least one group",{position:"bottom-right"});return}n(a),r()},b=a.length===e.length,v=a.length>0;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg w-full max-w-md shadow-xl",children:[i.jsx("div",{className:"px-6 py-4 border-b dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Filter Groups"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Select the groups you want to display"})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors",children:i.jsx(Dt,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"px-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:m,className:`flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 
                         hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors`,children:[b?i.jsx(mne,{className:"w-4 h-4"}):i.jsx(by,{className:"w-4 h-4"}),"Select All"]}),i.jsxs("button",{onClick:g,className:`flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 
                         hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors`,children:[i.jsx(by,{className:"w-4 h-4"}),"Unselect All"]})]}),i.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.length," of ",e.length," selected"]})]}),l&&i.jsx("div",{className:"mb-4 p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 rounded-lg",children:"Please select at least one group"}),i.jsx("div",{className:"space-y-1 max-h-[400px] overflow-y-auto pr-2",children:d.map(S=>i.jsxs("label",{className:`flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 
                         rounded-lg cursor-pointer transition-colors`,children:[i.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:i.jsx("input",{type:"checkbox",checked:a.includes(S.id.toString()),onChange:()=>f(S.id.toString()),className:`w-4 h-4 rounded border-gray-300 text-blue-500 focus:ring-blue-500 
                             dark:border-gray-600 dark:bg-gray-700`})}),i.jsx("span",{className:"flex-1 text-sm dark:text-white text-gray-900",children:S.name}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.monitors.length," monitors"]})]},S.id))})]}),i.jsx("div",{className:"px-6 py-4 border-t dark:border-gray-700 border-gray-200 bg-gray-50 dark:bg-gray-900/50",children:i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 
                       hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors`,children:"Cancel"}),i.jsx("button",{onClick:y,className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors
                       ${v?"bg-blue-500 hover:bg-blue-600":"bg-blue-300 dark:bg-blue-700 cursor-not-allowed"}`,disabled:!v,children:"Apply"})]})})]})})}const lie=(e,t,r)=>{const n=r?"text-gray-400 dark:text-gray-500":t?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";switch(e){case 1:return{icon:i.jsx(cs,{className:`w-4 h-4 ${n}`}),label:"HTTP(S)"};case 3:return{icon:i.jsx(Kc,{className:`w-4 h-4 ${n}`}),label:"TCP"};case 4:return{icon:i.jsx(vr,{className:`w-4 h-4 ${n}`}),label:"Kubernetes"};default:return{icon:i.jsx(cs,{className:`w-4 h-4 ${n}`}),label:"Unknown"}}},cie=({status:e,paused:t,responseTime:r,uptime:n})=>t?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xx,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paused"})]}):e?i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/20",children:[i.jsx(Dn,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-sm font-medium text-green-500",children:"Online"})]}):i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/20",children:[i.jsx(ma,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-sm font-medium text-red-500",children:"Offline"})]}),uie=({uptime24Hrs:e,uptime7Days:t,uptime30Days:r})=>{const n=a=>a>=99.5?"bg-green-500":a>=95?"bg-yellow-500":"bg-red-500";return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-6",children:"24h:"}),i.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${n(e)}`,style:{width:`${Math.min(e,100)}%`}})}),i.jsxs("span",{className:"text-xs font-medium w-12 text-right dark:text-white text-gray-900",children:[e.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-6",children:"7d:"}),i.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${n(t)}`,style:{width:`${Math.min(t,100)}%`}})}),i.jsxs("span",{className:"text-xs font-medium w-12 text-right dark:text-white text-gray-900",children:[t.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-6",children:"30d:"}),i.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${n(r)}`,style:{width:`${Math.min(r,100)}%`}})}),i.jsxs("span",{className:"text-xs font-medium w-12 text-right dark:text-white text-gray-900",children:[r.toFixed(1),"%"]})]})]})},die=({responseTime:e})=>{const t=n=>n<200?"text-green-600 dark:text-green-400":n<500?"text-yellow-600 dark:text-yellow-400":n<1e3?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400",r=n=>n<200?"Excellent":n<500?"Good":n<1e3?"Fair":"Poor";return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wr,{className:`w-4 h-4 ${t(e)}`}),i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:`text-sm font-medium ${t(e)}`,children:[e.toFixed(0),"ms"]}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r(e)})]})]})},fie=({checkCertExpiry:e,daysToExpire:t,monitorTypeId:r})=>r!==1||!e?null:t<=0?i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-red-100 dark:bg-red-900/20 rounded-full",children:[i.jsx(Vt,{className:"w-4 h-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Certificate Expired"})]}):t<=30?i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-yellow-100 dark:bg-yellow-900/20 rounded-full",children:[i.jsx(mi,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{className:"text-xs font-medium text-yellow-600 dark:text-yellow-400",children:["Cert expires in ",t," days"]})]}):i.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-green-100 dark:bg-green-900/20 rounded-full",children:[i.jsx(pi,{className:"w-4 h-4 text-green-500"}),i.jsxs("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:["Cert valid (",t," days)"]})]}),hie=e=>e.reduce((t,r)=>(r.paused?t.paused+=1:r.status?t.online+=1:t.offline+=1,t),{online:0,offline:0,paused:0}),mie=()=>{try{const e=localStorage.getItem("selectedEnvironment");return e?parseInt(e,10):6}catch{return 6}},gie=e=>{try{localStorage.setItem("selectedEnvironment",e.toString())}catch(t){console.warn("Failed to save environment to localStorage:",t)}};function pie({selectedMetric:e,onSelectMetric:t,refreshTrigger:r,updatedMonitor:n,onEnvironmentChange:a}){const[s,l]=x.useState([]),[u,d]=x.useState([]),[f,m]=x.useState(!0),[g,y]=x.useState(null),[b,v]=x.useState({}),[S,k]=x.useState(""),[N,E]=x.useState("all"),[_,O]=x.useState(mie()),[j,A]=x.useState(!1),[R,U]=x.useState(!1),[V,W]=x.useState(null),[G,$]=x.useState(!1),[z,Y]=x.useState(null),[le,H]=x.useState(!1),[ee,q]=x.useState([]),te=x.useCallback(Ce=>{l(Q=>Q.map(Ee=>({...Ee,monitors:Ee.monitors.map(we=>we.id===Ce.id?Ce:we)})))},[]),D=x.useCallback(async()=>{try{m(!0);const Ce=await He.getDashboardGroups(_);l(Ce),d(Ce)}catch(Ce){console.error("Failed to fetch monitor groups:",Ce),y("Failed to load monitor groups")}finally{m(!1)}},[_]),M=x.useMemo(()=>[...u].sort((Ce,Q)=>Ce.name.localeCompare(Q.name)),[u]);x.useEffect(()=>{gie(_)},[_]),x.useEffect(()=>{n?.monitor&&te(n.monitor)},[n?.timestamp,te]),x.useEffect(()=>{D()},[D]),x.useEffect(()=>{const Ce=s.filter(Q=>ee.length===0||ee.includes(Q.id.toString())).map(Q=>({...Q,monitors:Q.monitors.filter(Ee=>{const we=Ee.name.toLowerCase().includes(S.toLowerCase());if(Ee.paused)return we&&N==="all";let ae;return N==="all"?ae=!0:N==="online"?ae=Ee.status:ae=!Ee.status,we&&ae})})).filter(Q=>Q.monitors.length>0);d(Ce)},[s,S,N,ee]);const L=(Ce,Q)=>{Ce.stopPropagation(),v(Ee=>({...Ee,[Q]:!Ee[Q]}))},J=Ce=>{const Q=Ce.id.toString();z===Q?(Y(null),t(null)):(Y(Q),t(null,Ce))},se=[{id:1,name:"Development"},{id:2,name:"Staging"},{id:3,name:"QA"},{id:4,name:"Testing"},{id:5,name:"PreProd"},{id:6,name:"Production"}],je=Ce=>{O(Ce),a?.(Ce)},Re=()=>{if(G)v({});else{const Ce=M.reduce((Q,Ee)=>(Q[Ee.id.toString()]=!0,Q),{});v(Ce)}$(!G)},Le=async Ce=>{try{if(Ce.monitorTypeId===3){const Q=await He.getMonitorTcpDetails(Ce.id),Ee={...Ce,monitorTcp:{IP:Q.ip,port:Q.port}};t(Ee)}else if(Ce.monitorTypeId===4){const Q=await He.getMonitorK8sDetails(Ce.id),Ee=Ce.monitorGroup||Q.monitorGroup||Q.MonitorGroup||Q.MonitorGroup||0,we={...Ce,monitorGroup:Ee,monitorK8s:{clusterName:Q.ClusterName||Q.clusterName,kubeConfig:Q.KubeConfig||Q.kubeConfig,monitorK8sNodes:Q.monitorK8sNodes}};console.log("K8s monitor with group:",{monitorGroup:Ee,k8sDetails:Q}),t(we)}else t(Ce)}catch(Q){console.error("Failed to fetch monitor details:",Q),xe.error("Failed to load monitor details",{position:"bottom-right"}),t(Ce)}};return f?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{text:"Loading monitors..."})}):g?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[i.jsx(qt,{className:"w-5 h-5"}),g]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b dark:border-gray-700 border-gray-200",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900",children:"Monitors"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(iu,{className:"absolute left-3 top-2.5 w-5 h-5 dark:text-gray-400 text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search",value:S,onChange:Ce=>k(Ce.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                       dark:border-gray-700 border-gray-200 dark:text-white text-gray-900`})]}),i.jsxs("button",{onClick:()=>H(!0),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors duration-200
                     ${ee.length>0?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"dark:bg-gray-800 bg-white dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsx(U7,{className:"w-4 h-4"}),ee.length>0?`${ee.length} selected`:"Filter Groups"]}),i.jsxs("button",{onClick:()=>A(!0),className:`px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                     flex items-center gap-1.5 transition-colors duration-200`,children:[i.jsx(Gc,{className:"w-4 h-4"}),"Add"]})]})]}),i.jsx("div",{className:"p-4 border-b dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("select",{value:_,onChange:Ce=>je(Number(Ce.target.value)),className:`px-3 py-1 rounded-lg text-sm dark:bg-gray-800 bg-white border 
                       dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                       focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:se.map(Ce=>i.jsx("option",{value:Ce.id,children:Ce.name},Ce.id))})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>E("all"),className:`px-3 py-1 rounded-lg text-sm ${N==="all"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"dark:bg-gray-800 bg-white dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"All"}),i.jsx("button",{onClick:()=>E("online"),className:`px-3 py-1 rounded-lg text-sm ${N==="online"?"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400":"dark:bg-gray-800 bg-white dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Online"}),i.jsx("button",{onClick:()=>E("offline"),className:`px-3 py-1 rounded-lg text-sm ${N==="offline"?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"dark:bg-gray-800 bg-white dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Offline"})]}),i.jsx("button",{onClick:Re,className:`p-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 
                       border-gray-300 dark:text-gray-300 text-gray-700
                       hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`,title:G?"Expand All":"Collapse All",children:G?i.jsx(tre,{className:"w-5 h-5"}):i.jsx(nre,{className:"w-5 h-5"})})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:M.map(Ce=>{const{online:Q,offline:Ee,paused:we}=hie(Ce.monitors);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all duration-200
                         ${z===Ce.id.toString()?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"dark:bg-gray-800/40 bg-gray-50/80 hover:bg-gray-100 dark:hover:bg-gray-800/60 border-gray-200 dark:border-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:ae=>L(ae,Ce.id.toString()),className:"p-1 rounded-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:b[Ce.id.toString()]?i.jsx(qc,{className:"w-5 h-5 text-gray-400"}):i.jsx(Pd,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{onClick:()=>J(Ce),className:"cursor-pointer",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-1",children:Ce.name}),i.jsxs("div",{className:"text-sm dark:text-gray-400 text-gray-600",children:["Avg Uptime (24h): ",Ce.avgUptime24Hrs.toFixed(2),"%"]})]}),!1]})]}),i.jsxs("div",{onClick:()=>J(Ce),className:"text-sm flex flex-col gap-2 cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),i.jsxs("span",{className:"dark:text-gray-400 text-gray-600",children:[Q," online"]})]}),i.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-red-500"}),i.jsxs("span",{className:"dark:text-gray-400 text-gray-600",children:[Ee," offline"]})]}),we>0&&i.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-gray-500 dark:bg-gray-400"}),i.jsxs("span",{className:"dark:text-gray-400 text-gray-600",children:[we," paused"]})]})]})]}),!b[Ce.id.toString()]&&i.jsx("div",{className:"space-y-3 ml-7",children:Ce.monitors.map(ae=>{const{icon:nt,label:De}=lie(ae.monitorTypeId,ae.status,ae.paused);return i.jsx("div",{onClick:()=>Le(ae),className:`p-3 rounded-lg cursor-pointer transition-all duration-200 border
                                 ${e?.id===ae.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"dark:bg-gray-800/40 bg-gray-50/80 hover:bg-gray-100 dark:hover:bg-gray-800/60 border-gray-200 dark:border-gray-700"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"mt-1",children:nt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[i.jsx("h3",{className:"font-medium dark:text-white text-gray-900 truncate",children:ae.name}),i.jsx(cie,{status:ae.status,paused:ae.paused,responseTime:ae.monitorStatusDashboard.responseTime,uptime:ae.monitorStatusDashboard.uptime24Hrs})]}),i.jsxs("div",{className:"text-xs dark:text-gray-400 text-gray-600 mb-2",children:[De,"  ",ae.heartBeatInterval,"min interval"]}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Response Time"}),i.jsx(die,{responseTime:ae.monitorStatusDashboard.responseTime})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Uptime Trend"}),i.jsx(uie,{uptime24Hrs:ae.monitorStatusDashboard.uptime24Hrs,uptime7Days:ae.monitorStatusDashboard.uptime7Days,uptime30Days:ae.monitorStatusDashboard.uptime30Days})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Certificate"}),i.jsx(fie,{checkCertExpiry:ae.checkCertExpiry,daysToExpire:ae.daysToExpireCert,monitorTypeId:ae.monitorTypeId})]})]})]})]})},ae.id)})})]},Ce.id)})}),j&&i.jsx(_2,{onClose:()=>A(!1),onAdd:async Ce=>{try{Ce?.MonitorTypeId===4||Ce?.monitorTypeId===4||await He.createMonitor(Ce);const Ee=await He.getDashboardGroups(_);l(Ee),A(!1)}catch(Q){console.error("Failed to create monitor:",Q)}}}),R&&V&&i.jsx(_2,{onClose:()=>{U(!1),W(null)},onAdd:async()=>{},onUpdate:async Ce=>{try{if(V.monitorTypeId===3){if(await He.updateMonitorTcp(Ce)){xe.success("Monitor updated successfully",{position:"bottom-right"}),U(!1);const Ee=await He.getDashboardGroups(_);l(Ee)}}else if(V.monitorTypeId===4){await He.updateMonitorK8s(Ce),xe.success("Monitor updated successfully",{position:"bottom-right"}),U(!1);const Q=await He.getDashboardGroups(_);l(Q)}else if(await He.updateMonitorHttp(Ce)){xe.success("Monitor updated successfully",{position:"bottom-right"}),U(!1);const Ee=await He.getDashboardGroups(_);l(Ee)}}catch(Q){console.error("Failed to update monitor:",Q),xe.error("Failed to update monitor",{position:"bottom-right"})}},existingMonitor:V,isEditing:!0}),le&&i.jsx(oie,{groups:s,selectedGroups:ee,onClose:()=>H(!1),onApply:q})]})}const q6={};function yie(e){let t=q6[e];if(t)return t;t=q6[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);t.push(n)}for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return t}function Ud(e,t){typeof t!="string"&&(t=Ud.defaultChars);const r=yie(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(n){let a="";for(let s=0,l=n.length;s<l;s+=3){const u=parseInt(n.slice(s+1,s+3),16);if(u<128){a+=r[u];continue}if((u&224)===192&&s+3<l){const d=parseInt(n.slice(s+4,s+6),16);if((d&192)===128){const f=u<<6&1984|d&63;f<128?a+="":a+=String.fromCharCode(f),s+=3;continue}}if((u&240)===224&&s+6<l){const d=parseInt(n.slice(s+4,s+6),16),f=parseInt(n.slice(s+7,s+9),16);if((d&192)===128&&(f&192)===128){const m=u<<12&61440|d<<6&4032|f&63;m<2048||m>=55296&&m<=57343?a+="":a+=String.fromCharCode(m),s+=6;continue}}if((u&248)===240&&s+9<l){const d=parseInt(n.slice(s+4,s+6),16),f=parseInt(n.slice(s+7,s+9),16),m=parseInt(n.slice(s+10,s+12),16);if((d&192)===128&&(f&192)===128&&(m&192)===128){let g=u<<18&1835008|d<<12&258048|f<<6&4032|m&63;g<65536||g>1114111?a+="":(g-=65536,a+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),s+=9;continue}}a+=""}return a})}Ud.defaultChars=";/?:@&=+$,#";Ud.componentChars="";const K6={};function xie(e){let t=K6[e];if(t)return t;t=K6[e]=[];for(let r=0;r<128;r++){const n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?t.push(n):t.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<e.length;r++)t[e.charCodeAt(r)]=e[r];return t}function q0(e,t,r){typeof t!="string"&&(r=t,t=q0.defaultChars),typeof r>"u"&&(r=!0);const n=xie(t);let a="";for(let s=0,l=e.length;s<l;s++){const u=e.charCodeAt(s);if(r&&u===37&&s+2<l&&/^[0-9a-f]{2}$/i.test(e.slice(s+1,s+3))){a+=e.slice(s,s+3),s+=2;continue}if(u<128){a+=n[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&s+1<l){const d=e.charCodeAt(s+1);if(d>=56320&&d<=57343){a+=encodeURIComponent(e[s]+e[s+1]),s++;continue}}a+="%EF%BF%BD";continue}a+=encodeURIComponent(e[s])}return a}q0.defaultChars=";/?:@&=+$,-_.!~*'()#";q0.componentChars="-_.!~*'()";function NE(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function ky(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const bie=/^([a-z0-9.+-]+:)/i,vie=/:[0-9]*$/,wie=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,kie=["<",">",'"',"`"," ","\r",`
`,"	"],Sie=["{","}","|","\\","^","`"].concat(kie),Cie=["'"].concat(Sie),G6=["%","/","?",";","#"].concat(Cie),W6=["/","?","#"],Nie=255,V6=/^[+a-z0-9A-Z_-]{0,63}$/,Eie=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Y6={javascript:!0,"javascript:":!0},X6={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function EE(e,t){if(e&&e instanceof ky)return e;const r=new ky;return r.parse(e,t),r}ky.prototype.parse=function(e,t){let r,n,a,s=e;if(s=s.trim(),!t&&e.split("#").length===1){const f=wie.exec(s);if(f)return this.pathname=f[1],f[2]&&(this.search=f[2]),this}let l=bie.exec(s);if(l&&(l=l[0],r=l.toLowerCase(),this.protocol=l,s=s.substr(l.length)),(t||l||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(a=s.substr(0,2)==="//",a&&!(l&&Y6[l])&&(s=s.substr(2),this.slashes=!0)),!Y6[l]&&(a||l&&!X6[l])){let f=-1;for(let v=0;v<W6.length;v++)n=s.indexOf(W6[v]),n!==-1&&(f===-1||n<f)&&(f=n);let m,g;f===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",f),g!==-1&&(m=s.slice(0,g),s=s.slice(g+1),this.auth=m),f=-1;for(let v=0;v<G6.length;v++)n=s.indexOf(G6[v]),n!==-1&&(f===-1||n<f)&&(f=n);f===-1&&(f=s.length),s[f-1]===":"&&f--;const y=s.slice(0,f);s=s.slice(f),this.parseHost(y),this.hostname=this.hostname||"";const b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b){const v=this.hostname.split(/\./);for(let S=0,k=v.length;S<k;S++){const N=v[S];if(N&&!N.match(V6)){let E="";for(let _=0,O=N.length;_<O;_++)N.charCodeAt(_)>127?E+="x":E+=N[_];if(!E.match(V6)){const _=v.slice(0,S),O=v.slice(S+1),j=N.match(Eie);j&&(_.push(j[1]),O.unshift(j[2])),O.length&&(s=O.join(".")+s),this.hostname=_.join(".");break}}}}this.hostname.length>Nie&&(this.hostname=""),b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=s.indexOf("#");u!==-1&&(this.hash=s.substr(u),s=s.slice(0,u));const d=s.indexOf("?");return d!==-1&&(this.search=s.substr(d),s=s.slice(0,d)),s&&(this.pathname=s),X6[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ky.prototype.parseHost=function(e){let t=vie.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const _ie=Object.freeze(Object.defineProperty({__proto__:null,decode:Ud,encode:q0,format:NE,parse:EE},Symbol.toStringTag,{value:"Module"})),vL=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wL=/[\0-\x1F\x7F-\x9F]/,jie=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,_E=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,kL=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,SL=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Aie=Object.freeze(Object.defineProperty({__proto__:null,Any:vL,Cc:wL,Cf:jie,P:_E,S:kL,Z:SL},Symbol.toStringTag,{value:"Module"})),Tie=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Iie=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Bw;const Oie=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Mie=(Bw=String.fromCodePoint)!==null&&Bw!==void 0?Bw:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Rie(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Oie.get(e))!==null&&t!==void 0?t:e}var sn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(sn||(sn={}));const Die=32;var xl;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(xl||(xl={}));function j2(e){return e>=sn.ZERO&&e<=sn.NINE}function Pie(e){return e>=sn.UPPER_A&&e<=sn.UPPER_F||e>=sn.LOWER_A&&e<=sn.LOWER_F}function Lie(e){return e>=sn.UPPER_A&&e<=sn.UPPER_Z||e>=sn.LOWER_A&&e<=sn.LOWER_Z||j2(e)}function Uie(e){return e===sn.EQUALS||Lie(e)}var en;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(en||(en={}));var gl;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(gl||(gl={}));class Fie{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=en.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=gl.Strict}startEntity(t){this.decodeMode=t,this.state=en.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case en.EntityStart:return t.charCodeAt(r)===sn.NUM?(this.state=en.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=en.NamedEntity,this.stateNamedEntity(t,r));case en.NumericStart:return this.stateNumericStart(t,r);case en.NumericDecimal:return this.stateNumericDecimal(t,r);case en.NumericHex:return this.stateNumericHex(t,r);case en.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Die)===sn.LOWER_X?(this.state=en.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=en.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,a){if(r!==n){const s=n-r;this.result=this.result*Math.pow(a,s)+parseInt(t.substr(r,s),a),this.consumed+=s}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(j2(a)||Pie(a))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const a=t.charCodeAt(r);if(j2(a))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===sn.SEMI)this.consumed+=1;else if(this.decodeMode===gl.Strict)return 0;return this.emitCodePoint(Rie(this.result),this.consumed),this.errors&&(t!==sn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let a=n[this.treeIndex],s=(a&xl.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const l=t.charCodeAt(r);if(this.treeIndex=Bie(n,a,this.treeIndex+Math.max(1,s),l),this.treeIndex<0)return this.result===0||this.decodeMode===gl.Attribute&&(s===0||Uie(l))?0:this.emitNotTerminatedNamedEntity();if(a=n[this.treeIndex],s=(a&xl.VALUE_LENGTH)>>14,s!==0){if(l===sn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==gl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,a=(n[r]&xl.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:a}=this;return this.emitCodePoint(r===1?a[t]&~xl.VALUE_LENGTH:a[t+1],n),r===3&&this.emitCodePoint(a[t+2],n),n}end(){var t;switch(this.state){case en.NamedEntity:return this.result!==0&&(this.decodeMode!==gl.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case en.NumericDecimal:return this.emitNumericEntity(0,2);case en.NumericHex:return this.emitNumericEntity(0,3);case en.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case en.EntityStart:return 0}}}function CL(e){let t="";const r=new Fie(e,n=>t+=Mie(n));return function(a,s){let l=0,u=0;for(;(u=a.indexOf("&",u))>=0;){t+=a.slice(l,u),r.startEntity(s);const f=r.write(a,u+1);if(f<0){l=u+r.end();break}l=u+f,u=f===0?l+1:l}const d=t+a.slice(l);return t="",d}}function Bie(e,t,r,n){const a=(t&xl.BRANCH_LENGTH)>>7,s=t&xl.JUMP_TABLE;if(a===0)return s!==0&&n===s?r:-1;if(s){const d=n-s;return d<0||d>=a?-1:e[r+d]-1}let l=r,u=l+a-1;for(;l<=u;){const d=l+u>>>1,f=e[d];if(f<n)l=d+1;else if(f>n)u=d-1;else return e[d+a]}return-1}const zie=CL(Tie);CL(Iie);function NL(e,t=gl.Legacy){return zie(e,t)}function $ie(e){return Object.prototype.toString.call(e)}function jE(e){return $ie(e)==="[object String]"}const Hie=Object.prototype.hasOwnProperty;function qie(e,t){return Hie.call(e,t)}function ab(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}function EL(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))}function AE(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Sy(e){if(e>65535){e-=65536;const t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}const _L=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Kie=/&([a-z#][a-z0-9]{1,31});/gi,Gie=new RegExp(_L.source+"|"+Kie.source,"gi"),Wie=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Vie(e,t){if(t.charCodeAt(0)===35&&Wie.test(t)){const n=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return AE(n)?Sy(n):e}const r=NL(e);return r!==e?r:e}function Yie(e){return e.indexOf("\\")<0?e:e.replace(_L,"$1")}function Fd(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Gie,function(t,r,n){return r||Vie(t,n)})}const Xie=/[&<>"]/,Jie=/[&<>"]/g,Qie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Zie(e){return Qie[e]}function Il(e){return Xie.test(e)?e.replace(Jie,Zie):e}const eoe=/[.?*+^$[\]\\(){}|-]/g;function toe(e){return e.replace(eoe,"\\$&")}function ar(e){switch(e){case 9:case 32:return!0}return!1}function o0(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function l0(e){return _E.test(e)||kL.test(e)}function c0(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function sb(e){return e=e.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const roe={mdurl:_ie,ucmicro:Aie},noe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:EL,assign:ab,escapeHtml:Il,escapeRE:toe,fromCodePoint:Sy,has:qie,isMdAsciiPunct:c0,isPunctChar:l0,isSpace:ar,isString:jE,isValidEntityCode:AE,isWhiteSpace:o0,lib:roe,normalizeReference:sb,unescapeAll:Fd,unescapeMd:Yie},Symbol.toStringTag,{value:"Module"}));function aoe(e,t,r){let n,a,s,l;const u=e.posMax,d=e.pos;for(e.pos=t+1,n=1;e.pos<u;){if(s=e.src.charCodeAt(e.pos),s===93&&(n--,n===0)){a=!0;break}if(l=e.pos,e.md.inline.skipToken(e),s===91){if(l===e.pos-1)n++;else if(r)return e.pos=d,-1}}let f=-1;return a&&(f=e.pos),e.pos=d,f}function soe(e,t,r){let n,a=t;const s={ok:!1,pos:0,str:""};if(e.charCodeAt(a)===60){for(a++;a<r;){if(n=e.charCodeAt(a),n===10||n===60)return s;if(n===62)return s.pos=a+1,s.str=Fd(e.slice(t+1,a)),s.ok=!0,s;if(n===92&&a+1<r){a+=2;continue}a++}return s}let l=0;for(;a<r&&(n=e.charCodeAt(a),!(n===32||n<32||n===127));){if(n===92&&a+1<r){if(e.charCodeAt(a+1)===32)break;a+=2;continue}if(n===40&&(l++,l>32))return s;if(n===41){if(l===0)break;l--}a++}return t===a||l!==0||(s.str=Fd(e.slice(t,a)),s.pos=a,s.ok=!0),s}function ioe(e,t,r,n){let a,s=t;const l={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(n)l.str=n.str,l.marker=n.marker;else{if(s>=r)return l;let u=e.charCodeAt(s);if(u!==34&&u!==39&&u!==40)return l;t++,s++,u===40&&(u=41),l.marker=u}for(;s<r;){if(a=e.charCodeAt(s),a===l.marker)return l.pos=s+1,l.str+=Fd(e.slice(t,s)),l.ok=!0,l;if(a===40&&l.marker===41)return l;a===92&&s+1<r&&s++,s++}return l.can_continue=!0,l.str+=Fd(e.slice(t,s)),l}const ooe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:soe,parseLinkLabel:aoe,parseLinkTitle:ioe},Symbol.toStringTag,{value:"Module"})),ki={};ki.code_inline=function(e,t,r,n,a){const s=e[t];return"<code"+a.renderAttrs(s)+">"+Il(s.content)+"</code>"};ki.code_block=function(e,t,r,n,a){const s=e[t];return"<pre"+a.renderAttrs(s)+"><code>"+Il(e[t].content)+`</code></pre>
`};ki.fence=function(e,t,r,n,a){const s=e[t],l=s.info?Fd(s.info).trim():"";let u="",d="";if(l){const m=l.split(/(\s+)/g);u=m[0],d=m.slice(2).join("")}let f;if(r.highlight?f=r.highlight(s.content,u,d)||Il(s.content):f=Il(s.content),f.indexOf("<pre")===0)return f+`
`;if(l){const m=s.attrIndex("class"),g=s.attrs?s.attrs.slice():[];m<0?g.push(["class",r.langPrefix+u]):(g[m]=g[m].slice(),g[m][1]+=" "+r.langPrefix+u);const y={attrs:g};return`<pre><code${a.renderAttrs(y)}>${f}</code></pre>
`}return`<pre><code${a.renderAttrs(s)}>${f}</code></pre>
`};ki.image=function(e,t,r,n,a){const s=e[t];return s.attrs[s.attrIndex("alt")][1]=a.renderInlineAsText(s.children,r,n),a.renderToken(e,t,r)};ki.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};ki.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};ki.text=function(e,t){return Il(e[t].content)};ki.html_block=function(e,t){return e[t].content};ki.html_inline=function(e,t){return e[t].content};function pf(){this.rules=ab({},ki)}pf.prototype.renderAttrs=function(t){let r,n,a;if(!t.attrs)return"";for(a="",r=0,n=t.attrs.length;r<n;r++)a+=" "+Il(t.attrs[r][0])+'="'+Il(t.attrs[r][1])+'"';return a};pf.prototype.renderToken=function(t,r,n){const a=t[r];let s="";if(a.hidden)return"";a.block&&a.nesting!==-1&&r&&t[r-1].hidden&&(s+=`
`),s+=(a.nesting===-1?"</":"<")+a.tag,s+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(s+=" /");let l=!1;if(a.block&&(l=!0,a.nesting===1&&r+1<t.length)){const u=t[r+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===a.tag)&&(l=!1)}return s+=l?`>
`:">",s};pf.prototype.renderInline=function(e,t,r){let n="";const a=this.rules;for(let s=0,l=e.length;s<l;s++){const u=e[s].type;typeof a[u]<"u"?n+=a[u](e,s,t,r,this):n+=this.renderToken(e,s,t)}return n};pf.prototype.renderInlineAsText=function(e,t,r){let n="";for(let a=0,s=e.length;a<s;a++)switch(e[a].type){case"text":n+=e[a].content;break;case"image":n+=this.renderInlineAsText(e[a].children,t,r);break;case"html_inline":case"html_block":n+=e[a].content;break;case"softbreak":case"hardbreak":n+=`
`;break}return n};pf.prototype.render=function(e,t,r){let n="";const a=this.rules;for(let s=0,l=e.length;s<l;s++){const u=e[s].type;u==="inline"?n+=this.renderInline(e[s].children,t,r):typeof a[u]<"u"?n+=a[u](e,s,t,r,this):n+=this.renderToken(e,s,t,r)}return n};function ya(){this.__rules__=[],this.__cache__=null}ya.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};ya.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn))})})};ya.prototype.at=function(e,t,r){const n=this.__find__(e),a=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=a.alt||[],this.__cache__=null};ya.prototype.before=function(e,t,r,n){const a=this.__find__(e),s=n||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a,0,{name:t,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};ya.prototype.after=function(e,t,r,n){const a=this.__find__(e),s=n||{};if(a===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(a+1,0,{name:t,enabled:!0,fn:r,alt:s.alt||[]}),this.__cache__=null};ya.prototype.push=function(e,t,r){const n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};ya.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const a=this.__find__(n);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!0,r.push(n)},this),this.__cache__=null,r};ya.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(e,t)};ya.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const r=[];return e.forEach(function(n){const a=this.__find__(n);if(a<0){if(t)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[a].enabled=!1,r.push(n)},this),this.__cache__=null,r};ya.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Vs(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Vs.prototype.attrIndex=function(t){if(!this.attrs)return-1;const r=this.attrs;for(let n=0,a=r.length;n<a;n++)if(r[n][0]===t)return n;return-1};Vs.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Vs.prototype.attrSet=function(t,r){const n=this.attrIndex(t),a=[t,r];n<0?this.attrPush(a):this.attrs[n]=a};Vs.prototype.attrGet=function(t){const r=this.attrIndex(t);let n=null;return r>=0&&(n=this.attrs[r][1]),n};Vs.prototype.attrJoin=function(t,r){const n=this.attrIndex(t);n<0?this.attrPush([t,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};function jL(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}jL.prototype.Token=Vs;const loe=/\r\n?|\n/g,coe=/\0/g;function uoe(e){let t;t=e.src.replace(loe,`
`),t=t.replace(coe,""),e.src=t}function doe(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function foe(e){const t=e.tokens;for(let r=0,n=t.length;r<n;r++){const a=t[r];a.type==="inline"&&e.md.inline.parse(a.content,e.md,e.env,a.children)}}function hoe(e){return/^<a[>\s]/i.test(e)}function moe(e){return/^<\/a\s*>/i.test(e)}function goe(e){const t=e.tokens;if(e.md.options.linkify)for(let r=0,n=t.length;r<n;r++){if(t[r].type!=="inline"||!e.md.linkify.pretest(t[r].content))continue;let a=t[r].children,s=0;for(let l=a.length-1;l>=0;l--){const u=a[l];if(u.type==="link_close"){for(l--;a[l].level!==u.level&&a[l].type!=="link_open";)l--;continue}if(u.type==="html_inline"&&(hoe(u.content)&&s>0&&s--,moe(u.content)&&s++),!(s>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const d=u.content;let f=e.md.linkify.match(d);const m=[];let g=u.level,y=0;f.length>0&&f[0].index===0&&l>0&&a[l-1].type==="text_special"&&(f=f.slice(1));for(let b=0;b<f.length;b++){const v=f[b].url,S=e.md.normalizeLink(v);if(!e.md.validateLink(S))continue;let k=f[b].text;f[b].schema?f[b].schema==="mailto:"&&!/^mailto:/i.test(k)?k=e.md.normalizeLinkText("mailto:"+k).replace(/^mailto:/,""):k=e.md.normalizeLinkText(k):k=e.md.normalizeLinkText("http://"+k).replace(/^http:\/\//,"");const N=f[b].index;if(N>y){const j=new e.Token("text","",0);j.content=d.slice(y,N),j.level=g,m.push(j)}const E=new e.Token("link_open","a",1);E.attrs=[["href",S]],E.level=g++,E.markup="linkify",E.info="auto",m.push(E);const _=new e.Token("text","",0);_.content=k,_.level=g,m.push(_);const O=new e.Token("link_close","a",-1);O.level=--g,O.markup="linkify",O.info="auto",m.push(O),y=f[b].lastIndex}if(y<d.length){const b=new e.Token("text","",0);b.content=d.slice(y),b.level=g,m.push(b)}t[r].children=a=EL(a,l,m)}}}}const AL=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,poe=/\((c|tm|r)\)/i,yoe=/\((c|tm|r)\)/ig,xoe={c:"",r:"",tm:""};function boe(e,t){return xoe[t.toLowerCase()]}function voe(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&(n.content=n.content.replace(yoe,boe)),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function woe(e){let t=0;for(let r=e.length-1;r>=0;r--){const n=e[r];n.type==="text"&&!t&&AL.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&t--,n.type==="link_close"&&n.info==="auto"&&t++}}function koe(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(poe.test(e.tokens[t].content)&&voe(e.tokens[t].children),AL.test(e.tokens[t].content)&&woe(e.tokens[t].children))}const Soe=/['"]/,J6=/['"]/g,Q6="";function Jg(e,t,r){return e.slice(0,t)+r+e.slice(t+1)}function Coe(e,t){let r;const n=[];for(let a=0;a<e.length;a++){const s=e[a],l=e[a].level;for(r=n.length-1;r>=0&&!(n[r].level<=l);r--);if(n.length=r+1,s.type!=="text")continue;let u=s.content,d=0,f=u.length;e:for(;d<f;){J6.lastIndex=d;const m=J6.exec(u);if(!m)break;let g=!0,y=!0;d=m.index+1;const b=m[0]==="'";let v=32;if(m.index-1>=0)v=u.charCodeAt(m.index-1);else for(r=a-1;r>=0&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r--)if(e[r].content){v=e[r].content.charCodeAt(e[r].content.length-1);break}let S=32;if(d<f)S=u.charCodeAt(d);else for(r=a+1;r<e.length&&!(e[r].type==="softbreak"||e[r].type==="hardbreak");r++)if(e[r].content){S=e[r].content.charCodeAt(0);break}const k=c0(v)||l0(String.fromCharCode(v)),N=c0(S)||l0(String.fromCharCode(S)),E=o0(v),_=o0(S);if(_?g=!1:N&&(E||k||(g=!1)),E?y=!1:k&&(_||N||(y=!1)),S===34&&m[0]==='"'&&v>=48&&v<=57&&(y=g=!1),g&&y&&(g=k,y=N),!g&&!y){b&&(s.content=Jg(s.content,m.index,Q6));continue}if(y)for(r=n.length-1;r>=0;r--){let O=n[r];if(n[r].level<l)break;if(O.single===b&&n[r].level===l){O=n[r];let j,A;b?(j=t.md.options.quotes[2],A=t.md.options.quotes[3]):(j=t.md.options.quotes[0],A=t.md.options.quotes[1]),s.content=Jg(s.content,m.index,A),e[O.token].content=Jg(e[O.token].content,O.pos,j),d+=A.length-1,O.token===a&&(d+=j.length-1),u=s.content,f=u.length,n.length=r;continue e}}g?n.push({token:a,pos:m.index,single:b,level:l}):y&&b&&(s.content=Jg(s.content,m.index,Q6))}}}function Noe(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Soe.test(e.tokens[t].content)||Coe(e.tokens[t].children,e)}function Eoe(e){let t,r;const n=e.tokens,a=n.length;for(let s=0;s<a;s++){if(n[s].type!=="inline")continue;const l=n[s].children,u=l.length;for(t=0;t<u;t++)l[t].type==="text_special"&&(l[t].type="text");for(t=r=0;t<u;t++)l[t].type==="text"&&t+1<u&&l[t+1].type==="text"?l[t+1].content=l[t].content+l[t+1].content:(t!==r&&(l[r]=l[t]),r++);t!==r&&(l.length=r)}}const zw=[["normalize",uoe],["block",doe],["inline",foe],["linkify",goe],["replacements",koe],["smartquotes",Noe],["text_join",Eoe]];function TE(){this.ruler=new ya;for(let e=0;e<zw.length;e++)this.ruler.push(zw[e][0],zw[e][1])}TE.prototype.process=function(e){const t=this.ruler.getRules("");for(let r=0,n=t.length;r<n;r++)t[r](e)};TE.prototype.State=jL;function Si(e,t,r,n){this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const a=this.src;for(let s=0,l=0,u=0,d=0,f=a.length,m=!1;l<f;l++){const g=a.charCodeAt(l);if(!m)if(ar(g)){u++,g===9?d+=4-d%4:d++;continue}else m=!0;(g===10||l===f-1)&&(g!==10&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(u),this.sCount.push(d),this.bsCount.push(0),m=!1,u=0,d=0,s=l+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Si.prototype.push=function(e,t,r){const n=new Vs(e,t,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Si.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Si.prototype.skipEmptyLines=function(t){for(let r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Si.prototype.skipSpaces=function(t){for(let r=this.src.length;t<r;t++){const n=this.src.charCodeAt(t);if(!ar(n))break}return t};Si.prototype.skipSpacesBack=function(t,r){if(t<=r)return t;for(;t>r;)if(!ar(this.src.charCodeAt(--t)))return t+1;return t};Si.prototype.skipChars=function(t,r){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};Si.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};Si.prototype.getLines=function(t,r,n,a){if(t>=r)return"";const s=new Array(r-t);for(let l=0,u=t;u<r;u++,l++){let d=0;const f=this.bMarks[u];let m=f,g;for(u+1<r||a?g=this.eMarks[u]+1:g=this.eMarks[u];m<g&&d<n;){const y=this.src.charCodeAt(m);if(ar(y))y===9?d+=4-(d+this.bsCount[u])%4:d++;else if(m-f<this.tShift[u])d++;else break;m++}d>n?s[l]=new Array(d-n+1).join(" ")+this.src.slice(m,g):s[l]=this.src.slice(m,g)}return s.join("")};Si.prototype.Token=Vs;const _oe=65536;function $w(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];return e.src.slice(r,n)}function Z6(e){const t=[],r=e.length;let n=0,a=e.charCodeAt(n),s=!1,l=0,u="";for(;n<r;)a===124&&(s?(u+=e.substring(l,n-1),l=n):(t.push(u+e.substring(l,n)),u="",l=n+1)),s=a===92,n++,a=e.charCodeAt(n);return t.push(u+e.substring(l)),t}function joe(e,t,r,n){if(t+2>r)return!1;let a=t+1;if(e.sCount[a]<e.blkIndent||e.sCount[a]-e.blkIndent>=4)return!1;let s=e.bMarks[a]+e.tShift[a];if(s>=e.eMarks[a])return!1;const l=e.src.charCodeAt(s++);if(l!==124&&l!==45&&l!==58||s>=e.eMarks[a])return!1;const u=e.src.charCodeAt(s++);if(u!==124&&u!==45&&u!==58&&!ar(u)||l===45&&ar(u))return!1;for(;s<e.eMarks[a];){const O=e.src.charCodeAt(s);if(O!==124&&O!==45&&O!==58&&!ar(O))return!1;s++}let d=$w(e,t+1),f=d.split("|");const m=[];for(let O=0;O<f.length;O++){const j=f[O].trim();if(!j){if(O===0||O===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(j))return!1;j.charCodeAt(j.length-1)===58?m.push(j.charCodeAt(0)===58?"center":"right"):j.charCodeAt(0)===58?m.push("left"):m.push("")}if(d=$w(e,t).trim(),d.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;f=Z6(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop();const g=f.length;if(g===0||g!==m.length)return!1;if(n)return!0;const y=e.parentType;e.parentType="table";const b=e.md.block.ruler.getRules("blockquote"),v=e.push("table_open","table",1),S=[t,0];v.map=S;const k=e.push("thead_open","thead",1);k.map=[t,t+1];const N=e.push("tr_open","tr",1);N.map=[t,t+1];for(let O=0;O<f.length;O++){const j=e.push("th_open","th",1);m[O]&&(j.attrs=[["style","text-align:"+m[O]]]);const A=e.push("inline","",0);A.content=f[O].trim(),A.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let E,_=0;for(a=t+2;a<r&&!(e.sCount[a]<e.blkIndent);a++){let O=!1;for(let A=0,R=b.length;A<R;A++)if(b[A](e,a,r,!0)){O=!0;break}if(O||(d=$w(e,a).trim(),!d)||e.sCount[a]-e.blkIndent>=4||(f=Z6(d),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),_+=g-f.length,_>_oe))break;if(a===t+2){const A=e.push("tbody_open","tbody",1);A.map=E=[t+2,0]}const j=e.push("tr_open","tr",1);j.map=[a,a+1];for(let A=0;A<g;A++){const R=e.push("td_open","td",1);m[A]&&(R.attrs=[["style","text-align:"+m[A]]]);const U=e.push("inline","",0);U.content=f[A]?f[A].trim():"",U.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return E&&(e.push("tbody_close","tbody",-1),E[1]=a),e.push("table_close","table",-1),S[1]=a,e.parentType=y,e.line=a,!0}function Aoe(e,t,r){if(e.sCount[t]-e.blkIndent<4)return!1;let n=t+1,a=n;for(;n<r;){if(e.isEmpty(n)){n++;continue}if(e.sCount[n]-e.blkIndent>=4){n++,a=n;continue}break}e.line=a;const s=e.push("code_block","code",0);return s.content=e.getLines(t,a,4+e.blkIndent,!1)+`
`,s.map=[t,e.line],!0}function Toe(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||a+3>s)return!1;const l=e.src.charCodeAt(a);if(l!==126&&l!==96)return!1;let u=a;a=e.skipChars(a,l);let d=a-u;if(d<3)return!1;const f=e.src.slice(u,a),m=e.src.slice(a,s);if(l===96&&m.indexOf(String.fromCharCode(l))>=0)return!1;if(n)return!0;let g=t,y=!1;for(;g++,!(g>=r||(a=u=e.bMarks[g]+e.tShift[g],s=e.eMarks[g],a<s&&e.sCount[g]<e.blkIndent));)if(e.src.charCodeAt(a)===l&&!(e.sCount[g]-e.blkIndent>=4)&&(a=e.skipChars(a,l),!(a-u<d)&&(a=e.skipSpaces(a),!(a<s)))){y=!0;break}d=e.sCount[t],e.line=g+(y?1:0);const b=e.push("fence","code",0);return b.info=m,b.content=e.getLines(t+1,g,d,!0),b.markup=f,b.map=[t,e.line],!0}function Ioe(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];const l=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==62)return!1;if(n)return!0;const u=[],d=[],f=[],m=[],g=e.md.block.ruler.getRules("blockquote"),y=e.parentType;e.parentType="blockquote";let b=!1,v;for(v=t;v<r;v++){const _=e.sCount[v]<e.blkIndent;if(a=e.bMarks[v]+e.tShift[v],s=e.eMarks[v],a>=s)break;if(e.src.charCodeAt(a++)===62&&!_){let j=e.sCount[v]+1,A,R;e.src.charCodeAt(a)===32?(a++,j++,R=!1,A=!0):e.src.charCodeAt(a)===9?(A=!0,(e.bsCount[v]+j)%4===3?(a++,j++,R=!1):R=!0):A=!1;let U=j;for(u.push(e.bMarks[v]),e.bMarks[v]=a;a<s;){const V=e.src.charCodeAt(a);if(ar(V))V===9?U+=4-(U+e.bsCount[v]+(R?1:0))%4:U++;else break;a++}b=a>=s,d.push(e.bsCount[v]),e.bsCount[v]=e.sCount[v]+1+(A?1:0),f.push(e.sCount[v]),e.sCount[v]=U-j,m.push(e.tShift[v]),e.tShift[v]=a-e.bMarks[v];continue}if(b)break;let O=!1;for(let j=0,A=g.length;j<A;j++)if(g[j](e,v,r,!0)){O=!0;break}if(O){e.lineMax=v,e.blkIndent!==0&&(u.push(e.bMarks[v]),d.push(e.bsCount[v]),m.push(e.tShift[v]),f.push(e.sCount[v]),e.sCount[v]-=e.blkIndent);break}u.push(e.bMarks[v]),d.push(e.bsCount[v]),m.push(e.tShift[v]),f.push(e.sCount[v]),e.sCount[v]=-1}const S=e.blkIndent;e.blkIndent=0;const k=e.push("blockquote_open","blockquote",1);k.markup=">";const N=[t,0];k.map=N,e.md.block.tokenize(e,t,v);const E=e.push("blockquote_close","blockquote",-1);E.markup=">",e.lineMax=l,e.parentType=y,N[1]=e.line;for(let _=0;_<m.length;_++)e.bMarks[_+t]=u[_],e.tShift[_+t]=m[_],e.sCount[_+t]=f[_],e.bsCount[_+t]=d[_];return e.blkIndent=S,!0}function Ooe(e,t,r,n){const a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.bMarks[t]+e.tShift[t];const l=e.src.charCodeAt(s++);if(l!==42&&l!==45&&l!==95)return!1;let u=1;for(;s<a;){const f=e.src.charCodeAt(s++);if(f!==l&&!ar(f))return!1;f===l&&u++}if(u<3)return!1;if(n)return!0;e.line=t+1;const d=e.push("hr","hr",0);return d.map=[t,e.line],d.markup=Array(u+1).join(String.fromCharCode(l)),!0}function eI(e,t){const r=e.eMarks[t];let n=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(n++);if(a!==42&&a!==45&&a!==43)return-1;if(n<r){const s=e.src.charCodeAt(n);if(!ar(s))return-1}return n}function tI(e,t){const r=e.bMarks[t]+e.tShift[t],n=e.eMarks[t];let a=r;if(a+1>=n)return-1;let s=e.src.charCodeAt(a++);if(s<48||s>57)return-1;for(;;){if(a>=n)return-1;if(s=e.src.charCodeAt(a++),s>=48&&s<=57){if(a-r>=10)return-1;continue}if(s===41||s===46)break;return-1}return a<n&&(s=e.src.charCodeAt(a),!ar(s))?-1:a}function Moe(e,t){const r=e.level+2;for(let n=t+2,a=e.tokens.length-2;n<a;n++)e.tokens[n].level===r&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}function Roe(e,t,r,n){let a,s,l,u,d=t,f=!0;if(e.sCount[d]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[d]-e.listIndent>=4&&e.sCount[d]<e.blkIndent)return!1;let m=!1;n&&e.parentType==="paragraph"&&e.sCount[d]>=e.blkIndent&&(m=!0);let g,y,b;if((b=tI(e,d))>=0){if(g=!0,l=e.bMarks[d]+e.tShift[d],y=Number(e.src.slice(l,b-1)),m&&y!==1)return!1}else if((b=eI(e,d))>=0)g=!1;else return!1;if(m&&e.skipSpaces(b)>=e.eMarks[d])return!1;if(n)return!0;const v=e.src.charCodeAt(b-1),S=e.tokens.length;g?(u=e.push("ordered_list_open","ol",1),y!==1&&(u.attrs=[["start",y]])):u=e.push("bullet_list_open","ul",1);const k=[d,0];u.map=k,u.markup=String.fromCharCode(v);let N=!1;const E=e.md.block.ruler.getRules("list"),_=e.parentType;for(e.parentType="list";d<r;){s=b,a=e.eMarks[d];const O=e.sCount[d]+b-(e.bMarks[d]+e.tShift[d]);let j=O;for(;s<a;){const le=e.src.charCodeAt(s);if(le===9)j+=4-(j+e.bsCount[d])%4;else if(le===32)j++;else break;s++}const A=s;let R;A>=a?R=1:R=j-O,R>4&&(R=1);const U=O+R;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(v);const V=[d,0];u.map=V,g&&(u.info=e.src.slice(l,b-1));const W=e.tight,G=e.tShift[d],$=e.sCount[d],z=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=U,e.tight=!0,e.tShift[d]=A-e.bMarks[d],e.sCount[d]=j,A>=a&&e.isEmpty(d+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,d,r,!0),(!e.tight||N)&&(f=!1),N=e.line-d>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=z,e.tShift[d]=G,e.sCount[d]=$,e.tight=W,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(v),d=e.line,V[1]=d,d>=r||e.sCount[d]<e.blkIndent||e.sCount[d]-e.blkIndent>=4)break;let Y=!1;for(let le=0,H=E.length;le<H;le++)if(E[le](e,d,r,!0)){Y=!0;break}if(Y)break;if(g){if(b=tI(e,d),b<0)break;l=e.bMarks[d]+e.tShift[d]}else if(b=eI(e,d),b<0)break;if(v!==e.src.charCodeAt(b-1))break}return g?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(v),k[1]=d,e.line=d,e.parentType=_,f&&Moe(e,S),!0}function Doe(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],l=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(a)!==91)return!1;function u(E){const _=e.lineMax;if(E>=_||e.isEmpty(E))return null;let O=!1;if(e.sCount[E]-e.blkIndent>3&&(O=!0),e.sCount[E]<0&&(O=!0),!O){const R=e.md.block.ruler.getRules("reference"),U=e.parentType;e.parentType="reference";let V=!1;for(let W=0,G=R.length;W<G;W++)if(R[W](e,E,_,!0)){V=!0;break}if(e.parentType=U,V)return null}const j=e.bMarks[E]+e.tShift[E],A=e.eMarks[E];return e.src.slice(j,A+1)}let d=e.src.slice(a,s+1);s=d.length;let f=-1;for(a=1;a<s;a++){const E=d.charCodeAt(a);if(E===91)return!1;if(E===93){f=a;break}else if(E===10){const _=u(l);_!==null&&(d+=_,s=d.length,l++)}else if(E===92&&(a++,a<s&&d.charCodeAt(a)===10)){const _=u(l);_!==null&&(d+=_,s=d.length,l++)}}if(f<0||d.charCodeAt(f+1)!==58)return!1;for(a=f+2;a<s;a++){const E=d.charCodeAt(a);if(E===10){const _=u(l);_!==null&&(d+=_,s=d.length,l++)}else if(!ar(E))break}const m=e.md.helpers.parseLinkDestination(d,a,s);if(!m.ok)return!1;const g=e.md.normalizeLink(m.str);if(!e.md.validateLink(g))return!1;a=m.pos;const y=a,b=l,v=a;for(;a<s;a++){const E=d.charCodeAt(a);if(E===10){const _=u(l);_!==null&&(d+=_,s=d.length,l++)}else if(!ar(E))break}let S=e.md.helpers.parseLinkTitle(d,a,s);for(;S.can_continue;){const E=u(l);if(E===null)break;d+=E,a=s,s=d.length,l++,S=e.md.helpers.parseLinkTitle(d,a,s,S)}let k;for(a<s&&v!==a&&S.ok?(k=S.str,a=S.pos):(k="",a=y,l=b);a<s;){const E=d.charCodeAt(a);if(!ar(E))break;a++}if(a<s&&d.charCodeAt(a)!==10&&k)for(k="",a=y,l=b;a<s;){const E=d.charCodeAt(a);if(!ar(E))break;a++}if(a<s&&d.charCodeAt(a)!==10)return!1;const N=sb(d.slice(1,f));return N?(n||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[N]>"u"&&(e.env.references[N]={title:k,href:g}),e.line=l),!0):!1}const Poe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Loe="[a-zA-Z_:][a-zA-Z0-9:._-]*",Uoe="[^\"'=<>`\\x00-\\x20]+",Foe="'[^']*'",Boe='"[^"]*"',zoe="(?:"+Uoe+"|"+Foe+"|"+Boe+")",$oe="(?:\\s+"+Loe+"(?:\\s*=\\s*"+zoe+")?)",TL="<[A-Za-z][A-Za-z0-9\\-]*"+$oe+"*\\s*\\/?>",IL="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Hoe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",qoe="<[?][\\s\\S]*?[?]>",Koe="<![A-Za-z][^>]*>",Goe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Woe=new RegExp("^(?:"+TL+"|"+IL+"|"+Hoe+"|"+qoe+"|"+Koe+"|"+Goe+")"),Voe=new RegExp("^(?:"+TL+"|"+IL+")"),Zu=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Poe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Voe.source+"\\s*$"),/^$/,!1]];function Yoe(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(a)!==60)return!1;let l=e.src.slice(a,s),u=0;for(;u<Zu.length&&!Zu[u][0].test(l);u++);if(u===Zu.length)return!1;if(n)return Zu[u][2];let d=t+1;if(!Zu[u][1].test(l)){for(;d<r&&!(e.sCount[d]<e.blkIndent);d++)if(a=e.bMarks[d]+e.tShift[d],s=e.eMarks[d],l=e.src.slice(a,s),Zu[u][1].test(l)){l.length!==0&&d++;break}}e.line=d;const f=e.push("html_block","",0);return f.map=[t,d],f.content=e.getLines(t,d,e.blkIndent,!0),!0}function Xoe(e,t,r,n){let a=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let l=e.src.charCodeAt(a);if(l!==35||a>=s)return!1;let u=1;for(l=e.src.charCodeAt(++a);l===35&&a<s&&u<=6;)u++,l=e.src.charCodeAt(++a);if(u>6||a<s&&!ar(l))return!1;if(n)return!0;s=e.skipSpacesBack(s,a);const d=e.skipCharsBack(s,35,a);d>a&&ar(e.src.charCodeAt(d-1))&&(s=d),e.line=t+1;const f=e.push("heading_open","h"+String(u),1);f.markup="########".slice(0,u),f.map=[t,e.line];const m=e.push("inline","",0);m.content=e.src.slice(a,s).trim(),m.map=[t,e.line],m.children=[];const g=e.push("heading_close","h"+String(u),-1);return g.markup="########".slice(0,u),!0}function Joe(e,t,r){const n=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const a=e.parentType;e.parentType="paragraph";let s=0,l,u=t+1;for(;u<r&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let b=e.bMarks[u]+e.tShift[u];const v=e.eMarks[u];if(b<v&&(l=e.src.charCodeAt(b),(l===45||l===61)&&(b=e.skipChars(b,l),b=e.skipSpaces(b),b>=v))){s=l===61?1:2;break}}if(e.sCount[u]<0)continue;let y=!1;for(let b=0,v=n.length;b<v;b++)if(n[b](e,u,r,!0)){y=!0;break}if(y)break}if(!s)return!1;const d=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const f=e.push("heading_open","h"+String(s),1);f.markup=String.fromCharCode(l),f.map=[t,e.line];const m=e.push("inline","",0);m.content=d,m.map=[t,e.line-1],m.children=[];const g=e.push("heading_close","h"+String(s),-1);return g.markup=String.fromCharCode(l),e.parentType=a,!0}function Qoe(e,t,r){const n=e.md.block.ruler.getRules("paragraph"),a=e.parentType;let s=t+1;for(e.parentType="paragraph";s<r&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)continue;let f=!1;for(let m=0,g=n.length;m<g;m++)if(n[m](e,s,r,!0)){f=!0;break}if(f)break}const l=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const d=e.push("inline","",0);return d.content=l,d.map=[t,e.line],d.children=[],e.push("paragraph_close","p",-1),e.parentType=a,!0}const Qg=[["table",joe,["paragraph","reference"]],["code",Aoe],["fence",Toe,["paragraph","reference","blockquote","list"]],["blockquote",Ioe,["paragraph","reference","blockquote","list"]],["hr",Ooe,["paragraph","reference","blockquote","list"]],["list",Roe,["paragraph","reference","blockquote"]],["reference",Doe],["html_block",Yoe,["paragraph","reference","blockquote"]],["heading",Xoe,["paragraph","reference","blockquote"]],["lheading",Joe],["paragraph",Qoe]];function ib(){this.ruler=new ya;for(let e=0;e<Qg.length;e++)this.ruler.push(Qg[e][0],Qg[e][1],{alt:(Qg[e][2]||[]).slice()})}ib.prototype.tokenize=function(e,t,r){const n=this.ruler.getRules(""),a=n.length,s=e.md.options.maxNesting;let l=t,u=!1;for(;l<r&&(e.line=l=e.skipEmptyLines(l),!(l>=r||e.sCount[l]<e.blkIndent));){if(e.level>=s){e.line=r;break}const d=e.line;let f=!1;for(let m=0;m<a;m++)if(f=n[m](e,l,r,!1),f){if(d>=e.line)throw new Error("block rule didn't increment state.line");break}if(!f)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),l=e.line,l<r&&e.isEmpty(l)&&(u=!0,l++,e.line=l)}};ib.prototype.parse=function(e,t,r,n){if(!e)return;const a=new this.State(e,t,r,n);this.tokenize(a,a.line,a.lineMax)};ib.prototype.State=Si;function K0(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}K0.prototype.pushPending=function(){const e=new Vs("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};K0.prototype.push=function(e,t,r){this.pending&&this.pushPending();const n=new Vs(e,t,r);let a=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(a),n};K0.prototype.scanDelims=function(e,t){const r=this.posMax,n=this.src.charCodeAt(e),a=e>0?this.src.charCodeAt(e-1):32;let s=e;for(;s<r&&this.src.charCodeAt(s)===n;)s++;const l=s-e,u=s<r?this.src.charCodeAt(s):32,d=c0(a)||l0(String.fromCharCode(a)),f=c0(u)||l0(String.fromCharCode(u)),m=o0(a),g=o0(u),y=!g&&(!f||m||d),b=!m&&(!d||g||f);return{can_open:y&&(t||!b||d),can_close:b&&(t||!y||f),length:l}};K0.prototype.Token=Vs;function Zoe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function ele(e,t){let r=e.pos;for(;r<e.posMax&&!Zoe(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}const tle=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function rle(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const r=e.pos,n=e.posMax;if(r+3>n||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47)return!1;const a=e.pending.match(tle);if(!a)return!1;const s=a[1],l=e.md.linkify.matchAtStart(e.src.slice(r-s.length));if(!l)return!1;let u=l.url;if(u.length<=s.length)return!1;u=u.replace(/\*+$/,"");const d=e.md.normalizeLink(u);if(!e.md.validateLink(d))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const f=e.push("link_open","a",1);f.attrs=[["href",d]],f.markup="linkify",f.info="auto";const m=e.push("text","",0);m.content=e.md.normalizeLinkText(u);const g=e.push("link_close","a",-1);g.markup="linkify",g.info="auto"}return e.pos+=u.length-s.length,!0}function nle(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==10)return!1;const n=e.pending.length-1,a=e.posMax;if(!t)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){let s=n-1;for(;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(r++;r<a&&ar(e.src.charCodeAt(r));)r++;return e.pos=r,!0}const IE=[];for(let e=0;e<256;e++)IE.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){IE[e.charCodeAt(0)]=1});function ale(e,t){let r=e.pos;const n=e.posMax;if(e.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let a=e.src.charCodeAt(r);if(a===10){for(t||e.push("hardbreak","br",0),r++;r<n&&(a=e.src.charCodeAt(r),!!ar(a));)r++;return e.pos=r,!0}let s=e.src[r];if(a>=55296&&a<=56319&&r+1<n){const u=e.src.charCodeAt(r+1);u>=56320&&u<=57343&&(s+=e.src[r+1],r++)}const l="\\"+s;if(!t){const u=e.push("text_special","",0);a<256&&IE[a]!==0?u.content=s:u.content=l,u.markup=l,u.info="escape"}return e.pos=r+1,!0}function sle(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==96)return!1;const a=r;r++;const s=e.posMax;for(;r<s&&e.src.charCodeAt(r)===96;)r++;const l=e.src.slice(a,r),u=l.length;if(e.backticksScanned&&(e.backticks[u]||0)<=a)return t||(e.pending+=l),e.pos+=u,!0;let d=r,f;for(;(f=e.src.indexOf("`",d))!==-1;){for(d=f+1;d<s&&e.src.charCodeAt(d)===96;)d++;const m=d-f;if(m===u){if(!t){const g=e.push("code_inline","code",0);g.markup=l,g.content=e.src.slice(r,f).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=d,!0}e.backticks[m]=f}return e.backticksScanned=!0,t||(e.pending+=l),e.pos+=u,!0}function ile(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==126)return!1;const a=e.scanDelims(e.pos,!0);let s=a.length;const l=String.fromCharCode(n);if(s<2)return!1;let u;s%2&&(u=e.push("text","",0),u.content=l,s--);for(let d=0;d<s;d+=2)u=e.push("text","",0),u.content=l+l,e.delimiters.push({marker:n,length:0,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close});return e.pos+=a.length,!0}function rI(e,t){let r;const n=[],a=t.length;for(let s=0;s<a;s++){const l=t[s];if(l.marker!==126||l.end===-1)continue;const u=t[l.end];r=e.tokens[l.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=e.tokens[u.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&n.push(u.token-1)}for(;n.length;){const s=n.pop();let l=s+1;for(;l<e.tokens.length&&e.tokens[l].type==="s_close";)l++;l--,s!==l&&(r=e.tokens[l],e.tokens[l]=e.tokens[s],e.tokens[s]=r)}}function ole(e){const t=e.tokens_meta,r=e.tokens_meta.length;rI(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&rI(e,t[n].delimiters)}const OL={tokenize:ile,postProcess:ole};function lle(e,t){const r=e.pos,n=e.src.charCodeAt(r);if(t||n!==95&&n!==42)return!1;const a=e.scanDelims(e.pos,n===42);for(let s=0;s<a.length;s++){const l=e.push("text","",0);l.content=String.fromCharCode(n),e.delimiters.push({marker:n,length:a.length,token:e.tokens.length-1,end:-1,open:a.can_open,close:a.can_close})}return e.pos+=a.length,!0}function nI(e,t){const r=t.length;for(let n=r-1;n>=0;n--){const a=t[n];if(a.marker!==95&&a.marker!==42||a.end===-1)continue;const s=t[a.end],l=n>0&&t[n-1].end===a.end+1&&t[n-1].marker===a.marker&&t[n-1].token===a.token-1&&t[a.end+1].token===s.token+1,u=String.fromCharCode(a.marker),d=e.tokens[a.token];d.type=l?"strong_open":"em_open",d.tag=l?"strong":"em",d.nesting=1,d.markup=l?u+u:u,d.content="";const f=e.tokens[s.token];f.type=l?"strong_close":"em_close",f.tag=l?"strong":"em",f.nesting=-1,f.markup=l?u+u:u,f.content="",l&&(e.tokens[t[n-1].token].content="",e.tokens[t[a.end+1].token].content="",n--)}}function cle(e){const t=e.tokens_meta,r=e.tokens_meta.length;nI(e,e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&nI(e,t[n].delimiters)}const ML={tokenize:lle,postProcess:cle};function ule(e,t){let r,n,a,s,l="",u="",d=e.pos,f=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const m=e.pos,g=e.posMax,y=e.pos+1,b=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(b<0)return!1;let v=b+1;if(v<g&&e.src.charCodeAt(v)===40){for(f=!1,v++;v<g&&(r=e.src.charCodeAt(v),!(!ar(r)&&r!==10));v++);if(v>=g)return!1;if(d=v,a=e.md.helpers.parseLinkDestination(e.src,v,e.posMax),a.ok){for(l=e.md.normalizeLink(a.str),e.md.validateLink(l)?v=a.pos:l="",d=v;v<g&&(r=e.src.charCodeAt(v),!(!ar(r)&&r!==10));v++);if(a=e.md.helpers.parseLinkTitle(e.src,v,e.posMax),v<g&&d!==v&&a.ok)for(u=a.str,v=a.pos;v<g&&(r=e.src.charCodeAt(v),!(!ar(r)&&r!==10));v++);}(v>=g||e.src.charCodeAt(v)!==41)&&(f=!0),v++}if(f){if(typeof e.env.references>"u")return!1;if(v<g&&e.src.charCodeAt(v)===91?(d=v+1,v=e.md.helpers.parseLinkLabel(e,v),v>=0?n=e.src.slice(d,v++):v=b+1):v=b+1,n||(n=e.src.slice(y,b)),s=e.env.references[sb(n)],!s)return e.pos=m,!1;l=s.href,u=s.title}if(!t){e.pos=y,e.posMax=b;const S=e.push("link_open","a",1),k=[["href",l]];S.attrs=k,u&&k.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=v,e.posMax=g,!0}function dle(e,t){let r,n,a,s,l,u,d,f,m="";const g=e.pos,y=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const b=e.pos+2,v=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(v<0)return!1;if(s=v+1,s<y&&e.src.charCodeAt(s)===40){for(s++;s<y&&(r=e.src.charCodeAt(s),!(!ar(r)&&r!==10));s++);if(s>=y)return!1;for(f=s,u=e.md.helpers.parseLinkDestination(e.src,s,e.posMax),u.ok&&(m=e.md.normalizeLink(u.str),e.md.validateLink(m)?s=u.pos:m=""),f=s;s<y&&(r=e.src.charCodeAt(s),!(!ar(r)&&r!==10));s++);if(u=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<y&&f!==s&&u.ok)for(d=u.str,s=u.pos;s<y&&(r=e.src.charCodeAt(s),!(!ar(r)&&r!==10));s++);else d="";if(s>=y||e.src.charCodeAt(s)!==41)return e.pos=g,!1;s++}else{if(typeof e.env.references>"u")return!1;if(s<y&&e.src.charCodeAt(s)===91?(f=s+1,s=e.md.helpers.parseLinkLabel(e,s),s>=0?a=e.src.slice(f,s++):s=v+1):s=v+1,a||(a=e.src.slice(b,v)),l=e.env.references[sb(a)],!l)return e.pos=g,!1;m=l.href,d=l.title}if(!t){n=e.src.slice(b,v);const S=[];e.md.inline.parse(n,e.md,e.env,S);const k=e.push("image","img",0),N=[["src",m],["alt",""]];k.attrs=N,k.children=S,k.content=n,d&&N.push(["title",d])}return e.pos=s,e.posMax=y,!0}const fle=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,hle=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function mle(e,t){let r=e.pos;if(e.src.charCodeAt(r)!==60)return!1;const n=e.pos,a=e.posMax;for(;;){if(++r>=a)return!1;const l=e.src.charCodeAt(r);if(l===60)return!1;if(l===62)break}const s=e.src.slice(n+1,r);if(hle.test(s)){const l=e.md.normalizeLink(s);if(!e.md.validateLink(l))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",l]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=s.length+2,!0}if(fle.test(s)){const l=e.md.normalizeLink("mailto:"+s);if(!e.md.validateLink(l))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",l]],u.markup="autolink",u.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(s);const f=e.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return e.pos+=s.length+2,!0}return!1}function gle(e){return/^<a[>\s]/i.test(e)}function ple(e){return/^<\/a\s*>/i.test(e)}function yle(e){const t=e|32;return t>=97&&t<=122}function xle(e,t){if(!e.md.options.html)return!1;const r=e.posMax,n=e.pos;if(e.src.charCodeAt(n)!==60||n+2>=r)return!1;const a=e.src.charCodeAt(n+1);if(a!==33&&a!==63&&a!==47&&!yle(a))return!1;const s=e.src.slice(n).match(Woe);if(!s)return!1;if(!t){const l=e.push("html_inline","",0);l.content=s[0],gle(l.content)&&e.linkLevel++,ple(l.content)&&e.linkLevel--}return e.pos+=s[0].length,!0}const ble=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,vle=/^&([a-z][a-z0-9]{1,31});/i;function wle(e,t){const r=e.pos,n=e.posMax;if(e.src.charCodeAt(r)!==38||r+1>=n)return!1;if(e.src.charCodeAt(r+1)===35){const s=e.src.slice(r).match(ble);if(s){if(!t){const l=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),u=e.push("text_special","",0);u.content=AE(l)?Sy(l):Sy(65533),u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(r).match(vle);if(s){const l=NL(s[0]);if(l!==s[0]){if(!t){const u=e.push("text_special","",0);u.content=l,u.markup=s[0],u.info="entity"}return e.pos+=s[0].length,!0}}}return!1}function aI(e){const t={},r=e.length;if(!r)return;let n=0,a=-2;const s=[];for(let l=0;l<r;l++){const u=e[l];if(s.push(0),(e[n].marker!==u.marker||a!==u.token-1)&&(n=l),a=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const d=t[u.marker][(u.open?3:0)+u.length%3];let f=n-s[n]-1,m=f;for(;f>d;f-=s[f]+1){const g=e[f];if(g.marker===u.marker&&g.open&&g.end<0){let y=!1;if((g.close||u.open)&&(g.length+u.length)%3===0&&(g.length%3!==0||u.length%3!==0)&&(y=!0),!y){const b=f>0&&!e[f-1].open?s[f-1]+1:0;s[l]=l-f+b,s[f]=b,u.open=!1,g.end=l,g.close=!1,m=-1,a=-2;break}}}m!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=m)}}function kle(e){const t=e.tokens_meta,r=e.tokens_meta.length;aI(e.delimiters);for(let n=0;n<r;n++)t[n]&&t[n].delimiters&&aI(t[n].delimiters)}function Sle(e){let t,r,n=0;const a=e.tokens,s=e.tokens.length;for(t=r=0;t<s;t++)a[t].nesting<0&&n--,a[t].level=n,a[t].nesting>0&&n++,a[t].type==="text"&&t+1<s&&a[t+1].type==="text"?a[t+1].content=a[t].content+a[t+1].content:(t!==r&&(a[r]=a[t]),r++);t!==r&&(a.length=r)}const Hw=[["text",ele],["linkify",rle],["newline",nle],["escape",ale],["backticks",sle],["strikethrough",OL.tokenize],["emphasis",ML.tokenize],["link",ule],["image",dle],["autolink",mle],["html_inline",xle],["entity",wle]],qw=[["balance_pairs",kle],["strikethrough",OL.postProcess],["emphasis",ML.postProcess],["fragments_join",Sle]];function G0(){this.ruler=new ya;for(let e=0;e<Hw.length;e++)this.ruler.push(Hw[e][0],Hw[e][1]);this.ruler2=new ya;for(let e=0;e<qw.length;e++)this.ruler2.push(qw[e][0],qw[e][1])}G0.prototype.skipToken=function(e){const t=e.pos,r=this.ruler.getRules(""),n=r.length,a=e.md.options.maxNesting,s=e.cache;if(typeof s[t]<"u"){e.pos=s[t];return}let l=!1;if(e.level<a){for(let u=0;u<n;u++)if(e.level++,l=r[u](e,!0),e.level--,l){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;l||e.pos++,s[t]=e.pos};G0.prototype.tokenize=function(e){const t=this.ruler.getRules(""),r=t.length,n=e.posMax,a=e.md.options.maxNesting;for(;e.pos<n;){const s=e.pos;let l=!1;if(e.level<a){for(let u=0;u<r;u++)if(l=t[u](e,!1),l){if(s>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(l){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};G0.prototype.parse=function(e,t,r,n){const a=new this.State(e,t,r,n);this.tokenize(a);const s=this.ruler2.getRules(""),l=s.length;for(let u=0;u<l;u++)s[u](a)};G0.prototype.State=K0;function Cle(e){const t={};e=e||{},t.src_Any=vL.source,t.src_Cc=wL.source,t.src_Z=SL.source,t.src_P=_E.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const r="[><]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function A2(e){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){e[n]=r[n]})}),e}function ob(e){return Object.prototype.toString.call(e)}function Nle(e){return ob(e)==="[object String]"}function Ele(e){return ob(e)==="[object Object]"}function _le(e){return ob(e)==="[object RegExp]"}function sI(e){return ob(e)==="[object Function]"}function jle(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const RL={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ale(e){return Object.keys(e||{}).reduce(function(t,r){return t||RL.hasOwnProperty(r)},!1)}const Tle={"http:":{validate:function(e,t,r){const n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){const n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){const n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},Ile="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Ole="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Mle(e){e.__index__=-1,e.__text_cache__=""}function Rle(e){return function(t,r){const n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}function iI(){return function(e,t){t.normalize(e)}}function Cy(e){const t=e.re=Cle(e.__opts__),r=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||r.push(Ile),r.push(t.src_xn),t.src_tlds=r.join("|");function n(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");const a=[];e.__compiled__={};function s(u,d){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+d)}Object.keys(e.__schemas__).forEach(function(u){const d=e.__schemas__[u];if(d===null)return;const f={validate:null,link:null};if(e.__compiled__[u]=f,Ele(d)){_le(d.validate)?f.validate=Rle(d.validate):sI(d.validate)?f.validate=d.validate:s(u,d),sI(d.normalize)?f.normalize=d.normalize:d.normalize?s(u,d):f.normalize=iI();return}if(Nle(d)){a.push(u);return}s(u,d)}),a.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:iI()};const l=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(jle).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Mle(e)}function Dle(e,t){const r=e.__index__,n=e.__last_index__,a=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=a,this.text=a,this.url=a}function T2(e,t){const r=new Dle(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function za(e,t){if(!(this instanceof za))return new za(e,t);t||Ale(e)&&(t=e,e={}),this.__opts__=A2({},RL,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=A2({},Tle,e),this.__compiled__={},this.__tlds__=Ole,this.__tlds_replaced__=!1,this.re={},Cy(this)}za.prototype.add=function(t,r){return this.__schemas__[t]=r,Cy(this),this};za.prototype.set=function(t){return this.__opts__=A2(this.__opts__,t),this};za.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let r,n,a,s,l,u,d,f,m;if(this.re.schema_test.test(t)){for(d=this.re.schema_search,d.lastIndex=0;(r=d.exec(t))!==null;)if(s=this.testSchemaAt(t,r[2],d.lastIndex),s){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=t.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(l=n.index+n[1].length,(this.__index__<0||l<this.__index__)&&(this.__schema__="",this.__index__=l,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(m=t.indexOf("@"),m>=0&&(a=t.match(this.re.email_fuzzy))!==null&&(l=a.index+a[1].length,u=a.index+a[0].length,(this.__index__<0||l<this.__index__||l===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=l,this.__last_index__=u))),this.__index__>=0};za.prototype.pretest=function(t){return this.re.pretest.test(t)};za.prototype.testSchemaAt=function(t,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(t,n,this):0};za.prototype.match=function(t){const r=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(r.push(T2(this,n)),n=this.__last_index__);let a=n?t.slice(n):t;for(;this.test(a);)r.push(T2(this,n)),a=a.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};za.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const r=this.re.schema_at_start.exec(t);if(!r)return null;const n=this.testSchemaAt(t,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,T2(this,0)):null};za.prototype.tlds=function(t,r){return t=Array.isArray(t)?t:[t],r?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(n,a,s){return n!==s[a-1]}).reverse(),Cy(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Cy(this),this)};za.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};za.prototype.onCompile=function(){};const Ad=2147483647,li=36,OE=1,u0=26,Ple=38,Lle=700,DL=72,PL=128,LL="-",Ule=/^xn--/,Fle=/[^\0-\x7F]/,Ble=/[\x2E\u3002\uFF0E\uFF61]/g,zle={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Kw=li-OE,ci=Math.floor,Gw=String.fromCharCode;function il(e){throw new RangeError(zle[e])}function $le(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function UL(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(Ble,".");const a=e.split("."),s=$le(a,t).join(".");return n+s}function FL(e){const t=[];let r=0;const n=e.length;for(;r<n;){const a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){const s=e.charCodeAt(r++);(s&64512)==56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t}const Hle=e=>String.fromCodePoint(...e),qle=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:li},oI=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},BL=function(e,t,r){let n=0;for(e=r?ci(e/Lle):e>>1,e+=ci(e/t);e>Kw*u0>>1;n+=li)e=ci(e/Kw);return ci(n+(Kw+1)*e/(e+Ple))},zL=function(e){const t=[],r=e.length;let n=0,a=PL,s=DL,l=e.lastIndexOf(LL);l<0&&(l=0);for(let u=0;u<l;++u)e.charCodeAt(u)>=128&&il("not-basic"),t.push(e.charCodeAt(u));for(let u=l>0?l+1:0;u<r;){const d=n;for(let m=1,g=li;;g+=li){u>=r&&il("invalid-input");const y=qle(e.charCodeAt(u++));y>=li&&il("invalid-input"),y>ci((Ad-n)/m)&&il("overflow"),n+=y*m;const b=g<=s?OE:g>=s+u0?u0:g-s;if(y<b)break;const v=li-b;m>ci(Ad/v)&&il("overflow"),m*=v}const f=t.length+1;s=BL(n-d,f,d==0),ci(n/f)>Ad-a&&il("overflow"),a+=ci(n/f),n%=f,t.splice(n++,0,a)}return String.fromCodePoint(...t)},$L=function(e){const t=[];e=FL(e);const r=e.length;let n=PL,a=0,s=DL;for(const d of e)d<128&&t.push(Gw(d));const l=t.length;let u=l;for(l&&t.push(LL);u<r;){let d=Ad;for(const m of e)m>=n&&m<d&&(d=m);const f=u+1;d-n>ci((Ad-a)/f)&&il("overflow"),a+=(d-n)*f,n=d;for(const m of e)if(m<n&&++a>Ad&&il("overflow"),m===n){let g=a;for(let y=li;;y+=li){const b=y<=s?OE:y>=s+u0?u0:y-s;if(g<b)break;const v=g-b,S=li-b;t.push(Gw(oI(b+v%S,0))),g=ci(v/S)}t.push(Gw(oI(g,0))),s=BL(a,f,u===l),a=0,++u}++a,++n}return t.join("")},Kle=function(e){return UL(e,function(t){return Ule.test(t)?zL(t.slice(4).toLowerCase()):t})},Gle=function(e){return UL(e,function(t){return Fle.test(t)?"xn--"+$L(t):t})},HL={version:"2.3.1",ucs2:{decode:FL,encode:Hle},decode:zL,encode:$L,toASCII:Gle,toUnicode:Kle},Wle={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Vle={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Yle={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Xle={default:Wle,zero:Vle,commonmark:Yle},Jle=/^(vbscript|javascript|file|data):/,Qle=/^data:image\/(gif|png|jpeg|webp);/;function Zle(e){const t=e.trim().toLowerCase();return Jle.test(t)?Qle.test(t):!0}const qL=["http:","https:","mailto:"];function ece(e){const t=EE(e,!0);if(t.hostname&&(!t.protocol||qL.indexOf(t.protocol)>=0))try{t.hostname=HL.toASCII(t.hostname)}catch{}return q0(NE(t))}function tce(e){const t=EE(e,!0);if(t.hostname&&(!t.protocol||qL.indexOf(t.protocol)>=0))try{t.hostname=HL.toUnicode(t.hostname)}catch{}return Ud(NE(t),Ud.defaultChars+"%")}function ys(e,t){if(!(this instanceof ys))return new ys(e,t);t||jE(e)||(t=e||{},e="default"),this.inline=new G0,this.block=new ib,this.core=new TE,this.renderer=new pf,this.linkify=new za,this.validateLink=Zle,this.normalizeLink=ece,this.normalizeLinkText=tce,this.utils=noe,this.helpers=ab({},ooe),this.options={},this.configure(e),t&&this.set(t)}ys.prototype.set=function(e){return ab(this.options,e),this};ys.prototype.configure=function(e){const t=this;if(jE(e)){const r=e;if(e=Xle[r],!e)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};ys.prototype.enable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){r=r.concat(this[a].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));const n=e.filter(function(a){return r.indexOf(a)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};ys.prototype.disable=function(e,t){let r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(a){r=r.concat(this[a].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));const n=e.filter(function(a){return r.indexOf(a)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};ys.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};ys.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const r=new this.core.State(e,this,t);return this.core.process(r),r.tokens};ys.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};ys.prototype.parseInline=function(e,t){const r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens};ys.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};function KL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=KL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function At(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=KL(e))&&(n&&(n+=" "),n+=t);return n}var rce=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ME(e){if(typeof e!="string")return!1;var t=rce;return t.includes(e)}var nce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ace=new Set(nce);function GL(e){return typeof e!="string"?!1:ace.has(e)}function WL(e){return typeof e=="string"&&e.startsWith("data-")}function xs(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GL(r)||WL(r))&&(t[r]=e[r]);return t}function Bd(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return xs(t)}return typeof e=="object"&&!Array.isArray(e)?xs(e):null}function Pn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GL(r)||WL(r)||ME(r))&&(t[r]=e[r]);return t}function sce(e){return e==null?null:x.isValidElement(e)?Pn(e.props):typeof e=="object"&&!Array.isArray(e)?Pn(e):null}var ice=["children","width","height","viewBox","className","style","title","desc"];function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(null,arguments)}function oce(e,t){if(e==null)return{};var r,n,a=lce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RE=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,m=oce(e,ice),g=s||{width:n,height:a,x:0,y:0},y=At("recharts-surface",l);return x.createElement("svg",I2({},Pn(m),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),cce=["children","className"];function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(null,arguments)}function uce(e,t){if(e==null)return{};var r,n,a=dce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=uce(e,cce),s=At("recharts-layer",n);return x.createElement("g",O2({className:s},Pn(a),{ref:t}),r)}),VL=x.createContext(null),fce=()=>x.useContext(VL);function rr(e){return function(){return e}}const YL=Math.cos,Ny=Math.sin,Ys=Math.sqrt,Ey=Math.PI,lb=2*Ey,M2=Math.PI,R2=2*M2,hc=1e-6,hce=R2-hc;function XL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XL;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XL:mce(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,m=l-t,g=u-r,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>hc)if(!(Math.abs(g*d-f*m)>hc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,v=a-u,S=d*d+f*f,k=b*b+v*v,N=Math.sqrt(S),E=Math.sqrt(y),_=s*Math.tan((M2-Math.acos((S+y-k)/(2*N*E)))/2),O=_/E,j=_/N;Math.abs(O-1)>hc&&this._append`L${t+O*m},${r+O*g}`,this._append`A${s},${s},0,0,${+(g*b>m*v)},${this._x1=t+j*d},${this._y1=r+j*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,m=r+d,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>hc||Math.abs(this._y1-m)>hc)&&this._append`L${f},${m}`,n&&(y<0&&(y=y%R2+R2),y>hce?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:y>hc&&this._append`A${n},${n},0,${+(y>=M2)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function DE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gce(t)}function PE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JL(e){this._context=e}JL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cb(e){return new JL(e)}function QL(e){return e[0]}function ZL(e){return e[1]}function eU(e,t){var r=rr(!0),n=null,a=cb,s=null,l=DE(u);e=typeof e=="function"?e:e===void 0?QL:rr(e),t=typeof t=="function"?t:t===void 0?ZL:rr(t);function u(d){var f,m=(d=PE(d)).length,g,y=!1,b;for(n==null&&(s=a(b=l())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,f,d),+t(g,f,d));if(b)return s=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:rr(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:rr(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:rr(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Zg(e,t,r){var n=null,a=rr(!0),s=null,l=cb,u=null,d=DE(f);e=typeof e=="function"?e:e===void 0?QL:rr(+e),t=typeof t=="function"?t:rr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZL:rr(+r);function f(g){var y,b,v,S=(g=PE(g)).length,k,N=!1,E,_=new Array(S),O=new Array(S);for(s==null&&(u=l(E=d())),y=0;y<=S;++y){if(!(y<S&&a(k=g[y],y,g))===N)if(N=!N)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),v=y-1;v>=b;--v)u.point(_[v],O[v]);u.lineEnd(),u.areaEnd()}N&&(_[y]=+e(k,y,g),O[y]=+t(k,y,g),u.point(n?+n(k,y,g):_[y],r?+r(k,y,g):O[y]))}if(E)return u=null,E+""||null}function m(){return eU().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:rr(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:rr(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:rr(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:rr(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:rr(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:rr(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:rr(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class tU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pce(e){return new tU(e,!0)}function yce(e){return new tU(e,!1)}const LE={draw(e,t){const r=Ys(t/Ey);e.moveTo(r,0),e.arc(0,0,r,0,lb)}},xce={draw(e,t){const r=Ys(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rU=Ys(1/3),bce=rU*2,vce={draw(e,t){const r=Ys(t/bce),n=r*rU;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wce={draw(e,t){const r=Ys(t),n=-r/2;e.rect(n,n,r,r)}},kce=.8908130915292852,nU=Ny(Ey/10)/Ny(7*Ey/10),Sce=Ny(lb/10)*nU,Cce=-YL(lb/10)*nU,Nce={draw(e,t){const r=Ys(t*kce),n=Sce*r,a=Cce*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=lb*s/5,u=YL(l),d=Ny(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*a,d*n+u*a)}e.closePath()}},Ww=Ys(3),Ece={draw(e,t){const r=-Ys(t/(Ww*3));e.moveTo(0,r*2),e.lineTo(-Ww*r,-r),e.lineTo(Ww*r,-r),e.closePath()}},rs=-.5,ns=Ys(3)/2,D2=1/Ys(12),_ce=(D2/2+1)*3,jce={draw(e,t){const r=Ys(t/_ce),n=r/2,a=r*D2,s=n,l=r*D2+r,u=-s,d=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(rs*n-ns*a,ns*n+rs*a),e.lineTo(rs*s-ns*l,ns*s+rs*l),e.lineTo(rs*u-ns*d,ns*u+rs*d),e.lineTo(rs*n+ns*a,rs*a-ns*n),e.lineTo(rs*s+ns*l,rs*l-ns*s),e.lineTo(rs*u+ns*d,rs*d-ns*u),e.closePath()}};function Ace(e,t){let r=null,n=DE(a);e=typeof e=="function"?e:rr(e||LE),t=typeof t=="function"?t:rr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:rr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:rr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function _y(){}function jy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aU(e){this._context=e}aU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tce(e){return new aU(e)}function sU(e){this._context=e}sU.prototype={areaStart:_y,areaEnd:_y,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ice(e){return new sU(e)}function iU(e){this._context=e}iU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oce(e){return new iU(e)}function oU(e){this._context=e}oU.prototype={areaStart:_y,areaEnd:_y,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Mce(e){return new oU(e)}function lI(e){return e<0?-1:1}function cI(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(lI(s)+lI(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function uI(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Vw(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function Ay(e){this._context=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vw(this,this._t0,uI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vw(this,uI(this,r=cI(this,e,t)),r);break;default:Vw(this,this._t0,r=cI(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lU(e){this._context=new cU(e)}(lU.prototype=Object.create(Ay.prototype)).point=function(e,t){Ay.prototype.point.call(this,t,e)};function cU(e){this._context=e}cU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Rce(e){return new Ay(e)}function Dce(e){return new lU(e)}function uU(e){this._context=e}uU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=dI(e),a=dI(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dI(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Pce(e){return new uU(e)}function ub(e,t){this._context=e,this._t=t}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Lce(e){return new ub(e,.5)}function Uce(e){return new ub(e,0)}function Fce(e){return new ub(e,1)}function Vc(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function P2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Bce(e,t){return e[t]}function zce(e){const t=[];return t.key=e,t}function $ce(){var e=rr([]),t=P2,r=Vc,n=Bce;function a(s){var l=Array.from(e.apply(this,arguments),zce),u,d=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,m=PE(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:rr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:rr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?P2:typeof s=="function"?s:rr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Vc,a):r},a}function Hce(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Vc(e,t)}}function qce(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Vc(e,t)}}function Kce(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],g=m[n][1]||0,y=m[n-1][1]||0,b=(g-y)/2,v=0;v<u;++v){var S=e[t[v]],k=S[n][1]||0,N=S[n-1][1]||0;b+=k-N}d+=g,f+=b*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Vc(e,t)}}var Yw={},Xw={},fI;function Gce(){return fI||(fI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Xw)),Xw}var Jw={},hI;function dU(){return hI||(hI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Jw)),Jw}var Qw={},mI;function fU(){return mI||(mI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Qw)),Qw}var Zw={},gI;function UE(){return gI||(gI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let s=0,l="",u="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<a;){const f=r[s];u?f==="\\"&&s+1<a?(s++,l+=r[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,n.push(l),l=""):l+=f:f==="["?(d=!0,l&&(n.push(l),l="")):f==="."?l&&(n.push(l),l=""):l+=f,s++}return l&&n.push(l),n}e.toPath=t})(Zw)),Zw}var pI;function FE(){return pI||(pI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gce(),r=dU(),n=fU(),a=UE();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function l(u,d,f){if(d.length===0)return f;let m=u;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=s})(Yw)),Yw}var ek,yI;function Wce(){return yI||(yI=1,ek=FE().get),ek}var Vce=Wce();const Yc=ko(Vce);var Yce=4;function bl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yce,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Er(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var u=r[l-1];return typeof u=="string"?a+u+s:u!==void 0?a+bl(u)+s:a+s},"")}var Mn=e=>e===0?0:e>0?1:-1,yi=e=>typeof e=="number"&&e!=+e,uo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ge=e=>(typeof e=="number"||e instanceof Number)&&!yi(e),ca=e=>Ge(e)||typeof e=="string",Xce=0,d0=e=>{var t=++Xce;return"".concat(e||"").concat(t)},La=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ge(t)&&typeof t!="string")return n;var s;if(uo(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return yi(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},hU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function In(e,t,r){return Ge(e)&&Ge(t)?bl(e+r*(t-e)):t}function mU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Yc(n,t))===r)}var Wr=e=>e===null||typeof e>"u",W0=e=>Wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Jce(e){return e!=null}function V0(){}var Qce=["type","size","sizeType"];function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(null,arguments)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return(t=eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return typeof t=="symbol"?t:t+""}function tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rue(e,t){if(e==null)return{};var r,n,a=nue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gU={symbolCircle:LE,symbolCross:xce,symbolDiamond:vce,symbolSquare:wce,symbolStar:Nce,symbolTriangle:Ece,symbolWye:jce},aue=Math.PI/180,sue=e=>{var t="symbol".concat(W0(e));return gU[t]||LE},iue=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*aue;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oue=(e,t)=>{gU["symbol".concat(W0(e))]=t},BE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=rue(e,Qce),s=bI(bI({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=sue(l),b=Ace().type(y).size(iue(r,n,l)),v=b();if(v!==null)return v},{className:d,cx:f,cy:m}=s,g=Pn(s);return Ge(f)&&Ge(m)&&Ge(r)?x.createElement("path",L2({},g,{className:At("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};BE.registerSymbol=oue;var pU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ME(a)&&(n[a]=(s=>r[a](r,s)))}),n},lue=(e,t,r)=>n=>(e(t,r,n),null),$E=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];ME(a)&&typeof s=="function"&&(n||(n={}),n[a]=lue(s,t,r))}),n};function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){uue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uue(e,t,r){return(t=due(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function due(e){var t=fue(e,"string");return typeof t=="symbol"?t:t+""}function fue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t){var r=cue({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is=32,yue={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xue(e){var{data:t,iconType:r,inactiveColor:n}=e,a=is/2,s=is/6,l=is/3,u=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:a,x2:is,y2:a,className:"recharts-legend-icon"})}if(d==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(is,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return x.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(is/8,"h").concat(is,"v").concat(is*3/4,"h").concat(-is,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var m=hue({},t);return delete m.legendIcon,x.cloneElement(t.legendIcon,m)}return x.createElement(BE,{fill:u,cx:a,cy:a,size:is,sizeType:"diameter",type:d})}function bue(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:l}=e,u={x:0,y:0,width:is,height:is},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var y=m.formatter||a,b=At({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var v=m.inactive?s:m.color,S=y?y(m.value,m,g):m.value;return x.createElement("li",Ty({className:b,style:d,key:"legend-item-".concat(g)},$E(e,m,g)),x.createElement(RE,{width:r,height:r,viewBox:u,style:f,"aria-label":"".concat(S," legend icon")},x.createElement(xue,{data:m,iconType:l,inactiveColor:s})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},S))})}var vue=e=>{var t=$r(e,yue),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:s},x.createElement(bue,Ty({},t,{payload:r})))},tk={},rk={},kI;function wue(){return kI||(kI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(rk)),rk}var nk={},ak={},sk={},SI;function kue(){return SI||(SI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sk)),sk}var CI;function HE(){return CI||(CI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kue();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ak)),ak}var ik={},NI;function Sue(){return NI||(NI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ik)),ik}var EI;function Cue(){return EI||(EI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HE(),r=Sue();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(nk)),nk}var ok={},lk={},_I;function Nue(){return _I||(_I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lk)),lk}var ck={},jI;function Eue(){return jI||(jI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE();function r(n){return function(a){return t.get(a,n)}}e.property=r})(ck)),ck}var uk={},dk={},fk={},hk={},AI;function yU(){return AI||(AI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hk)),hk}var mk={},TI;function xU(){return TI||(TI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(mk)),mk}var gk={},II;function bU(){return II||(II=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(gk)),gk}var OI;function _ue(){return OI||(OI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yU(),r=xU(),n=bU();function a(m,g,y){return y=typeof y=="function"?y:void 0,s(m,g,function b(v,S,k,N,E,_){const O=y?.(v,S,k,N,E,_);return O!==void 0?!!O:s(v,S,b,_)},new Map)}function s(m,g,y,b){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,y,b);case"function":return Object.keys(g).length>0?s(m,{...g},y,b):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function l(m,g,y,b){if(g==null)return!0;if(Array.isArray(g))return d(m,g,y,b);if(g instanceof Map)return u(m,g,y,b);if(g instanceof Set)return f(m,g,y,b);const v=Object.keys(g);if(m==null)return v.length===0;if(v.length===0)return!0;if(b&&b.has(g))return b.get(g)===m;b&&b.set(g,m);try{for(let S=0;S<v.length;S++){const k=v[S];if(!r.isPrimitive(m)&&!(k in m)||g[k]===void 0&&m[k]!==void 0||g[k]===null&&m[k]!==null||!y(m[k],g[k],k,m,g,b))return!1}return!0}finally{b&&b.delete(g)}}function u(m,g,y,b){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[v,S]of g.entries()){const k=m.get(v);if(y(k,S,v,m,g,b)===!1)return!1}return!0}function d(m,g,y,b){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const v=new Set;for(let S=0;S<g.length;S++){const k=g[S];let N=!1;for(let E=0;E<m.length;E++){if(v.has(E))continue;const _=m[E];let O=!1;if(y(_,k,S,m,g,b)&&(O=!0),O){v.add(E),N=!0;break}}if(!N)return!1}return!0}function f(m,g,y,b){return g.size===0?!0:m instanceof Set?d([...m],[...g],y,b):!1}e.isMatchWith=a,e.isSetMatch=f})(fk)),fk}var MI;function vU(){return MI||(MI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ue();function r(n,a){return t.isMatchWith(n,a)}e.isMatch=r})(dk)),dk}var pk={},yk={},xk={},RI;function jue(){return RI||(RI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xk)),xk}var bk={},DI;function wU(){return DI||(DI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(bk)),bk}var vk={},PI;function kU(){return PI||(PI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",v="[object Error]",S="[object DataView]",k="[object Uint8Array]",N="[object Uint8ClampedArray]",E="[object Uint16Array]",_="[object Uint32Array]",O="[object BigUint64Array]",j="[object Int8Array]",A="[object Int16Array]",R="[object Int32Array]",U="[object BigInt64Array]",V="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=S,e.dateTag=u,e.errorTag=v,e.float32ArrayTag=V,e.float64ArrayTag=W,e.functionTag=g,e.int16ArrayTag=A,e.int32ArrayTag=R,e.int8ArrayTag=j,e.mapTag=d,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=E,e.uint32ArrayTag=_,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=N})(vk)),vk}var wk={},LI;function Aue(){return LI||(LI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wk)),wk}var UI;function SU(){return UI||(UI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jue(),r=wU(),n=kU(),a=xU(),s=Aue();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,b=new Map,v=void 0){const S=v?.(m,g,y,b);if(S!=null)return S;if(a.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const k=new Array(m.length);b.set(m,k);for(let N=0;N<m.length;N++)k[N]=u(m[N],N,y,b,v);return Object.hasOwn(m,"index")&&(k.index=m.index),Object.hasOwn(m,"input")&&(k.input=m.input),k}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const k=new RegExp(m.source,m.flags);return k.lastIndex=m.lastIndex,k}if(m instanceof Map){const k=new Map;b.set(m,k);for(const[N,E]of m)k.set(N,u(E,N,y,b,v));return k}if(m instanceof Set){const k=new Set;b.set(m,k);for(const N of m)k.add(u(N,void 0,y,b,v));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const k=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,k);for(let N=0;N<m.length;N++)k[N]=u(m[N],N,y,b,v);return k}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const k=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,k),d(k,m,y,b,v),k}if(typeof File<"u"&&m instanceof File){const k=new File([m],m.name,{type:m.type});return b.set(m,k),d(k,m,y,b,v),k}if(m instanceof Blob){const k=new Blob([m],{type:m.type});return b.set(m,k),d(k,m,y,b,v),k}if(m instanceof Error){const k=new m.constructor;return b.set(m,k),k.message=m.message,k.name=m.name,k.stack=m.stack,k.cause=m.cause,d(k,m,y,b,v),k}if(typeof m=="object"&&f(m)){const k=Object.create(Object.getPrototypeOf(m));return b.set(m,k),d(k,m,y,b,v),k}return m}function d(m,g,y=m,b,v){const S=[...Object.keys(g),...t.getSymbols(g)];for(let k=0;k<S.length;k++){const N=S[k],E=Object.getOwnPropertyDescriptor(m,N);(E==null||E.writable)&&(m[N]=u(g[N],N,y,b,v))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(yk)),yk}var FI;function Tue(){return FI||(FI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pk)),pk}var BI;function Iue(){return BI||(BI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU(),r=Tue();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(uk)),uk}var kk={},Sk={},Ck={},zI;function Oue(){return zI||(zI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU(),r=kU();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const m=s?.(l,u,d,f);if(m!=null)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Ck)),Ck}var $I;function Mue(){return $I||($I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oue();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Sk)),Sk}var Nk={},Ek={},HI;function CU(){return HI||(HI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ek)),Ek}var _k={},qI;function Rue(){return qI||(qI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(_k)),_k}var KI;function Due(){return KI||(KI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dU(),r=CU(),n=Rue(),a=UE();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Nk)),Nk}var GI;function Pue(){return GI||(GI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vU(),r=fU(),n=Mue(),a=FE(),s=Due();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(kk)),kk}var WI;function Lue(){return WI||(WI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nue(),r=Eue(),n=Iue(),a=Pue();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(ok)),ok}var VI;function Uue(){return VI||(VI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wue(),r=Cue(),n=Lue();function a(s,l){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.iteratee(l)):[]}e.uniqBy=a})(tk)),tk}var jk,YI;function Fue(){return YI||(YI=1,jk=Uue().uniqBy),jk}var Bue=Fue();const XI=ko(Bue);function NU(e,t,r){return t===!0?XI(e,r):typeof t=="function"?XI(e,t):e}var Ak={exports:{}},Tk={},Ik={exports:{}},Ok={};var JI;function zue(){if(JI)return Ok;JI=1;var e=nf();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var b=y(),v=n({inst:{value:b,getSnapshot:y}}),S=v[0].inst,k=v[1];return s(function(){S.value=b,S.getSnapshot=y,d(S)&&k({inst:S})},[g,b,y]),a(function(){return d(S)&&k({inst:S}),g(function(){d(S)&&k({inst:S})})},[g]),l(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!r(g,b)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ok.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Ok}var QI;function $ue(){return QI||(QI=1,Ik.exports=zue()),Ik.exports}var ZI;function Hue(){if(ZI)return Tk;ZI=1;var e=nf(),t=$ue();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Tk.useSyncExternalStoreWithSelector=function(f,m,g,y,b){var v=s(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=u(function(){function N(A){if(!E){if(E=!0,_=A,A=y(A),b!==void 0&&S.hasValue){var R=S.value;if(b(R,A))return O=R}return O=A}if(R=O,n(_,A))return R;var U=y(A);return b!==void 0&&b(R,U)?(_=A,R):(_=A,O=U)}var E=!1,_,O,j=g===void 0?null:g;return[function(){return N(m())},j===null?void 0:function(){return N(j())}]},[m,g,y,b]);var k=a(f,v[0],v[1]);return l(function(){S.hasValue=!0,S.value=k},[k]),d(k),k},Tk}var eO;function que(){return eO||(eO=1,Ak.exports=Hue()),Ak.exports}var Kue=que(),qE=x.createContext(null),Gue=e=>e,Qt=()=>{var e=x.useContext(qE);return e?e.store.dispatch:Gue},Up=()=>{},Wue=()=>Up,Vue=(e,t)=>e===t;function qe(e){var t=x.useContext(qE);return Kue.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Wue,t?t.store.getState:Up,t?t.store.getState:Up,t?e:Up,Vue)}function Yue(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Xue(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Jue(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var tO=e=>Array.isArray(e)?e:[e];function Que(e){const t=Array.isArray(e[0])?e[0]:e;return Jue(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Zue(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ede=class{constructor(e){this.value=e}deref(){return this.value}},tde=typeof WeakRef<"u"?WeakRef:ede,rde=0,rO=1;function ep(){return{s:rde,v:void 0,o:null,p:null}}function EU(e,t={}){let r=ep();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let v=u.o;v===null&&(u.o=v=new WeakMap);const S=v.get(b);S===void 0?(u=ep(),v.set(b,u)):u=S}else{let v=u.p;v===null&&(u.p=v=new Map);const S=v.get(b);S===void 0?(u=ep(),v.set(b,u)):u=S}}const f=u;let m;if(u.s===rO)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new tde(m):m}return f.s=rO,f.v=m,m}return l.clearCache=()=>{r=ep(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function nde(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),Yue(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:y=[],argsMemoize:b=EU,argsMemoizeOptions:v=[]}=m,S=tO(y),k=tO(v),N=Que(a),E=g(function(){return s++,f.apply(null,arguments)},...S),_=b(function(){l++;const j=Zue(N,arguments);return u=E.apply(null,j),u},...k);return Object.assign(_,{resultFunc:f,memoizedResultFunc:E,dependencies:N,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var de=nde(EU),ade=Object.assign((e,t=de)=>{Xue(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>ade}),Mk={},Rk={},Dk={},nO;function sde(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Dk)),Dk}var Pk={},Lk={},aO;function _U(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Lk)),Lk}var sO;function ide(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_U(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Pk)),Pk}var iO;function ode(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sde(),r=ide(),n=UE();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,v)=>{let S=b;for(let k=0;k<v.length&&S!=null;++k)S=S[v[k]];return S},m=(b,v)=>v==null||b==null?v:typeof b=="object"&&"key"in b?Object.hasOwn(v,b.key)?v[b.key]:f(v,b.path):typeof b=="function"?b(v):Array.isArray(b)?f(v,b):typeof v=="object"?v[b]:v,g=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return s.map(b=>({original:b,criteria:g.map(v=>m(v,b))})).slice().sort((b,v)=>{for(let S=0;S<g.length;S++){const k=t.compareValues(b.criteria[S],v.criteria[S],u[S]);if(k!==0)return k}return 0}).map(b=>b.original)}e.orderBy=a})(Rk)),Rk}var Uk={},oO;function lde(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<s?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(Uk)),Uk}var Fk={},lO;function jU(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CU(),r=HE(),n=yU(),a=bU();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(Fk)),Fk}var cO;function cde(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ode(),r=lde(),n=jU();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Mk)),Mk}var Bk,uO;function ude(){return uO||(uO=1,Bk=cde().sortBy),Bk}var dde=ude();const db=ko(dde);var AU=e=>e.legend.settings,fde=e=>e.legend.size,hde=e=>e.legend.payload,mde=de([hde,AU],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?db(n,r):n});function gde(){return qe(mde)}var tp=1;function TU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>tp||Math.abs(l.left-t.left)>tp||Math.abs(l.top-t.top)>tp||Math.abs(l.width-t.width)>tp)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function yn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pde=typeof Symbol=="function"&&Symbol.observable||"@@observable",dO=pde,zk=()=>Math.random().toString(36).substring(7).split("").join("."),yde={INIT:`@@redux/INIT${zk()}`,REPLACE:`@@redux/REPLACE${zk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zk()}`},Iy=yde;function KE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function IU(e,t,r){if(typeof e!="function")throw new Error(yn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yn(1));return r(IU)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((k,N)=>{l.set(N,k)}))}function m(){if(d)throw new Error(yn(3));return a}function g(k){if(typeof k!="function")throw new Error(yn(4));if(d)throw new Error(yn(5));let N=!0;f();const E=u++;return l.set(E,k),function(){if(N){if(d)throw new Error(yn(6));N=!1,f(),l.delete(E),s=null}}}function y(k){if(!KE(k))throw new Error(yn(7));if(typeof k.type>"u")throw new Error(yn(8));if(typeof k.type!="string")throw new Error(yn(17));if(d)throw new Error(yn(9));try{d=!0,a=n(a,k)}finally{d=!1}return(s=l).forEach(E=>{E()}),k}function b(k){if(typeof k!="function")throw new Error(yn(10));n=k,y({type:Iy.REPLACE})}function v(){const k=g;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(yn(11));function E(){const O=N;O.next&&O.next(m())}return E(),{unsubscribe:k(E)}},[dO](){return this}}}return y({type:Iy.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[dO]:v}}function xde(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Iy.INIT})>"u")throw new Error(yn(12));if(typeof r(void 0,{type:Iy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function OU(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{xde(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],y=r[g],b=l[g],v=y(b,u);if(typeof v>"u")throw u&&u.type,new Error(yn(14));f[g]=v,d=d||v!==b}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Oy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function bde(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(yn(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=Oy(...u)(a.dispatch),{...a,dispatch:s}}}function MU(e){return KE(e)&&"type"in e&&typeof e.type=="string"}var RU=Symbol.for("immer-nothing"),fO=Symbol.for("immer-draftable"),$a=Symbol.for("immer-state");function Ds(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zd=Object.getPrototypeOf;function Xc(e){return!!e&&!!e[$a]}function fo(e){return e?DU(e)||Array.isArray(e)||!!e[fO]||!!e.constructor?.[fO]||hb(e)||mb(e):!1}var vde=Object.prototype.constructor.toString();function DU(e){if(!e||typeof e!="object")return!1;const t=zd(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===vde}function My(e,t){fb(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function fb(e){const t=e[$a];return t?t.type_:Array.isArray(e)?1:hb(e)?2:mb(e)?3:0}function U2(e,t){return fb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PU(e,t,r){const n=fb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function wde(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hb(e){return e instanceof Map}function mb(e){return e instanceof Set}function mc(e){return e.copy_||e.base_}function F2(e,t){if(hb(e))return new Map(e);if(mb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DU(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[$a];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(zd(e),n)}else{const n=zd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function GE(e,t=!1){return gb(e)||Xc(e)||!fo(e)||(fb(e)>1&&(e.set=e.add=e.clear=e.delete=kde),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>GE(n,!0))),e}function kde(){Ds(2)}function gb(e){return Object.isFrozen(e)}var Sde={};function Jc(e){const t=Sde[e];return t||Ds(0,e),t}var f0;function LU(){return f0}function Cde(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hO(e,t){t&&(Jc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B2(e){z2(e),e.drafts_.forEach(Nde),e.drafts_=null}function z2(e){e===f0&&(f0=e.parent_)}function mO(e){return f0=Cde(f0,e)}function Nde(e){const t=e[$a];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[$a].modified_&&(B2(t),Ds(4)),fo(e)&&(e=Ry(t,e),t.parent_||Dy(t,e)),t.patches_&&Jc("Patches").generateReplacementPatches_(r[$a].base_,e,t.patches_,t.inversePatches_)):e=Ry(t,r,[]),B2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RU?e:void 0}function Ry(e,t,r){if(gb(t))return t;const n=t[$a];if(!n)return My(t,(a,s)=>pO(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Dy(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,l=!1;n.type_===3&&(s=new Set(a),a.clear(),l=!0),My(s,(u,d)=>pO(e,n,a,u,d,r,l)),Dy(e,a,!1),r&&e.patches_&&Jc("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function pO(e,t,r,n,a,s,l){if(Xc(a)){const u=s&&t&&t.type_!==3&&!U2(t.assigned_,n)?s.concat(n):void 0,d=Ry(e,a,u);if(PU(r,n,d),Xc(d))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(fo(a)&&!gb(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ry(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Dy(e,a)}}function Dy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GE(t,r)}function Ede(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=WE;r&&(a=[n],s=h0);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var WE={get(e,t){if(t===$a)return e;const r=mc(e);if(!U2(r,t))return _de(e,r,t);const n=r[t];return e.finalized_||!fo(n)?n:n===$k(e.base_,t)?(Hk(e),e.copy_[t]=H2(n,e)):n},has(e,t){return t in mc(e)},ownKeys(e){return Reflect.ownKeys(mc(e))},set(e,t,r){const n=UU(mc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=$k(mc(e),t),s=a?.[$a];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(wde(r,a)&&(r!==void 0||U2(e.base_,t)))return!0;Hk(e),$2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $k(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hk(e),$2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ds(11)},getPrototypeOf(e){return zd(e.base_)},setPrototypeOf(){Ds(12)}},h0={};My(WE,(e,t)=>{h0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});h0.deleteProperty=function(e,t){return h0.set.call(this,e,t,void 0)};h0.set=function(e,t,r){return WE.set.call(this,e[0],t,r,e[0])};function $k(e,t){const r=e[$a];return(r?mc(r):e)[t]}function _de(e,t,r){const n=UU(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function UU(e,t){if(!(t in e))return;let r=zd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zd(r)}}function $2(e){e.modified_||(e.modified_=!0,e.parent_&&$2(e.parent_))}function Hk(e){e.copy_||(e.copy_=F2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jde=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Ds(6),n!==void 0&&typeof n!="function"&&Ds(7);let a;if(fo(t)){const s=mO(this),l=H2(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?B2(s):z2(s)}return hO(s,n),gO(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===RU&&(a=void 0),this.autoFreeze_&&GE(a,!0),n){const s=[],l=[];Jc("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Ds(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fo(e)||Ds(8),Xc(e)&&(e=Bs(e));const t=mO(this),r=H2(e,void 0);return r[$a].isManual_=!0,z2(t),r}finishDraft(e,t){const r=e&&e[$a];(!r||!r.isManual_)&&Ds(9);const{scope_:n}=r;return hO(n,t),gO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Jc("Patches").applyPatches_;return Xc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function H2(e,t){const r=hb(e)?Jc("MapSet").proxyMap_(e,t):mb(e)?Jc("MapSet").proxySet_(e,t):Ede(e,t);return(t?t.scope_:LU()).drafts_.push(r),r}function Bs(e){return Xc(e)||Ds(10,e),FU(e)}function FU(e){if(!fo(e)||gb(e))return e;const t=e[$a];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=F2(e,t.scope_.immer_.useStrictShallowCopy_)}else r=F2(e,!0);return My(r,(n,a)=>{PU(r,n,FU(a))}),t&&(t.finalized_=!1),r}var Ha=new jde,BU=Ha.produce;Ha.produceWithPatches.bind(Ha);Ha.setAutoFreeze.bind(Ha);Ha.setUseStrictShallowCopy.bind(Ha);Ha.applyPatches.bind(Ha);Ha.createDraft.bind(Ha);Ha.finishDraft.bind(Ha);function zU(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Ade=zU(),Tde=zU,Ide=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oy:Oy.apply(null,arguments)};function bs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ua(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>MU(n)&&n.type===e,r}var $U=class qh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qh.prototype)}static get[Symbol.species](){return qh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qh(...t[0].concat(this)):new qh(...t.concat(this))}};function yO(e){return fo(e)?BU(e,()=>{}):e}function rp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Ode(e){return typeof e=="boolean"}var Mde=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new $U;return r&&(Ode(r)?l.push(Ade):l.push(Tde(r.extraArgument))),l},HU="RTK_autoBatch",pr=()=>e=>({payload:e,meta:{[HU]:!0}}),xO=e=>t=>{setTimeout(t,e)},qU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xO(10):e.type==="callback"?e.queueNotification:xO(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),y=n.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[HU],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},Rde=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new $U(e);return n&&a.push(qU(typeof n=="object"?n:void 0)),a};function Dde(e){const t=Mde(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(KE(r))u=OU(r);else throw new Error(Ua(1));let d;typeof n=="function"?d=n(t):d=t();let f=Oy;a&&(f=Ide({trace:!1,...typeof a=="object"&&a}));const m=bde(...d),g=Rde(m);let y=typeof l=="function"?l(g):g();const b=f(...y);return IU(u,s,b)}function KU(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(Ua(28));if(u in t)throw new Error(Ua(29));return t[u]=l,a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function Pde(e){return typeof e=="function"}function Lde(e,t){let[r,n,a]=KU(t),s;if(Pde(e))s=()=>yO(e());else{const u=yO(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(Xc(m)){const b=g(m,d);return b===void 0?m:b}else{if(fo(m))return BU(m,y=>g(y,d));{const y=g(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return l.getInitialState=s,l}var Ude="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fde=(e=21)=>{let t="",r=e;for(;r--;)t+=Ude[Math.random()*64|0];return t},Bde=Symbol.for("rtk-slice-createasyncthunk");function zde(e,t){return`${e}/${t}`}function $de({creators:e}={}){const t=e?.asyncThunk?.[Bde];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(Ua(11));const l=(typeof n.reducers=="function"?n.reducers(qde()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(_,O){const j=typeof _=="string"?_:_.type;if(!j)throw new Error(Ua(12));if(j in d.sliceCaseReducersByType)throw new Error(Ua(13));return d.sliceCaseReducersByType[j]=O,f},addMatcher(_,O){return d.sliceMatchers.push({matcher:_,reducer:O}),f},exposeAction(_,O){return d.actionCreators[_]=O,f},exposeCaseReducer(_,O){return d.sliceCaseReducersByName[_]=O,f}};u.forEach(_=>{const O=l[_],j={reducerName:_,type:zde(a,_),createNotation:typeof n.reducers=="function"};Gde(O)?Vde(j,O,f,t):Kde(j,O,f)});function m(){const[_={},O=[],j=void 0]=typeof n.extraReducers=="function"?KU(n.extraReducers):[n.extraReducers],A={..._,...d.sliceCaseReducersByType};return Lde(n.initialState,R=>{for(let U in A)R.addCase(U,A[U]);for(let U of d.sliceMatchers)R.addMatcher(U.matcher,U.reducer);for(let U of O)R.addMatcher(U.matcher,U.reducer);j&&R.addDefaultCase(j)})}const g=_=>_,y=new Map,b=new WeakMap;let v;function S(_,O){return v||(v=m()),v(_,O)}function k(){return v||(v=m()),v.getInitialState()}function N(_,O=!1){function j(R){let U=R[_];return typeof U>"u"&&O&&(U=rp(b,j,k)),U}function A(R=g){const U=rp(y,O,()=>new WeakMap);return rp(U,R,()=>{const V={};for(const[W,G]of Object.entries(n.selectors??{}))V[W]=Hde(G,R,()=>rp(b,R,k),O);return V})}return{reducerPath:_,getSelectors:A,get selectors(){return A(j)},selectSlice:j}}const E={name:a,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:k,...N(s),injectInto(_,{reducerPath:O,...j}={}){const A=O??s;return _.inject({reducerPath:A,reducer:S},j),{...E,...N(A,!0)}}};return E}}function Hde(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var va=$de();function qde(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Kde({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!Wde(n))throw new Error(Ua(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?bs(e,l):bs(e))}function Gde(e){return e._reducerDefinitionType==="asyncThunk"}function Wde(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Vde({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ua(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||np,pending:u||np,rejected:d||np,settled:f||np})}function np(){}var Yde="task",GU="listener",WU="completed",VE="cancelled",Xde=`task-${VE}`,Jde=`task-${WU}`,q2=`${GU}-${VE}`,Qde=`${GU}-${WU}`,pb=class{constructor(e){this.code=e,this.message=`${Yde} ${VE} (reason: ${e})`}name="TaskAbortError";message},YE=(e,t)=>{if(typeof e!="function")throw new TypeError(Ua(32))},Py=()=>{},VU=(e,t=Py)=>(e.catch(t),e),YU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Tc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ic=e=>{if(e.aborted){const{reason:t}=e;throw new pb(t)}};function XU(e,t){let r=Py;return new Promise((n,a)=>{const s=()=>a(new pb(e.reason));if(e.aborted){s();return}r=YU(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Py})}var Zde=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof pb?"cancelled":"rejected",error:r}}finally{t?.()}},Ly=e=>t=>VU(XU(e,t).then(r=>(Ic(e),r))),JU=e=>{const t=Ly(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Td}=Object,bO={},yb="listenerMiddleware",efe=(e,t)=>{const r=n=>YU(e,()=>Tc(n,e.reason));return(n,a)=>{YE(n);const s=new AbortController;r(s);const l=Zde(async()=>{Ic(e),Ic(s.signal);const u=await n({pause:Ly(s.signal),delay:JU(s.signal),signal:s.signal});return Ic(s.signal),u},()=>Tc(s,Jde));return a?.autoJoin&&t.push(l.catch(Py)),{result:Ly(e)(l),cancel(){Tc(s,Xde)}}}},tfe=(e,t)=>{const r=async(n,a)=>{Ic(t);let s=()=>{};const u=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),d([g,y.getState(),y.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await XU(t,Promise.race(u));return Ic(t),d}finally{s()}};return(n,a)=>VU(r(n,a))},QU=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=bs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ua(21));return YE(s),{predicate:a,type:t,effect:s}},ZU=Td(e=>{const{type:t,predicate:r,effect:n}=QU(e);return{id:Fde(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ua(22))}}},{withTypes:()=>ZU}),vO=(e,t)=>{const{type:r,effect:n,predicate:a}=QU(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},K2=e=>{e.pending.forEach(t=>{Tc(t,q2)})},rfe=e=>()=>{e.forEach(K2),e.clear()},wO=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},eF=Td(bs(`${yb}/add`),{withTypes:()=>eF}),nfe=bs(`${yb}/removeAll`),tF=Td(bs(`${yb}/remove`),{withTypes:()=>tF}),afe=(...e)=>{console.error(`${yb}/error`,...e)},Y0=(e={})=>{const t=new Map,{extra:r,onError:n=afe}=e;YE(n);const a=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&K2(m)}),s=m=>{const g=vO(t,m)??ZU(m);return a(g)};Td(s,{withTypes:()=>s});const l=m=>{const g=vO(t,m);return g&&(g.unsubscribe(),m.cancelActive&&K2(g)),!!g};Td(l,{withTypes:()=>l});const u=async(m,g,y,b)=>{const v=new AbortController,S=tfe(s,v.signal),k=[];try{m.pending.add(v),await Promise.resolve(m.effect(g,Td({},y,{getOriginalState:b,condition:(N,E)=>S(N,E).then(Boolean),take:S,delay:JU(v.signal),pause:Ly(v.signal),extra:r,signal:v.signal,fork:efe(v.signal,k),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,E,_)=>{N!==v&&(Tc(N,q2),_.delete(N))})},cancel:()=>{Tc(v,q2),m.pending.delete(v)},throwIfCancelled:()=>{Ic(v.signal)}})))}catch(N){N instanceof pb||wO(n,N,{raisedBy:"effect"})}finally{await Promise.all(k),Tc(v,Qde),m.pending.delete(v)}},d=rfe(t);return{middleware:m=>g=>y=>{if(!MU(y))return g(y);if(eF.match(y))return s(y.payload);if(nfe.match(y)){d();return}if(tF.match(y))return l(y.payload);let b=m.getState();const v=()=>{if(b===bO)throw new Error(Ua(23));return b};let S;try{if(S=g(y),t.size>0){const k=m.getState(),N=Array.from(t.values());for(const E of N){let _=!1;try{_=E.predicate(y,k,b)}catch(O){_=!1,wO(n,O,{raisedBy:"predicate"})}_&&u(E,y,m,v)}}}finally{b=bO}return S},startListening:s,stopListening:l,clearListeners:d}};function Ua(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sfe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rF=va({name:"chartLayout",initialState:sfe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ife,setLayout:ofe,setChartSize:lfe,setScale:cfe}=rF.actions,ufe=rF.reducer;function nF(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zr(e){return Number.isFinite(e)}function xi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){dfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dfe(e,t,r){return(t=ffe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=hfe(e,"string");return typeof t=="symbol"?t:t+""}function hfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,r){return Wr(e)||Wr(t)?r:ca(t)?Yc(e,t,r):typeof t=="function"?t(e):r}var mfe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ge(e[s]))return fd(fd({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ge(e[l]))return fd(fd({},e),{},{[l]:e[l]+(a||0)})}return e},Ul=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",aF=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},sF=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:y,axisType:b}=e;if(!l)return null;var v=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/v:0;if(S=b==="angleAxis"&&s&&s.length>=2?Mn(s[0]-s[1])*2*S:S,g||y){var k=(g||y||[]).map((N,E)=>{var _=n?n.indexOf(N):N;return{coordinate:l(_)+S,value:N,offset:S,index:E}});return k.filter(N=>!yi(N.coordinate))}return d&&f?f.map((N,E)=>({coordinate:l(N)+S,value:N,index:E,offset:S})):l.ticks&&m!=null?l.ticks(m).map((N,E)=>({coordinate:l(N)+S,value:N,offset:S,index:E})):l.domain().map((N,E)=>({coordinate:l(N)+S,value:n?n[N]:N,index:E,offset:S}))},SO=1e-4,gfe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-SO,s=Math.max(n[0],n[1])+SO,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},pfe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,u=0;u<r;++u){var d=e[u],f=d?.[a];if(f!=null){var m=f[1],g=f[0],y=yi(m)?g:m;y>=0?(f[0]=s,f[1]=s+y,s=m):(f[0]=l,f[1]=l+y,l=m)}}}},yfe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var u=e[l],d=u?.[a];if(d!=null){var f=yi(d[1])?d[0]:d[1];f>=0?(d[0]=s,d[1]=s+f,s=d[1]):(d[0]=0,d[1]=0)}}}},xfe={sign:pfe,expand:Hce,none:Vc,silhouette:qce,wiggle:Kce,positive:yfe},bfe=(e,t,r)=>{var n,a=(n=xfe[r])!==null&&n!==void 0?n:Vc,s=$ce().keys(t).value((u,d)=>Number(dr(u,d,0))).order(P2).offset(a),l=s(e);return l.forEach((u,d)=>{u.forEach((f,m)=>{var g=dr(e[m],t[d],0);Array.isArray(g)&&g.length===2&&Ge(g[0])&&Ge(g[1])&&(f[0]=g[0],f[1]=g[1])})}),l};function CO(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wr(a[t.dataKey])){var u=mU(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=dr(a,Wr(l)?t.dataKey:l);return Wr(d)?null:t.scale(d)}var vfe=e=>{var t=e.flat(2).filter(Ge);return[Math.min(...t),Math.max(...t)]},wfe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kfe=(e,t,r)=>{if(e!=null)return wfe(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,u=l.reduce((d,f)=>{var m=nF(f,t,r),g=vfe(m);return!zr(g[0])||!zr(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},NO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uy=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=db(t,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d?.coordinate||0)-(f?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function _O(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return fd(fd({},t),{},{dataKey:r,payload:n,value:a,name:s})}function xb(e,t){if(e)return String(e);if(typeof t=="string")return t}var Sfe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Cfe=(e,t)=>t==="centric"?e.angle:e.radius,Co=e=>e.layout.width,No=e=>e.layout.height,Nfe=e=>e.layout.scale,iF=e=>e.layout.margin,bb=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vb=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oF="data-recharts-item-index",lF="data-recharts-item-id",X0=60;function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){Efe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Efe(e,t,r){return(t=_fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Afe=e=>e.brush.height;function Tfe(e){var t=vb(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:X0;return r+a}return r},0)}function Ife(e){var t=vb(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:X0;return r+a}return r},0)}function Ofe(e){var t=bb(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Mfe(e){var t=bb(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var cn=de([Co,No,iF,Afe,Tfe,Ife,Ofe,Mfe,AU,fde],(e,t,r,n,a,s,l,u,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=ap(ap({},g),m),b=y.bottom;y.bottom+=n,y=mfe(y,d,f);var v=e-y.left-y.right,S=t-y.top-y.bottom;return ap(ap({brushBottom:b},y),{},{width:Math.max(v,0),height:Math.max(S,0)})}),Rfe=de(cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cF=de(Co,No,(e,t)=>({x:0,y:0,width:e,height:t})),Dfe=x.createContext(null),Yn=()=>x.useContext(Dfe)!=null,wb=e=>e.brush,kb=de([wb,cn,iF],(e,t,r)=>({height:e.height,x:Ge(e.x)?e.x:t.left,y:Ge(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ge(e.width)?e.width:t.width})),qk={},Kk={},Gk={},AO;function Pfe(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&m(),S()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},v=()=>{y!==null&&(clearTimeout(y),y=null)},S=()=>{v(),l=void 0,u=null},k=()=>{v(),m()},N=function(...E){if(a?.aborted)return;l=this,u=E;const _=y==null;b(),d&&_&&m()};return N.schedule=b,N.cancel=S,N.flush=k,a?.addEventListener("abort",S,{once:!0}),N}e.debounce=t})(Gk)),Gk}var TO;function Lfe(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pfe();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{signal:l,leading:u=!1,trailing:d=!0,maxWait:f}=s,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,y=null;const b=t.debounce(function(...k){g=n.apply(this,k),y=null},a,{signal:l,edges:m}),v=function(...k){return f!=null&&(y===null&&(y=Date.now()),Date.now()-y>=f)?(g=n.apply(this,k),y=Date.now(),b.cancel(),b.schedule(),g):(b.apply(this,k),g)},S=()=>(b.flush(),g);return v.cancel=b.cancel,v.flush=S,v}e.debounce=r})(Kk)),Kk}var IO;function Ufe(){return IO||(IO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lfe();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!0,trailing:u=!0,signal:d}=s;return t.debounce(n,a,{leading:l,trailing:u,signal:d,maxWait:a})}e.throttle=r})(qk)),qk}var Wk,OO;function Ffe(){return OO||(OO=1,Wk=Ufe().throttle),Wk}var Bfe=Ffe();const zfe=ko(Bfe);var Fy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},uF=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=uo(n)?e:Number(n),d=uo(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},$fe={width:0,height:0,overflow:"visible"},Hfe={width:0,overflowX:"visible"},qfe={height:0,overflowY:"visible"},Kfe={},Gfe=e=>{var{width:t,height:r}=e,n=uo(t),a=uo(r);return n&&a?$fe:n?Hfe:a?qfe:Kfe};function Wfe(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G2.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Vfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vfe(e,t,r){return(t=Yfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yfe(e){var t=Xfe(e,"string");return typeof t=="symbol"?t:t+""}function Xfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=x.createContext({width:-1,height:-1});function Jfe(e){return xi(e.width)&&xi(e.height)}function fF(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return Jfe(a)?x.createElement(dF.Provider,{value:a},t):null}var XE=()=>x.useContext(dF),Qfe=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:m=0,id:g,className:y,onResize:b,style:v={}}=e,S=x.useRef(null),k=x.useRef();k.current=b,x.useImperativeHandle(t,()=>S.current);var[N,E]=x.useState({containerWidth:n.width,containerHeight:n.height}),_=x.useCallback((U,V)=>{E(W=>{var G=Math.round(U),$=Math.round(V);return W.containerWidth===G&&W.containerHeight===$?W:{containerWidth:G,containerHeight:$}})},[]);x.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return V0;var U=$=>{var z,{width:Y,height:le}=$[0].contentRect;_(Y,le),(z=k.current)===null||z===void 0||z.call(k,Y,le)};m>0&&(U=zfe(U,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(U),{width:W,height:G}=S.current.getBoundingClientRect();return _(W,G),V.observe(S.current),()=>{V.disconnect()}},[_,m]);var{containerWidth:O,containerHeight:j}=N;Fy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:A,calculatedHeight:R}=uF(O,j,{width:a,height:s,aspect:r,maxHeight:d});return Fy(A!=null&&A>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,R,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:At("recharts-responsive-container",y),style:RO(RO({},v),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:S},x.createElement("div",{style:Gfe({width:a,height:s})},x.createElement(fF,{width:A,height:R},f)))}),$n=x.forwardRef((e,t)=>{var r=XE();if(xi(r.width)&&xi(r.height))return e.children;var{width:n,height:a}=Wfe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=uF(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ge(s)&&Ge(l)?x.createElement(fF,{width:s,height:l},e.children):x.createElement(Qfe,G2({},e,{width:n,height:a,ref:t}))});function hF(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Sb=()=>{var e,t=Yn(),r=qe(Rfe),n=qe(kb),a=(e=qe(wb))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Zfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mF=()=>{var e;return(e=qe(cn))!==null&&e!==void 0?e:Zfe},JE=()=>qe(Co),QE=()=>qe(No),ehe=()=>qe(e=>e.layout.margin),Gt=e=>e.layout.layoutType,J0=()=>qe(Gt),the=()=>{var e=J0();return e!==void 0},Cb=e=>{var t=Qt(),r=Yn(),{width:n,height:a}=e,s=XE(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&xi(l)&&xi(u)&&t(lfe({width:l,height:u}))},[t,r,l,u]),null},rhe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gF=va({name:"legend",initialState:rhe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:pr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:pr()},removeLegendPayload:{reducer(e,t){var r=Bs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:pr()}}}),{setLegendSize:DO,setLegendSettings:nhe,addLegendPayload:pF,replaceLegendPayload:yF,removeLegendPayload:xF}=gF.actions,ahe=gF.reducer,she=["contextPayload"];function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W2.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){ihe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ihe(e,t,r){return(t=ohe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ohe(e){var t=lhe(e,"string");return typeof t=="symbol"?t:t+""}function lhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function che(e,t){if(e==null)return{};var r,n,a=uhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dhe(e){return e.value}function fhe(e){var{contextPayload:t}=e,r=che(e,she),n=NU(t,e.payloadUniqBy,dhe),a=$d($d({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,a):typeof e.content=="function"?x.createElement(e.content,a):x.createElement(vue,a)}function hhe(e,t,r,n,a,s){var{layout:l,align:u,verticalAlign:d}=t,f,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?f={left:((n||0)-s.width)/2}:f=u==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?m={top:((a||0)-s.height)/2}:m=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),$d($d({},f),m)}function mhe(e){var t=Qt();return x.useEffect(()=>{t(nhe(e))},[t,e]),null}function ghe(e){var t=Qt();return x.useEffect(()=>(t(DO(e)),()=>{t(DO({width:0,height:0}))}),[t,e]),null}function phe(e,t,r,n){return e==="vertical"&&Ge(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var yhe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function oa(e){var t=$r(e,yhe),r=gde(),n=fce(),a=ehe(),{width:s,height:l,wrapperStyle:u,portal:d}=t,[f,m]=TU([r]),g=JE(),y=QE();if(g==null||y==null)return null;var b=g-(a?.left||0)-(a?.right||0),v=phe(t.layout,l,s,b),S=d?u:$d($d({position:"absolute",width:v?.width||s||"auto",height:v?.height||l||"auto"},hhe(u,t,a,g,y,f)),u),k=d??n;if(k==null||r==null)return null;var N=x.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},x.createElement(mhe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&x.createElement(ghe,{width:f.width,height:f.height}),x.createElement(fhe,W2({},t,v,{margin:a,chartWidth:g,chartHeight:y,contextPayload:r})));return Vx.createPortal(N,k)}oa.displayName="Legend";function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V2.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xhe(e,t,r){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=vhe(e,"string");return typeof t=="symbol"?t:t+""}function vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function whe(e){return Array.isArray(e)&&ca(e[0])&&ca(e[1])?e.join(" ~ "):e}var khe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:y=!1}=e,b=()=>{if(s&&s.length){var j={padding:0,margin:0},A=(u?db(s,u):s).map((R,U)=>{if(R.type==="none")return null;var V=R.formatter||l||whe,{value:W,name:G}=R,$=W,z=G;if(V){var Y=V(W,G,R,U,s);if(Array.isArray(Y))[$,z]=Y;else if(Y!=null)$=Y;else return null}var le=Vk({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:le},ca(z)?x.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ca(z)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},$),x.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},A)}return null},v=Vk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),S=Vk({margin:0},a),k=!Wr(m),N=k?m:"",E=At("recharts-default-tooltip",d),_=At("recharts-tooltip-label",f);k&&g&&s!==void 0&&s!==null&&(N=g(m,s));var O=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",V2({className:E,style:v},O),x.createElement("p",{className:_,style:S},x.isValidElement(N)?N:"".concat(N)),b())},Oh="recharts-tooltip-wrapper",She={visibility:"hidden"};function Che(e){var{coordinate:t,translateX:r,translateY:n}=e;return At(Oh,{["".concat(Oh,"-right")]:Ge(r)&&t&&Ge(t.x)&&r>=t.x,["".concat(Oh,"-left")]:Ge(r)&&t&&Ge(t.x)&&r<t.x,["".concat(Oh,"-bottom")]:Ge(n)&&t&&Ge(t.y)&&n>=t.y,["".concat(Oh,"-top")]:Ge(n)&&t&&Ge(t.y)&&n<t.y})}function UO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Ge(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var y=d[n];if(y==null)return 0;if(l[n]){var b=m,v=y;return b<v?Math.max(g,y):Math.max(m,y)}if(f==null)return 0;var S=g+u,k=y+f;return S>k?Math.max(m,y):Math.max(g,y)}function Nhe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ehe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,m,g;return l.height>0&&l.width>0&&r?(m=UO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=UO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Nhe({translateX:m,translateY:g,useTranslate3d:u})):f=She,{cssProperties:f,cssClasses:Che({translateX:m,translateY:g,coordinate:r})}}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){Y2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y2(e,t,r){return(t=_he(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _he(e){var t=jhe(e,"string");return typeof t=="symbol"?t:t+""}function jhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ahe extends x.PureComponent{constructor(){super(...arguments),Y2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Y2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:v,lastBoundingBox:S,innerRef:k,hasPortalFromProps:N}=this.props,{cssClasses:E,cssProperties:_}=Ehe({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:y,viewBox:b}),O=N?{}:sp(sp({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),j=sp(sp({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},v);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:j,ref:k},s)}}var bF=()=>{var e;return(e=qe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){The(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function The(e,t,r){return(t=Ihe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ihe(e){var t=Ohe(e,"string");return typeof t=="symbol"?t:t+""}function Ohe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $O={curveBasisClosed:Ice,curveBasisOpen:Oce,curveBasis:Tce,curveBumpX:pce,curveBumpY:yce,curveLinearClosed:Mce,curveLinear:cb,curveMonotoneX:Rce,curveMonotoneY:Dce,curveNatural:Pce,curveStep:Lce,curveStepAfter:Fce,curveStepBefore:Uce},By=e=>zr(e.x)&&zr(e.y),HO=e=>e.base!=null&&By(e.base)&&By(e),Mh=e=>e.x,Rh=e=>e.y,Mhe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(W0(e));return(r==="curveMonotone"||r==="curveBump")&&t?$O["".concat(r).concat(t==="vertical"?"Y":"X")]:$O[r]||cb},Rhe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=Mhe(t,a),u=s?r.filter(By):r,d;if(Array.isArray(n)){var f=r.map((b,v)=>zO(zO({},b),{},{base:n[v]}));a==="vertical"?d=Zg().y(Rh).x1(Mh).x0(b=>b.base.x):d=Zg().x(Mh).y1(Rh).y0(b=>b.base.y);var m=d.defined(HO).curve(l),g=s?f.filter(HO):f;return m(g)}a==="vertical"&&Ge(n)?d=Zg().y(Rh).x1(Mh).x0(n):Ge(n)?d=Zg().x(Mh).y1(Rh).y0(n):d=eU().x(Mh).y(Rh);var y=d.defined(By).curve(l);return y(u)},ZE=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=J0();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=r&&r.length?Rhe(l):n;return x.createElement("path",X2({},xs(e),zE(e),{className:At("recharts-curve",t),d:u===null?void 0:u,ref:a}))},Dhe=["x","y","top","left","width","height","className"];function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J2.apply(null,arguments)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Phe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lhe(e,t,r){return(t=Uhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uhe(e){var t=Fhe(e,"string");return typeof t=="symbol"?t:t+""}function Fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bhe(e,t){if(e==null)return{};var r,n,a=zhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $he=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Hhe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=Bhe(e,Dhe),f=Phe({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Ge(t)||!Ge(r)||!Ge(s)||!Ge(l)||!Ge(n)||!Ge(a)?null:x.createElement("path",J2({},Pn(f),{className:At("recharts-cross",u),d:$he(t,r,s,l,n,a)}))};function qhe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){Khe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Khe(e,t,r){return(t=Ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ghe(e){var t=Whe(e,"string");return typeof t=="symbol"?t:t+""}function Whe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vhe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),vF=(e,t,r)=>e.map(n=>"".concat(Vhe(n)," ").concat(t,"ms ").concat(r)).join(","),Yhe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),m0=(e,t)=>Object.keys(t).reduce((r,n)=>GO(GO({},r),{},{[n]:e(n,t[n])}),{});function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Xhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xhe(e,t,r){return(t=Jhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jhe(e){var t=Qhe(e,"string");return typeof t=="symbol"?t:t+""}function Qhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zy=(e,t,r)=>e+(t-e)*r,Q2=e=>{var{from:t,to:r}=e;return t!==r},wF=(e,t,r)=>{var n=m0((a,s)=>{if(Q2(s)){var[l,u]=e(s.from,s.to,s.velocity);return Kr(Kr({},s),{},{from:l,velocity:u})}return s},t);return r<1?m0((a,s)=>Q2(s)&&n[a]!=null?Kr(Kr({},s),{},{velocity:zy(s.velocity,n[a].velocity,r),from:zy(s.from,n[a].from,r)}):s,t):wF(e,n,r-1)};function Zhe(e,t,r,n,a,s){var l,u=n.reduce((y,b)=>Kr(Kr({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>m0((y,b)=>b.from,u),f=()=>!Object.values(u).filter(Q2).length,m=null,g=y=>{l||(l=y);var b=y-l,v=b/r.dt;u=wF(r,u,v),a(Kr(Kr(Kr({},e),t),d())),l=y,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var y;(y=m)===null||y===void 0||y()})}function e0e(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,y)=>{var b=e[y],v=t[y];return b==null||v==null?g:Kr(Kr({},g),{},{[y]:[b,v]})},{}),f,m=g=>{f||(f=g);var y=(g-f)/n,b=m0((S,k)=>zy(...k,r(y)),d);if(s(Kr(Kr(Kr({},e),t),b)),y<1)u=l.setTimeout(m);else{var v=m0((S,k)=>zy(...k,r(1)),d);s(Kr(Kr(Kr({},e),t),v))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const t0e=(e,t,r,n,a,s)=>{var l=Yhe(e,t);return r==null?()=>(a(Kr(Kr({},e),t)),()=>{}):r.isStepper===!0?Zhe(e,t,r,l,a,s):e0e(e,t,r,n,l,a,s)};var $y=1e-4,kF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SF=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),VO=(e,t)=>r=>{var n=kF(e,t);return SF(n,r)},r0e=(e,t)=>r=>{var n=kF(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return SF(a,r)},n0e=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},a0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=n0e(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},s0e=(e,t,r,n)=>{var a=VO(e,r),s=VO(t,n),l=r0e(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,g=m,y=0;y<8;++y){var b=a(g)-m,v=l(g);if(Math.abs(b-m)<$y||v<$y)return s(g);g=u(g-b/v)}return s(g)};return d.isStepper=!1,d},YO=function(){return s0e(...a0e(...arguments))},i0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,m=d*n,g=d+(f-m)*a/1e3,y=d*a/1e3+l;return Math.abs(y-u)<$y&&Math.abs(g)<$y?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},o0e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YO(e);case"spring":return i0e();default:if(e.split("(")[0]==="cubic-bezier")return YO(e)}return typeof e=="function"?e:null};function l0e(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class c0e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function u0e(){return l0e(new c0e)}var d0e=x.createContext(u0e);function f0e(e,t){var r=x.useContext(d0e);return x.useMemo(()=>t??r(e),[e,t,r])}var h0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nb={isSsr:h0e()},m0e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XO={t:0},Yk={t:1};function Eb(e){var t=$r(e,m0e),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,m=r==="auto"?!Nb.isSsr:r,g=f0e(t.animationId,t.animationManager),[y,b]=x.useState(m?XO:Yk),v=x.useRef(null);return x.useEffect(()=>{m||b(Yk)},[m]),x.useEffect(()=>{if(!m||!n)return V0;var S=t0e(XO,Yk,o0e(s),a,b,g.getTimeoutController()),k=()=>{v.current=S()};return g.start([d,l,k,a,u]),()=>{g.stop(),v.current&&v.current(),u()}},[m,n,a,s,l,d,u,g]),f(y.t)}function _b(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(d0(t)),n=x.useRef(e);return n.current!==e&&(r.current=d0(t),n.current=e),r.current}var g0e=["radius"],p0e=["radius"],JO,QO,ZO,eM,tM,rM,nM,aM,sM,iM;function oM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(r),!0).forEach(function(n){y0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0e(e,t,r){return(t=x0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x0e(e){var t=b0e(e,"string");return typeof t=="symbol"?t:t+""}function b0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function cM(e,t){if(e==null)return{};var r,n,a=v0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ri(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uM=(e,t,r,n,a)=>{var s=bl(r),l=bl(n),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,f=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&a instanceof Array){for(var y=[0,0,0,0],b=0,v=4;b<v;b++)y[b]=a[b]>u?u:a[b];g=Er(JO||(JO=ri(["M",",",""])),e,t+d*y[0]),y[0]>0&&(g+=Er(QO||(QO=ri(["A ",",",",0,0,",",",",",""])),y[0],y[0],m,e+f*y[0],t)),g+=Er(ZO||(ZO=ri(["L ",",",""])),e+r-f*y[1],t),y[1]>0&&(g+=Er(eM||(eM=ri(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],m,e+r,t+d*y[1])),g+=Er(tM||(tM=ri(["L ",",",""])),e+r,t+n-d*y[2]),y[2]>0&&(g+=Er(rM||(rM=ri(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],m,e+r-f*y[2],t+n)),g+=Er(nM||(nM=ri(["L ",",",""])),e+f*y[3],t+n),y[3]>0&&(g+=Er(aM||(aM=ri(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],m,e,t+n-d*y[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var S=Math.min(u,a);g=Er(sM||(sM=ri(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*S,S,S,m,e+f*S,t,e+r-f*S,t,S,S,m,e+r,t+d*S,e+r,t+n-d*S,S,S,m,e+r-f*S,t+n,e+f*S,t+n,S,S,m,e,t+n-d*S)}else g=Er(iM||(iM=ri(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},dM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e_=e=>{var t=$r(e,dM),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ee=r.current.getTotalLength();ee&&a(ee)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:v,isUpdateAnimationActive:S}=t,k=x.useRef(u),N=x.useRef(d),E=x.useRef(s),_=x.useRef(l),O=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),j=_b(O,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var A=At("recharts-rectangle",m);if(!S){var R=Pn(t),{radius:U}=R,V=cM(R,g0e);return x.createElement("path",Hy({},V,{x:bl(s),y:bl(l),width:bl(u),height:bl(d),radius:typeof f=="number"?f:void 0,className:A,d:uM(s,l,u,d,f)}))}var W=k.current,G=N.current,$=E.current,z=_.current,Y="0px ".concat(n===-1?1:n,"px"),le="".concat(n,"px 0px"),H=vF(["strokeDasharray"],y,typeof g=="string"?g:dM.animationEasing);return x.createElement(Eb,{animationId:j,key:j,canBegin:n>0,duration:y,easing:g,isActive:S,begin:b},ee=>{var q=In(W,u,ee),te=In(G,d,ee),D=In($,s,ee),M=In(z,l,ee);r.current&&(k.current=q,N.current=te,E.current=D,_.current=M);var L;v?ee>0?L={transition:H,strokeDasharray:le}:L={strokeDasharray:Y}:L={strokeDasharray:le};var J=Pn(t),{radius:se}=J,je=cM(J,p0e);return x.createElement("path",Hy({},je,{radius:typeof f=="number"?f:void 0,className:A,d:uM(D,M,q,te,f),ref:r,style:lM(lM({},L),t.style)}))})};function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){w0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w0e(e,t,r){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k0e(e){var t=S0e(e,"string");return typeof t=="symbol"?t:t+""}function S0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qy=Math.PI/180,C0e=e=>e*180/Math.PI,Fr=(e,t,r,n)=>({x:e+Math.cos(-qy*n)*r,y:t+Math.sin(-qy*n)*r}),CF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},N0e=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},E0e=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=N0e({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:C0e(d),angleInRadian:d}},_0e=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},j0e=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},A0e=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=E0e({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=_0e(t),m=s,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?hM(hM({},t),{},{radius:a,angle:j0e(m,t)}):null};function NF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=Fr(t,r,n,a),u=Fr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var mM,gM,pM,yM,xM,bM,vM;function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z2.apply(null,arguments)}function vc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T0e=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ip=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,m=Math.asin(u/f)/qy,g=d?a:a+s*m,y=Fr(t,r,f,g),b=Fr(t,r,n,g),v=d?a-s*m:a,S=Fr(t,r,f*Math.cos(m*qy),v);return{center:y,circleTangency:b,lineTangency:S,theta:m}},EF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=T0e(s,l),d=s+u,f=Fr(t,r,a,s),m=Fr(t,r,a,d),g=Er(mM||(mM=vc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(u)>180),+(s>d),m.x,m.y);if(n>0){var y=Fr(t,r,n,s),b=Fr(t,r,n,d);g+=Er(gM||(gM=vc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(u)>180),+(s<=d),y.x,y.y)}else g+=Er(pM||(pM=vc(["L ",","," Z"])),t,r);return g},I0e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,m=Mn(f-d),{circleTangency:g,lineTangency:y,theta:b}=ip({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:v,lineTangency:S,theta:k}=ip({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),N=u?Math.abs(d-f):Math.abs(d-f)-b-k;if(N<0)return l?Er(yM||(yM=vc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,s,s,s*2,s,s,-s*2):EF({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var E=Er(xM||(xM=vc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,s,s,+(m<0),g.x,g.y,a,a,+(N>180),+(m<0),v.x,v.y,s,s,+(m<0),S.x,S.y);if(n>0){var{circleTangency:_,lineTangency:O,theta:j}=ip({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:A,lineTangency:R,theta:U}=ip({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),V=u?Math.abs(d-f):Math.abs(d-f)-j-U;if(V<0&&s===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+=Er(bM||(bM=vc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,s,s,+(m<0),A.x,A.y,n,n,+(V>180),+(m>0),_.x,_.y,s,s,+(m<0),O.x,O.y)}else E+=Er(vM||(vM=vc(["L",",","Z"])),t,r);return E},O0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_F=e=>{var t=$r(e,O0e),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(s<a||f===m)return null;var y=At("recharts-sector",g),b=s-a,v=La(l,b,0,!0),S;return v>0&&Math.abs(f-m)<360?S=I0e({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):S=EF({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),x.createElement("path",Z2({},Pn(t),{className:y,d:S}))};function M0e(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(pU(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=Fr(n,a,s,u),f=Fr(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return NF(t)}}var Xk={},Jk={},Qk={},wM;function R0e(){return wM||(wM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_U();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Qk)),Qk}var kM;function D0e(){return kM||(kM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R0e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Jk)),Jk}var SM;function P0e(){return SM||(SM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU(),r=D0e();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(Xk)),Xk}var Zk,CM;function L0e(){return CM||(CM=1,Zk=P0e().range),Zk}var U0e=L0e();const jF=ko(U0e);function Sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function F0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function t_(e){let t,r,n;e.length!==2?(t=Sl,r=(u,d)=>Sl(e(u),d),n=(u,d)=>e(u)-d):(t=e===Sl||e===F0e?e:B0e,r=e,n=e);function a(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<0?f=g+1:m=g}while(f<m)}return f}function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,d,f=0,m=u.length){const g=a(u,d,f,m-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function B0e(){return 0}function AF(e){return e===null?NaN:+e}function*z0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $0e=t_(Sl),Q0=$0e.right;t_(AF).center;class NM extends Map{constructor(t,r=K0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(EM(this,t))}has(t){return super.has(EM(this,t))}set(t,r){return super.set(H0e(this,t),r)}delete(t){return super.delete(q0e(this,t))}}function EM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function H0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function q0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function K0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G0e(e=Sl){if(e===Sl)return TF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const W0e=Math.sqrt(50),V0e=Math.sqrt(10),Y0e=Math.sqrt(2);function Ky(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=W0e?10:s>=V0e?5:s>=Y0e?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Ky(e,t,r*2):[u,d,f]}function eC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Ky(t,e,r):Ky(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function tC(e,t,r){return t=+t,e=+e,r=+r,Ky(e,t,r)[2]}function rC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?tC(t,e,r):tC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _M(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function IF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?TF:G0e(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*g/d+y)),v=Math.min(n,Math.floor(t+(d-f)*g/d+y));IF(e,t,b,v,a)}const s=e[t];let l=r,u=n;for(Dh(e,r,t),a(e[n],s)>0&&Dh(e,r,n);l<u;){for(Dh(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Dh(e,r,u):(++u,Dh(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Dh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function X0e(e,t,r){if(e=Float64Array.from(z0e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jM(e);if(t>=1)return _M(e);var n,a=(n-1)*t,s=Math.floor(a),l=_M(IF(e,s).subarray(0,s+1)),u=jM(e.subarray(s+1));return l+(u-l)*(a-s)}}function J0e(e,t,r=AF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function Q0e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nC=Symbol("implicit");function r_(){var e=new NM,t=[],r=[],n=nC;function a(s){let l=e.get(s);if(l===void 0){if(n!==nC)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new NM;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return r_(t,r).unknown(n)},ks.apply(a,arguments),a}function n_(){var e=r_().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var y=t().length,b=a<n,v=b?a:n,S=b?n:a;s=(S-v)/Math.max(1,y-d+f*2),u&&(s=Math.floor(s)),v+=(S-v-s*(y-d))*m,l=s*(1-d),u&&(v=Math.round(v),l=Math.round(l));var k=Q0e(y).map(function(N){return v+s*N});return r(b?k.reverse():k)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},e.copy=function(){return n_(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},ks.apply(g(),arguments)}function OF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OF(t())},e}function Z0e(){return OF(n_.apply(null,arguments).paddingInner(1))}function a_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Z0(){}var g0=.7,Gy=1/g0,Id="\\s*([+-]?\\d+)\\s*",p0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eme=/^#([0-9a-f]{3,8})$/,tme=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),rme=new RegExp(`^rgb\\(${gi},${gi},${gi}\\)$`),nme=new RegExp(`^rgba\\(${Id},${Id},${Id},${p0}\\)$`),ame=new RegExp(`^rgba\\(${gi},${gi},${gi},${p0}\\)$`),sme=new RegExp(`^hsl\\(${p0},${gi},${gi}\\)$`),ime=new RegExp(`^hsla\\(${p0},${gi},${gi},${p0}\\)$`),AM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a_(Z0,y0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TM,formatHex:TM,formatHex8:ome,formatHsl:lme,formatRgb:IM,toString:IM});function TM(){return this.rgb().formatHex()}function ome(){return this.rgb().formatHex8()}function lme(){return RF(this).formatHsl()}function IM(){return this.rgb().formatRgb()}function y0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eme.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?OM(t):r===3?new ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?op(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?op(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tme.exec(e))?new ua(t[1],t[2],t[3],1):(t=rme.exec(e))?new ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nme.exec(e))?op(t[1],t[2],t[3],t[4]):(t=ame.exec(e))?op(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sme.exec(e))?DM(t[1],t[2]/100,t[3]/100,1):(t=ime.exec(e))?DM(t[1],t[2]/100,t[3]/100,t[4]):AM.hasOwnProperty(e)?OM(AM[e]):e==="transparent"?new ua(NaN,NaN,NaN,0):null}function OM(e){return new ua(e>>16&255,e>>8&255,e&255,1)}function op(e,t,r,n){return n<=0&&(e=t=r=NaN),new ua(e,t,r,n)}function cme(e){return e instanceof Z0||(e=y0(e)),e?(e=e.rgb(),new ua(e.r,e.g,e.b,e.opacity)):new ua}function aC(e,t,r,n){return arguments.length===1?cme(e):new ua(e,t,r,n??1)}function ua(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}a_(ua,aC,MF(Z0,{brighter(e){return e=e==null?Gy:Math.pow(Gy,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?g0:Math.pow(g0,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ua(Oc(this.r),Oc(this.g),Oc(this.b),Wy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MM,formatHex:MM,formatHex8:ume,formatRgb:RM,toString:RM}));function MM(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}function ume(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function RM(){const e=Wy(this.opacity);return`${e===1?"rgb(":"rgba("}${Oc(this.r)}, ${Oc(this.g)}, ${Oc(this.b)}${e===1?")":`, ${e})`}`}function Wy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wc(e){return e=Oc(e),(e<16?"0":"")+e.toString(16)}function DM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ps(e,t,r,n)}function RF(e){if(e instanceof Ps)return new Ps(e.h,e.s,e.l,e.opacity);if(e instanceof Z0||(e=y0(e)),!e)return new Ps;if(e instanceof Ps)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Ps(l,u,d,e.opacity)}function dme(e,t,r,n){return arguments.length===1?RF(e):new Ps(e,t,r,n??1)}function Ps(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}a_(Ps,dme,MF(Z0,{brighter(e){return e=e==null?Gy:Math.pow(Gy,e),new Ps(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?g0:Math.pow(g0,e),new Ps(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ua(eS(e>=240?e-240:e+120,a,n),eS(e,a,n),eS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ps(PM(this.h),lp(this.s),lp(this.l),Wy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wy(this.opacity);return`${e===1?"hsl(":"hsla("}${PM(this.h)}, ${lp(this.s)*100}%, ${lp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function PM(e){return e=(e||0)%360,e<0?e+360:e}function lp(e){return Math.max(0,Math.min(1,e||0))}function eS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const s_=e=>()=>e;function fme(e,t){return function(r){return e+r*t}}function hme(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mme(e){return(e=+e)==1?DF:function(t,r){return r-t?hme(t,r,e):s_(isNaN(t)?r:t)}}function DF(e,t){var r=t-e;return r?fme(e,r):s_(isNaN(e)?t:e)}const LM=(function e(t){var r=mme(t);function n(a,s){var l=r((a=aC(a)).r,(s=aC(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=DF(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function gme(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function pme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yme(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=yf(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function xme(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bme(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yf(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var sC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tS=new RegExp(sC.source,"g");function vme(e){return function(){return e}}function wme(e){return function(t){return e(t)+""}}function kme(e,t){var r=sC.lastIndex=tS.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=sC.exec(e))&&(a=tS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Vy(n,a)})),r=tS.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?wme(d[0].x):vme(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(f);return u.join("")})}function yf(e,t){var r=typeof t,n;return t==null||r==="boolean"?s_(t):(r==="number"?Vy:r==="string"?(n=y0(t))?(t=n,LM):kme:t instanceof y0?LM:t instanceof Date?xme:pme(t)?gme:Array.isArray(t)?yme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bme:Vy)(e,t)}function i_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Sme(e,t){t===void 0&&(t=e,e=yf);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function Cme(e){return function(){return e}}function Yy(e){return+e}var UM=[0,1];function Wn(e){return e}function iC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Cme(isNaN(t)?NaN:.5)}function Nme(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Eme(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=iC(a,n),s=r(l,s)):(n=iC(n,a),s=r(s,l)),function(u){return s(n(u))}}function _me(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=iC(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Q0(e,u,1,n)-1;return s[d](a[d](u))}}function em(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jb(){var e=UM,t=UM,r=yf,n,a,s,l=Wn,u,d,f;function m(){var y=Math.min(e.length,t.length);return l!==Wn&&(l=Nme(e[0],e[y-1])),u=y>2?_me:Eme,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(d||(d=u(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((f||(f=u(t,e.map(n),Vy)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Yy),m()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=i_,m()},g.clamp=function(y){return arguments.length?(l=y?!0:Wn,m()):l!==Wn},g.interpolate=function(y){return arguments.length?(r=y,m()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,b){return n=y,a=b,m()}}function o_(){return jb()(Wn,Wn)}function jme(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Hd(e){return e=Xy(Math.abs(e)),e?e[1]:NaN}function Ame(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Tme(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ime=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x0(e){if(!(t=Ime.exec(e)))throw new Error("invalid format: "+e);var t;return new l_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}x0.prototype=l_.prototype;function l_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ome(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var PF;function Mme(e,t){var r=Xy(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(PF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Xy(e,Math.max(0,t+s-1))[0]}function FM(e,t){var r=Xy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const BM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jme,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FM(e*100,t),r:FM,s:Mme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zM(e){return e}var $M=Array.prototype.map,HM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rme(e){var t=e.grouping===void 0||e.thousands===void 0?zM:Ame($M.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?zM:Tme($M.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=x0(g);var y=g.fill,b=g.align,v=g.sign,S=g.symbol,k=g.zero,N=g.width,E=g.comma,_=g.precision,O=g.trim,j=g.type;j==="n"?(E=!0,j="g"):BM[j]||(_===void 0&&(_=12),O=!0,j="g"),(k||y==="0"&&b==="=")&&(k=!0,y="0",b="=");var A=S==="$"?r:S==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",R=S==="$"?n:/[%p]/.test(j)?l:"",U=BM[j],V=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function W(G){var $=A,z=R,Y,le,H;if(j==="c")z=U(G)+z,G="";else{G=+G;var ee=G<0||1/G<0;if(G=isNaN(G)?d:U(Math.abs(G),_),O&&(G=Ome(G)),ee&&+G==0&&v!=="+"&&(ee=!1),$=(ee?v==="("?v:u:v==="-"||v==="("?"":v)+$,z=(j==="s"?HM[8+PF/3]:"")+z+(ee&&v==="("?")":""),V){for(Y=-1,le=G.length;++Y<le;)if(H=G.charCodeAt(Y),48>H||H>57){z=(H===46?a+G.slice(Y+1):G.slice(Y))+z,G=G.slice(0,Y);break}}}E&&!k&&(G=t(G,1/0));var q=$.length+G.length+z.length,te=q<N?new Array(N-q+1).join(y):"";switch(E&&k&&(G=t(te+G,te.length?N-z.length:1/0),te=""),b){case"<":G=$+G+z+te;break;case"=":G=$+te+G+z;break;case"^":G=te.slice(0,q=te.length>>1)+$+G+z+te.slice(q);break;default:G=te+$+G+z;break}return s(G)}return W.toString=function(){return g+""},W}function m(g,y){var b=f((g=x0(g),g.type="f",g)),v=Math.max(-8,Math.min(8,Math.floor(Hd(y)/3)))*3,S=Math.pow(10,-v),k=HM[8+v/3];return function(N){return b(S*N)+k}}return{format:f,formatPrefix:m}}var cp,c_,LF;Dme({thousands:",",grouping:[3],currency:["$",""]});function Dme(e){return cp=Rme(e),c_=cp.format,LF=cp.formatPrefix,cp}function Pme(e){return Math.max(0,-Hd(Math.abs(e)))}function Lme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(t)/3)))*3-Hd(Math.abs(e)))}function Ume(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hd(t)-Hd(e))+1}function UF(e,t,r,n){var a=rC(e,t,r),s;switch(n=x0(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Lme(a,l))&&(n.precision=s),LF(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Ume(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Pme(a))&&(n.precision=s-(n.type==="%")*2);break}}return c_(n)}function Fl(e){var t=e.domain;return e.ticks=function(r){var n=t();return eC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return UF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=tC(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function FF(){var e=o_();return e.copy=function(){return em(e,FF())},ks.apply(e,arguments),Fl(e)}function BF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BF(e).unknown(t)},e=arguments.length?Array.from(e,Yy):[0,1],Fl(r)}function zF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function qM(e){return Math.log(e)}function KM(e){return Math.exp(e)}function Fme(e){return-Math.log(-e)}function Bme(e){return-Math.exp(-e)}function zme(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $me(e){return e===10?zme:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Hme(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function GM(e){return(t,r)=>-e(-t,r)}function u_(e){const t=e(qM,KM),r=t.domain;let n=10,a,s;function l(){return a=Hme(n),s=$me(n),r()[0]<0?(a=GM(a),s=GM(s),e(Fme,Bme)):e(qM,KM),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let y=a(f),b=a(m),v,S;const k=u==null?10:+u;let N=[];if(!(n%1)&&b-y<k){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(v=1;v<n;++v)if(S=y<0?v/s(-y):v*s(y),!(S<f)){if(S>m)break;N.push(S)}}else for(;y<=b;++y)for(v=n-1;v>=1;--v)if(S=y>0?v/s(-y):v*s(y),!(S<f)){if(S>m)break;N.push(S)}N.length*2<k&&(N=eC(f,m,k))}else N=eC(y,b,Math.min(b-y,k)).map(s);return g?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=x0(d)).precision==null&&(d.trim=!0),d=c_(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(zF(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function $F(){const e=u_(jb()).domain([1,10]);return e.copy=()=>em(e,$F()).base(e.base()),ks.apply(e,arguments),e}function WM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function d_(e){var t=1,r=e(WM(t),VM(t));return r.constant=function(n){return arguments.length?e(WM(t=+n),VM(t)):t},Fl(r)}function HF(){var e=d_(jb());return e.copy=function(){return em(e,HF()).constant(e.constant())},ks.apply(e,arguments)}function YM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qme(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kme(e){return e<0?-e*e:e*e}function f_(e){var t=e(Wn,Wn),r=1;function n(){return r===1?e(Wn,Wn):r===.5?e(qme,Kme):e(YM(r),YM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fl(t)}function h_(){var e=f_(jb());return e.copy=function(){return em(e,h_()).exponent(e.exponent())},ks.apply(e,arguments),e}function Gme(){return h_.apply(null,arguments).exponent(.5)}function XM(e){return Math.sign(e)*e*e}function Wme(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qF(){var e=o_(),t=[0,1],r=!1,n;function a(s){var l=Wme(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(XM(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Yy)).map(XM)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return qF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ks.apply(a,arguments),Fl(a)}function KF(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=J0e(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Q0(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Sl),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return KF().domain(e).range(t).unknown(n)},ks.apply(s,arguments)}function GF(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Q0(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return GF().domain([e,t]).range(a).unknown(s)},ks.apply(Fl(l),arguments)}function WF(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Q0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return WF().domain(e).range(t).unknown(r)},ks.apply(a,arguments)}const rS=new Date,nS=new Date;function Yr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>Yr(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(rS.setTime(+s),nS.setTime(+l),e(rS),e(nS),Math.floor(r(rS,nS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Jy=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jy);Jy.range;const Ji=1e3,hs=Ji*60,Qi=hs*60,ho=Qi*24,m_=ho*7,JM=ho*30,aS=ho*365,kc=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCSeconds());kc.range;const g_=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getMinutes());g_.range;const p_=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hs)},(e,t)=>(t-e)/hs,e=>e.getUTCMinutes());p_.range;const y_=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji-e.getMinutes()*hs)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getHours());y_.range;const x_=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCHours());x_.range;const tm=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hs)/ho,e=>e.getDate()-1);tm.range;const Ab=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ho,e=>e.getUTCDate()-1);Ab.range;const VF=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ho,e=>Math.floor(e/ho));VF.range;function ou(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hs)/m_)}const Tb=ou(0),Qy=ou(1),Vme=ou(2),Yme=ou(3),qd=ou(4),Xme=ou(5),Jme=ou(6);Tb.range;Qy.range;Vme.range;Yme.range;qd.range;Xme.range;Jme.range;function lu(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/m_)}const Ib=lu(0),Zy=lu(1),Qme=lu(2),Zme=lu(3),Kd=lu(4),ege=lu(5),tge=lu(6);Ib.range;Zy.range;Qme.range;Zme.range;Kd.range;ege.range;tge.range;const b_=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b_.range;const v_=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());v_.range;const mo=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});mo.range;const go=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});go.range;function YF(e,t,r,n,a,s){const l=[[kc,1,Ji],[kc,5,5*Ji],[kc,15,15*Ji],[kc,30,30*Ji],[s,1,hs],[s,5,5*hs],[s,15,15*hs],[s,30,30*hs],[a,1,Qi],[a,3,3*Qi],[a,6,6*Qi],[a,12,12*Qi],[n,1,ho],[n,2,2*ho],[r,1,m_],[t,1,JM],[t,3,3*JM],[e,1,aS]];function u(f,m,g){const y=m<f;y&&([f,m]=[m,f]);const b=g&&typeof g.range=="function"?g:d(f,m,g),v=b?b.range(f,+m+1):[];return y?v.reverse():v}function d(f,m,g){const y=Math.abs(m-f)/g,b=t_(([,,k])=>k).right(l,y);if(b===l.length)return e.every(rC(f/aS,m/aS,g));if(b===0)return Jy.every(Math.max(rC(f,m,g),1));const[v,S]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return v.every(S)}return[u,d]}const[rge,nge]=YF(go,v_,Ib,VF,x_,p_),[age,sge]=YF(mo,b_,Tb,tm,y_,g_);function sS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ph(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ige(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Lh(a),m=Uh(a),g=Lh(s),y=Uh(s),b=Lh(l),v=Uh(l),S=Lh(u),k=Uh(u),N=Lh(d),E=Uh(d),_={a:ee,A:q,b:te,B:D,c:null,d:nR,e:nR,f:Age,g:Fge,G:zge,H:Ege,I:_ge,j:jge,L:XF,m:Tge,M:Ige,p:M,q:L,Q:iR,s:oR,S:Oge,u:Mge,U:Rge,V:Dge,w:Pge,W:Lge,x:null,X:null,y:Uge,Y:Bge,Z:$ge,"%":sR},O={a:J,A:se,b:je,B:Re,c:null,d:aR,e:aR,f:Gge,g:rpe,G:ape,H:Hge,I:qge,j:Kge,L:QF,m:Wge,M:Vge,p:Le,q:Ce,Q:iR,s:oR,S:Yge,u:Xge,U:Jge,V:Qge,w:Zge,W:epe,x:null,X:null,y:tpe,Y:npe,Z:spe,"%":sR},j={a:W,A:G,b:$,B:z,c:Y,d:tR,e:tR,f:kge,g:eR,G:ZM,H:rR,I:rR,j:xge,L:wge,m:yge,M:bge,p:V,q:pge,Q:Cge,s:Nge,S:vge,u:dge,U:fge,V:hge,w:uge,W:mge,x:le,X:H,y:eR,Y:ZM,Z:gge,"%":Sge};_.x=A(r,_),_.X=A(n,_),_.c=A(t,_),O.x=A(r,O),O.X=A(n,O),O.c=A(t,O);function A(Q,Ee){return function(we){var ae=[],nt=-1,De=0,Ve=Q.length,Ze,ce,Ae;for(we instanceof Date||(we=new Date(+we));++nt<Ve;)Q.charCodeAt(nt)===37&&(ae.push(Q.slice(De,nt)),(ce=QM[Ze=Q.charAt(++nt)])!=null?Ze=Q.charAt(++nt):ce=Ze==="e"?" ":"0",(Ae=Ee[Ze])&&(Ze=Ae(we,ce)),ae.push(Ze),De=nt+1);return ae.push(Q.slice(De,nt)),ae.join("")}}function R(Q,Ee){return function(we){var ae=Ph(1900,void 0,1),nt=U(ae,Q,we+="",0),De,Ve;if(nt!=we.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(Ee&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(De=iS(Ph(ae.y,0,1)),Ve=De.getUTCDay(),De=Ve>4||Ve===0?Zy.ceil(De):Zy(De),De=Ab.offset(De,(ae.V-1)*7),ae.y=De.getUTCFullYear(),ae.m=De.getUTCMonth(),ae.d=De.getUTCDate()+(ae.w+6)%7):(De=sS(Ph(ae.y,0,1)),Ve=De.getDay(),De=Ve>4||Ve===0?Qy.ceil(De):Qy(De),De=tm.offset(De,(ae.V-1)*7),ae.y=De.getFullYear(),ae.m=De.getMonth(),ae.d=De.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Ve="Z"in ae?iS(Ph(ae.y,0,1)).getUTCDay():sS(Ph(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Ve+5)%7:ae.w+ae.U*7-(Ve+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,iS(ae)):sS(ae)}}function U(Q,Ee,we,ae){for(var nt=0,De=Ee.length,Ve=we.length,Ze,ce;nt<De;){if(ae>=Ve)return-1;if(Ze=Ee.charCodeAt(nt++),Ze===37){if(Ze=Ee.charAt(nt++),ce=j[Ze in QM?Ee.charAt(nt++):Ze],!ce||(ae=ce(Q,we,ae))<0)return-1}else if(Ze!=we.charCodeAt(ae++))return-1}return ae}function V(Q,Ee,we){var ae=f.exec(Ee.slice(we));return ae?(Q.p=m.get(ae[0].toLowerCase()),we+ae[0].length):-1}function W(Q,Ee,we){var ae=b.exec(Ee.slice(we));return ae?(Q.w=v.get(ae[0].toLowerCase()),we+ae[0].length):-1}function G(Q,Ee,we){var ae=g.exec(Ee.slice(we));return ae?(Q.w=y.get(ae[0].toLowerCase()),we+ae[0].length):-1}function $(Q,Ee,we){var ae=N.exec(Ee.slice(we));return ae?(Q.m=E.get(ae[0].toLowerCase()),we+ae[0].length):-1}function z(Q,Ee,we){var ae=S.exec(Ee.slice(we));return ae?(Q.m=k.get(ae[0].toLowerCase()),we+ae[0].length):-1}function Y(Q,Ee,we){return U(Q,t,Ee,we)}function le(Q,Ee,we){return U(Q,r,Ee,we)}function H(Q,Ee,we){return U(Q,n,Ee,we)}function ee(Q){return l[Q.getDay()]}function q(Q){return s[Q.getDay()]}function te(Q){return d[Q.getMonth()]}function D(Q){return u[Q.getMonth()]}function M(Q){return a[+(Q.getHours()>=12)]}function L(Q){return 1+~~(Q.getMonth()/3)}function J(Q){return l[Q.getUTCDay()]}function se(Q){return s[Q.getUTCDay()]}function je(Q){return d[Q.getUTCMonth()]}function Re(Q){return u[Q.getUTCMonth()]}function Le(Q){return a[+(Q.getUTCHours()>=12)]}function Ce(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Ee=A(Q+="",_);return Ee.toString=function(){return Q},Ee},parse:function(Q){var Ee=R(Q+="",!1);return Ee.toString=function(){return Q},Ee},utcFormat:function(Q){var Ee=A(Q+="",O);return Ee.toString=function(){return Q},Ee},utcParse:function(Q){var Ee=R(Q+="",!0);return Ee.toString=function(){return Q},Ee}}}var QM={"-":"",_:" ",0:"0"},un=/^\s*\d+/,oge=/^%/,lge=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function cge(e){return e.replace(lge,"\\$&")}function Lh(e){return new RegExp("^(?:"+e.map(cge).join("|")+")","i")}function Uh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uge(e,t,r){var n=un.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dge(e,t,r){var n=un.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ZM(e,t,r){var n=un.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eR(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gge(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pge(e,t,r){var n=un.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tR(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xge(e,t,r){var n=un.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rR(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vge(e,t,r){var n=un.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function wge(e,t,r){var n=un.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kge(e,t,r){var n=un.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Sge(e,t,r){var n=oge.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Cge(e,t,r){var n=un.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Nge(e,t,r){var n=un.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nR(e,t){return Tt(e.getDate(),t,2)}function Ege(e,t){return Tt(e.getHours(),t,2)}function _ge(e,t){return Tt(e.getHours()%12||12,t,2)}function jge(e,t){return Tt(1+tm.count(mo(e),e),t,3)}function XF(e,t){return Tt(e.getMilliseconds(),t,3)}function Age(e,t){return XF(e,t)+"000"}function Tge(e,t){return Tt(e.getMonth()+1,t,2)}function Ige(e,t){return Tt(e.getMinutes(),t,2)}function Oge(e,t){return Tt(e.getSeconds(),t,2)}function Mge(e){var t=e.getDay();return t===0?7:t}function Rge(e,t){return Tt(Tb.count(mo(e)-1,e),t,2)}function JF(e){var t=e.getDay();return t>=4||t===0?qd(e):qd.ceil(e)}function Dge(e,t){return e=JF(e),Tt(qd.count(mo(e),e)+(mo(e).getDay()===4),t,2)}function Pge(e){return e.getDay()}function Lge(e,t){return Tt(Qy.count(mo(e)-1,e),t,2)}function Uge(e,t){return Tt(e.getFullYear()%100,t,2)}function Fge(e,t){return e=JF(e),Tt(e.getFullYear()%100,t,2)}function Bge(e,t){return Tt(e.getFullYear()%1e4,t,4)}function zge(e,t){var r=e.getDay();return e=r>=4||r===0?qd(e):qd.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function $ge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function aR(e,t){return Tt(e.getUTCDate(),t,2)}function Hge(e,t){return Tt(e.getUTCHours(),t,2)}function qge(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function Kge(e,t){return Tt(1+Ab.count(go(e),e),t,3)}function QF(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function Gge(e,t){return QF(e,t)+"000"}function Wge(e,t){return Tt(e.getUTCMonth()+1,t,2)}function Vge(e,t){return Tt(e.getUTCMinutes(),t,2)}function Yge(e,t){return Tt(e.getUTCSeconds(),t,2)}function Xge(e){var t=e.getUTCDay();return t===0?7:t}function Jge(e,t){return Tt(Ib.count(go(e)-1,e),t,2)}function ZF(e){var t=e.getUTCDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function Qge(e,t){return e=ZF(e),Tt(Kd.count(go(e),e)+(go(e).getUTCDay()===4),t,2)}function Zge(e){return e.getUTCDay()}function epe(e,t){return Tt(Zy.count(go(e)-1,e),t,2)}function tpe(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function rpe(e,t){return e=ZF(e),Tt(e.getUTCFullYear()%100,t,2)}function npe(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function ape(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kd(e):Kd.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function spe(){return"+0000"}function sR(){return"%"}function iR(e){return+e}function oR(e){return Math.floor(+e/1e3)}var ed,eB,tB;ipe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ipe(e){return ed=ige(e),eB=ed.format,ed.parse,tB=ed.utcFormat,ed.utcParse,ed}function ope(e){return new Date(e)}function lpe(e){return e instanceof Date?+e:+new Date(+e)}function w_(e,t,r,n,a,s,l,u,d,f){var m=o_(),g=m.invert,y=m.domain,b=f(".%L"),v=f(":%S"),S=f("%I:%M"),k=f("%I %p"),N=f("%a %d"),E=f("%b %d"),_=f("%B"),O=f("%Y");function j(A){return(d(A)<A?b:u(A)<A?v:l(A)<A?S:s(A)<A?k:n(A)<A?a(A)<A?N:E:r(A)<A?_:O)(A)}return m.invert=function(A){return new Date(g(A))},m.domain=function(A){return arguments.length?y(Array.from(A,lpe)):y().map(ope)},m.ticks=function(A){var R=y();return e(R[0],R[R.length-1],A??10)},m.tickFormat=function(A,R){return R==null?j:f(R)},m.nice=function(A){var R=y();return(!A||typeof A.range!="function")&&(A=t(R[0],R[R.length-1],A??10)),A?y(zF(R,A)):m},m.copy=function(){return em(m,w_(e,t,r,n,a,s,l,u,d,f))},m}function cpe(){return ks.apply(w_(age,sge,mo,b_,Tb,tm,y_,g_,kc,eB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function upe(){return ks.apply(w_(rge,nge,go,v_,Ib,Ab,x_,p_,kc,tB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ob(){var e=0,t=1,r,n,a,s,l=Wn,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(y){var b,v;return arguments.length?([b,v]=y,l=g(b,v),f):[l(0),l(1)]}}return f.range=m(yf),f.rangeRound=m(i_),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function Bl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rB(){var e=Fl(Ob()(Wn));return e.copy=function(){return Bl(e,rB())},Eo.apply(e,arguments)}function nB(){var e=u_(Ob()).domain([1,10]);return e.copy=function(){return Bl(e,nB()).base(e.base())},Eo.apply(e,arguments)}function aB(){var e=d_(Ob());return e.copy=function(){return Bl(e,aB()).constant(e.constant())},Eo.apply(e,arguments)}function k_(){var e=f_(Ob());return e.copy=function(){return Bl(e,k_()).exponent(e.exponent())},Eo.apply(e,arguments)}function dpe(){return k_.apply(null,arguments).exponent(.5)}function sB(){var e=[],t=Wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Q0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>X0e(e,s/n))},r.copy=function(){return sB(t).domain(e)},Eo.apply(r,arguments)}function Mb(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Wn,m,g=!1,y;function b(S){return isNaN(S=+S)?y:(S=.5+((S=+m(S))-s)*(n*S<n*s?u:d),f(g?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([e,t,r]=S,a=m(e=+e),s=m(t=+t),l=m(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,b):[e,t,r]},b.clamp=function(S){return arguments.length?(g=!!S,b):g},b.interpolator=function(S){return arguments.length?(f=S,b):f};function v(S){return function(k){var N,E,_;return arguments.length?([N,E,_]=k,f=Sme(S,[N,E,_]),b):[f(0),f(.5),f(1)]}}return b.range=v(yf),b.rangeRound=v(i_),b.unknown=function(S){return arguments.length?(y=S,b):y},function(S){return m=S,a=S(e),s=S(t),l=S(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,b}}function iB(){var e=Fl(Mb()(Wn));return e.copy=function(){return Bl(e,iB())},Eo.apply(e,arguments)}function oB(){var e=u_(Mb()).domain([.1,1,10]);return e.copy=function(){return Bl(e,oB()).base(e.base())},Eo.apply(e,arguments)}function lB(){var e=d_(Mb());return e.copy=function(){return Bl(e,lB()).constant(e.constant())},Eo.apply(e,arguments)}function S_(){var e=f_(Mb());return e.copy=function(){return Bl(e,S_()).exponent(e.exponent())},Eo.apply(e,arguments)}function fpe(){return S_.apply(null,arguments).exponent(.5)}const Kh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n_,scaleDiverging:iB,scaleDivergingLog:oB,scaleDivergingPow:S_,scaleDivergingSqrt:fpe,scaleDivergingSymlog:lB,scaleIdentity:BF,scaleImplicit:nC,scaleLinear:FF,scaleLog:$F,scaleOrdinal:r_,scalePoint:Z0e,scalePow:h_,scaleQuantile:KF,scaleQuantize:GF,scaleRadial:qF,scaleSequential:rB,scaleSequentialLog:nB,scaleSequentialPow:k_,scaleSequentialQuantile:sB,scaleSequentialSqrt:dpe,scaleSequentialSymlog:aB,scaleSqrt:Gme,scaleSymlog:HF,scaleThreshold:WF,scaleTime:cpe,scaleUtc:upe,tickFormat:UF},Symbol.toStringTag,{value:"Module"}));var zl=e=>e.chartData,C_=de([zl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),N_=(e,t,r,n)=>n?C_(e):zl(e);function Ol(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(zr(t)&&zr(r))return!0}return!1}function lR(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function cB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(zr(r))a=r;else if(typeof r=="function")return;if(zr(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Ol(l))return l}}function hpe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ol(n))return lR(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ge(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&NO.test(a)){var d=NO.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ge(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&EO.test(s)){var m=EO.exec(s);if(m==null||m[1]==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var y=[l,u];if(Ol(y))return t==null?y:lR(y,t,r)}}}var xf=1e9,mpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},__,yr=!0,vs="[DecimalError] ",Mc=vs+"Invalid argument: ",E_=vs+"Exponent out of range: ",bf=Math.floor,gc=Math.pow,gpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ma,an=1e7,ur=7,uB=9007199254740991,ex=bf(uB/ur),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ur;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return to(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return Xt(to(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return Br(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ma))throw Error(vs+"NaN");if(r.s<1)throw Error(vs+(r.s?"NaN":"-Infinity"));return r.eq(Ma)?new n(0):(yr=!1,t=to(b0(r,s),b0(e,s),s),yr=!0,Xt(t,a))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hB(t,e):dB(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(vs+"NaN");return r.s?(yr=!1,t=to(r,e,0,1).times(e),yr=!0,r.minus(t)):Xt(new n(r),a)};ze.naturalExponential=ze.exp=function(){return fB(this)};ze.naturalLogarithm=ze.ln=function(){return b0(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dB(t,e):hB(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mc+e);if(t=Br(a)+1,n=a.d.length-1,r=n*ur+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(vs+"NaN")}for(e=Br(u),yr=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=ui(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(to(u,s,l+2)).times(.5),ui(s.d).slice(0,l)===(t=ui(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Xt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return yr=!0,Xt(n,r)};ze.times=ze.mul=function(e){var t,r,n,a,s,l,u,d,f,m=this,g=m.constructor,y=m.d,b=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=y.length,f=b.length,d<f&&(s=y,y=b,b=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+b[n]*y[a-n-1]+t,s[a--]=u%an|0,t=u/an|0;s[a]=(s[a]+t)%an|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,yr?Xt(e,g.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(bi(e,0,xf),t===void 0?t=n.rounding:bi(t,0,8),Xt(r,e+Br(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qc(n,!0):(bi(e,0,xf),t===void 0?t=a.rounding:bi(t,0,8),n=Xt(new a(n),e+1,t),r=Qc(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Qc(a):(bi(e,0,xf),t===void 0?t=s.rounding:bi(t,0,8),n=Xt(new s(a),e+Br(a)+1,t),r=Qc(n.abs(),!1,e+Br(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return Xt(new t(e),Br(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Ma);if(u=new d(u),!u.s){if(e.s<1)throw Error(vs+"Infinity");return u}if(u.eq(Ma))return u;if(n=d.precision,e.eq(Ma))return Xt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=m<0?-m:m)<=uB){for(a=new d(Ma),t=Math.ceil(n/ur+4),yr=!1;r%2&&(a=a.times(u),uR(a.d,t)),r=bf(r/2),r!==0;)u=u.times(u),uR(u.d,t);return yr=!0,e.s<0?new d(Ma).div(a):Xt(a,n)}}else if(s<0)throw Error(vs+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,yr=!1,a=e.times(b0(u,n+f)),yr=!0,a=fB(a),a.s=s,a};ze.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Br(a),n=Qc(a,r<=s.toExpNeg||r>=s.toExpPos)):(bi(e,1,xf),t===void 0?t=s.rounding:bi(t,0,8),a=Xt(new s(a),e,t),r=Br(a),n=Qc(a,e<=r||r<=s.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(bi(e,1,xf),t===void 0?t=n.rounding:bi(t,0,8)),Xt(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Br(e),r=e.constructor;return Qc(e,t<=r.toExpNeg||t>=r.toExpPos)};function dB(e,t){var r,n,a,s,l,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),yr?Xt(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/ur),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/an|0,d[s]%=an;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,yr?Xt(t,g):t}function bi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mc+e)}function ui(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=ur-n.length,r&&(s+=ol(r)),s+=n;l=e[t],n=l+"",r=ur-n.length,r&&(s+=ol(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var to=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%an|0,l=s/an|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*an+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,m,g,y,b,v,S,k,N,E,_,O,j,A,R,U,V=n.constructor,W=n.s==a.s?1:-1,G=n.d,$=a.d;if(!n.s)return new V(n);if(!a.s)throw Error(vs+"Division by zero");for(d=n.e-a.e,R=$.length,j=G.length,b=new V(W),v=b.d=[],f=0;$[f]==(G[f]||0);)++f;if($[f]>(G[f]||0)&&--d,s==null?E=s=V.precision:l?E=s+(Br(n)-Br(a))+1:E=s,E<0)return new V(0);if(E=E/ur+2|0,f=0,R==1)for(m=0,$=$[0],E++;(f<j||m)&&E--;f++)_=m*an+(G[f]||0),v[f]=_/$|0,m=_%$|0;else{for(m=an/($[0]+1)|0,m>1&&($=e($,m),G=e(G,m),R=$.length,j=G.length),O=R,S=G.slice(0,R),k=S.length;k<R;)S[k++]=0;U=$.slice(),U.unshift(0),A=$[0],$[1]>=an/2&&++A;do m=0,u=t($,S,R,k),u<0?(N=S[0],R!=k&&(N=N*an+(S[1]||0)),m=N/A|0,m>1?(m>=an&&(m=an-1),g=e($,m),y=g.length,k=S.length,u=t(g,S,y,k),u==1&&(m--,r(g,R<y?U:$,y))):(m==0&&(u=m=1),g=$.slice()),y=g.length,y<k&&g.unshift(0),r(S,g,k),u==-1&&(k=S.length,u=t($,S,R,k),u<1&&(m++,r(S,R<k?U:$,k))),k=S.length):u===0&&(m++,S=[0]),v[f++]=m,u&&S[0]?S[k++]=G[O]||0:(S=[G[O]],k=1);while((O++<j||S[0]!==void 0)&&E--)}return v[0]||v.shift(),b.e=d,Xt(b,l?s+Br(b)+1:s)}})();function fB(e,t){var r,n,a,s,l,u,d=0,f=0,m=e.constructor,g=m.precision;if(Br(e)>16)throw Error(E_+Br(e));if(!e.s)return new m(Ma);for(yr=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(gc(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new m(Ma),m.precision=u;;){if(a=Xt(a.times(e),u),r=r.times(++d),l=s.plus(to(a,r,u)),ui(l.d).slice(0,u)===ui(s.d).slice(0,u)){for(;f--;)s=Xt(s.times(s),u);return m.precision=g,t==null?(yr=!0,Xt(s,g)):s}s=l}}function Br(e){for(var t=e.e*ur,r=e.d[0];r>=10;r/=10)t++;return t}function oS(e,t,r){if(t>e.LN10.sd())throw yr=!0,r&&(e.precision=r),Error(vs+"LN10 precision limit exceeded");return Xt(new e(e.LN10),t)}function ol(e){for(var t="";e--;)t+="0";return t}function b0(e,t){var r,n,a,s,l,u,d,f,m,g=1,y=10,b=e,v=b.d,S=b.constructor,k=S.precision;if(b.s<1)throw Error(vs+(b.s?"NaN":"-Infinity"));if(b.eq(Ma))return new S(0);if(t==null?(yr=!1,f=k):f=t,b.eq(10))return t==null&&(yr=!0),oS(S,f);if(f+=y,S.precision=f,r=ui(v),n=r.charAt(0),s=Br(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=ui(b.d),n=r.charAt(0),g++;s=Br(b),n>1?(b=new S("0."+r),s++):b=new S(n+"."+r.slice(1))}else return d=oS(S,f+2,k).times(s+""),b=b0(new S(n+"."+r.slice(1)),f-y).plus(d),S.precision=k,t==null?(yr=!0,Xt(b,k)):b;for(u=l=b=to(b.minus(Ma),b.plus(Ma),f),m=Xt(b.times(b),f),a=3;;){if(l=Xt(l.times(m),f),d=u.plus(to(l,new S(a),f)),ui(d.d).slice(0,f)===ui(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(oS(S,f+2,k).times(s+""))),u=to(u,new S(g),f),S.precision=k,t==null?(yr=!0,Xt(u,k)):u;u=d,a+=2}}function cR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bf(r/ur),e.d=[],n=(r+1)%ur,r<0&&(n+=ur),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ur;n<a;)e.d.push(+t.slice(n,n+=ur));t=t.slice(n),n=ur-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),yr&&(e.e>ex||e.e<-ex))throw Error(E_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xt(e,t,r){var n,a,s,l,u,d,f,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=ur,a=t,f=g[m=0];else{if(m=Math.ceil((n+1)/ur),s=g.length,m>=s)return e;for(f=s=g[m],l=1;s>=10;s/=10)l++;n%=ur,a=n-ur+l}if(r!==void 0&&(s=gc(10,l-a-1),u=f/s%10|0,d=t<0||g[m+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/gc(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=Br(e),g.length=1,t=t-s-1,g[0]=gc(10,(ur-t%ur)%ur),e.e=bf(-t/ur)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=gc(10,ur-n),g[m]=a>0?(f/gc(10,l-a)%gc(10,a)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==an&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=an)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(yr&&(e.e>ex||e.e<-ex))throw Error(E_+Br(e));return e}function hB(e,t){var r,n,a,s,l,u,d,f,m,g,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),yr?Xt(t,b):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(b/ur),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=an-1;--d[s],d[a]+=an}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,yr?Xt(t,b):t):new y(0)}function Qc(e,t,r){var n,a=Br(e),s=ui(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+ol(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ol(-a-1)+s,r&&(n=r-l)>0&&(s+=ol(n))):a>=l?(s+=ol(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+ol(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=ol(n))),e.s<0?"-"+s:s}function uR(e,t){if(e.length>t)return e.length=t,!0}function mB(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Mc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return cR(l,s.toString())}else if(typeof s!="string")throw Error(Mc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,gpe.test(s))cR(l,s);else throw Error(Mc+s)}if(a.prototype=ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mB,a.config=a.set=ppe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ppe(e){if(!e||typeof e!="object")throw Error(vs+"Object expected");var t,r,n,a=["precision",1,xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Mc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Mc+r+": "+n);return this}var __=mB(mpe);Ma=new __(1);const Ut=__;var ype=e=>e,gB={},pB=e=>e===gB,dR=e=>function t(){return arguments.length===0||arguments.length===1&&pB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},yB=(e,t)=>e===1?t:dR(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==gB).length;return s>=e?t(...n):yB(e-s,dR(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(m=>pB(m)?u.shift():m);return t(...f,...u)}))}),xpe=e=>yB(e.length,e),oC=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},bpe=xpe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),vpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ype;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function xB(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function bB(e,t,r){for(var n=new Ut(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var vB=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},wB=(e,t,r)=>{if(e.lte(0))return new Ut(0);var n=xB(e.toNumber()),a=new Ut(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new Ut(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new Ut(d.toNumber()):new Ut(Math.ceil(d.toNumber()))},wpe=(e,t,r)=>{var n=new Ut(1),a=new Ut(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Ut(10).pow(xB(e)-1),a=new Ut(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ut(Math.floor(e)))}else e===0?a=new Ut(Math.floor((t-1)/2)):r||(a=new Ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=vpe(bpe(d=>a.add(new Ut(d-l).mul(n)).toNumber()),oC);return u(0,t)},kB=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var l=wB(new Ut(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new Ut(0):(u=new Ut(t).add(r).div(2),u=u.sub(new Ut(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Ut(r).sub(u).div(l).toNumber()),m=d+f+1;return m>n?kB(t,r,n,a,s+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:u.sub(new Ut(d).mul(l)),tickMax:u.add(new Ut(f).mul(l))})},kpe=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=vB([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...oC(0,a-1).map(()=>1/0)]:[...oC(0,a-1).map(()=>-1/0),d];return r>n?f.reverse():f}if(u===d)return wpe(u,a,s);var{step:m,tickMin:g,tickMax:y}=kB(u,d,l,s,0),b=bB(g,y.add(new Ut(.1).mul(m)),m);return r>n?b.reverse():b},Spe=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=vB([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=wB(new Ut(u).sub(l).div(d-1),s,0),m=[...bB(new Ut(l),new Ut(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?m.reverse():m},Cpe=e=>e.rootProps.barCategoryGap,rm=e=>e.rootProps.stackOffset,SB=e=>e.rootProps.reverseStackOrder,j_=e=>e.options.chartName,A_=e=>e.rootProps.syncId,CB=e=>e.rootProps.syncMethod,T_=e=>e.options.eventEmitter,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ia={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Npe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:Vi.reversed,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:Vi.type,unit:void 0},Epe={allowDataOverflow:Ia.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:Ia.tickCount,ticks:void 0,type:Ia.type,unit:void 0},_pe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jpe={allowDataOverflow:Ia.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ia.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ia.scale,tick:Ia.tick,tickCount:Ia.tickCount,ticks:void 0,type:"category",unit:void 0},I_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_pe:Npe,O_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?jpe:Epe,Db=e=>e.polarOptions,M_=de([Co,No,cn],CF),NB=de([Db,M_],(e,t)=>{if(e!=null)return La(e.innerRadius,t,0)}),EB=de([Db,M_],(e,t)=>{if(e!=null)return La(e.outerRadius,t,t*.8)}),Ape=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},_B=de([Db],Ape);de([I_,_B],Rb);var jB=de([M_,NB,EB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});de([O_,jB],Rb);var AB=de([Gt,Db,NB,EB,Co,No],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:La(l,a,a/2),cy:La(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),br=(e,t)=>t,nm=(e,t,r)=>r;function TB(e){return e?.id}function IB(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=TB(u);f.forEach((g,y)=>{var b=s==null||a?y:String(dr(g,s,null)),v=dr(g,u.dataKey,0),S;l.has(b)?S=l.get(b):S={},Object.assign(S,{[m]:v}),l.set(b,S)})}}),Array.from(l.values())}function R_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Pb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Lb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Tpe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Xr=e=>{var t=Gt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vf=e=>e.tooltip.settings.axisId;function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){Ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ipe(e,t,r){return(t=Ope(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ope(e){var t=Mpe(e,"string");return typeof t=="symbol"?t:t+""}function Mpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lC=[0,"auto"],tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OB=(e,t)=>e.cartesianAxis.xAxis[t],_o=(e,t)=>{var r=OB(e,t);return r??tn},rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:X0},MB=(e,t)=>e.cartesianAxis.yAxis[t],jo=(e,t)=>{var r=MB(e,t);return r??rn},Rpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},D_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Rpe},kr=(e,t,r)=>{switch(t){case"xAxis":return _o(e,r);case"yAxis":return jo(e,r);case"zAxis":return D_(e,r);case"angleAxis":return I_(e,r);case"radiusAxis":return O_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Dpe=(e,t,r)=>{switch(t){case"xAxis":return _o(e,r);case"yAxis":return jo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},am=(e,t,r)=>{switch(t){case"xAxis":return _o(e,r);case"yAxis":return jo(e,r);case"angleAxis":return I_(e,r);case"radiusAxis":return O_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},RB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function P_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var DB=e=>e.graphicalItems.cartesianItems,Ppe=de([br,nm],P_),L_=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),sm=de([DB,kr,Ppe],L_,{memoizeOptions:{resultEqualityCheck:Lb}}),PB=de([sm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(R_)),LB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Lpe=de([sm],LB),U_=e=>e.map(t=>t.data).filter(Boolean).flat(1),Upe=de([sm],U_,{memoizeOptions:{resultEqualityCheck:Lb}}),F_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},B_=de([Upe,N_],F_),z_=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:dr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:dr(a,n)}))):e.map(n=>({value:n})),Ub=de([B_,kr,sm],z_);function UB(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Fp(e){if(ca(e)||e instanceof Date){var t=Number(e);if(zr(t))return t}}function hR(e){if(Array.isArray(e)){var t=[Fp(e[0]),Fp(e[1])];return Ol(t)?t:void 0}var r=Fp(e);if(r!=null)return[r,r]}function po(e){return e.map(Fp).filter(Jce)}function Fpe(e,t,r){return!r||typeof t!="number"||yi(t)?[]:r.length?po(r.flatMap(n=>{var a=dr(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!zr(s)||!zr(l)))return[t-s,t+l]})):[]}var Jr=e=>{var t=Xr(e),r=vf(e);return am(e,t,r)},im=de([Jr],e=>e?.dataKey),Bpe=de([PB,N_,Jr],IB),FB=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,m=f.map(TB);return[u,{stackedData:bfe(e,m,r),graphicalItems:f}]}))},zpe=de([Bpe,PB,rm,SB],FB),BB=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=kfe(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$pe=de([kr],e=>e.allowDataOverflow),$_=e=>{var t;if(e==null||!("domain"in e))return lC;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=po(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:lC},H_=de([kr],$_),q_=de([H_,$pe],cB),Hpe=de([zpe,zl,br,q_],BB,{memoizeOptions:{resultEqualityCheck:Pb}}),Fb=e=>e.errorBars,qpe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>UB(r,n)),rx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},K_=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,m,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(N=>UB(a,N)),y=dr(u,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=Fpe(u,y,g);if(b.length>=2){var v=Math.min(...b),S=Math.max(...b);(s==null||v<s)&&(s=v),(l==null||S>l)&&(l=S)}var k=hR(y);k!=null&&(s=s==null?k[0]:Math.min(s,k[0]),l=l==null?k[1]:Math.max(l,k[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=hR(dr(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),zr(s)&&zr(l))return[s,l]},Kpe=de([B_,kr,Lpe,Fb,br],K_,{memoizeOptions:{resultEqualityCheck:Pb}});function Gpe(e){var{value:t}=e;if(ca(t)||t instanceof Date)return t}var Wpe=(e,t,r)=>{var n=e.map(Gpe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hU(n))?jF(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},zB=e=>e.referenceElements.dots,wf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Vpe=de([zB,br,nm],wf),$B=e=>e.referenceElements.areas,Ype=de([$B,br,nm],wf),HB=e=>e.referenceElements.lines,Xpe=de([HB,br,nm],wf),qB=(e,t)=>{if(e!=null){var r=po(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Jpe=de(Vpe,br,qB),KB=(e,t)=>{if(e!=null){var r=po(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Qpe=de([Ype,br],KB);function Zpe(e){var t;if(e.x!=null)return po([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:po(r)}function eye(e){var t;if(e.y!=null)return po([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:po(r)}var GB=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Zpe(n):eye(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},tye=de([Xpe,br],GB),rye=de(Jpe,tye,Qpe,(e,t,r)=>rx(e,r,t)),G_=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?rx(n,s,a):rx(s,a);return hpe(t,f,e.allowDataOverflow)},nye=de([kr,H_,q_,Hpe,Kpe,rye,Gt,br],G_,{memoizeOptions:{resultEqualityCheck:Pb}}),aye=[0,1],W_=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Ul(t,s);if(f&&u==null){var m;return jF(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?Wpe(n,e,f):a==="expand"?aye:l}},V_=de([kr,Gt,B_,Ub,rm,br,nye],W_),WB=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(W0(s));return u in Kh?u:"point"}}},kf=de([kr,Gt,RB,j_,br],WB);function sye(e){if(e!=null){if(e in Kh)return Kh[e]();var t="scale".concat(W0(e));if(t in Kh)return Kh[t]()}}function Y_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=sye(t);if(a!=null){var s=a.domain(r).range(n);return gfe(s),s}}}var X_=(e,t,r)=>{var n=$_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ol(e))return kpe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ol(e))return Spe(e,t.tickCount,t.allowDecimals)}},J_=de([V_,am,kf],X_),Q_=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ol(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},iye=de([kr,V_,J_,br],Q_),oye=de(Ub,kr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(po(e.map(g=>g.value))).sort((g,y)=>g-y),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var u=0;u<n.length-1;u++){var d=n[u],f=n[u+1];if(!(d==null||f==null)){var m=f-d;r=Math.min(r,m)}}return r/l}}),VB=de(oye,Gt,Cpe,cn,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!zr(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=La(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),lye=(e,t,r)=>{var n=_o(e,t);return n==null||typeof n.padding!="string"?0:VB(e,"xAxis",t,r,n.padding)},cye=(e,t,r)=>{var n=jo(e,t);return n==null||typeof n.padding!="string"?0:VB(e,"yAxis",t,r,n.padding)},uye=de(_o,lye,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),dye=de(jo,cye,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),fye=de([cn,uye,kb,wb,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),hye=de([cn,Gt,dye,kb,wb,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),om=(e,t,r,n)=>{var a;switch(t){case"xAxis":return fye(e,r,n);case"yAxis":return hye(e,r,n);case"zAxis":return(a=D_(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return _B(e);case"radiusAxis":return jB(e,r);default:return}},YB=de([kr,om],Rb),Gd=de([kr,kf,iye,YB],Y_);de([sm,Fb,br],qpe);function XB(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bb=(e,t)=>t,zb=(e,t,r)=>r,mye=de(bb,Bb,zb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XB)),gye=de(vb,Bb,zb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XB)),JB=(e,t)=>({width:e.width,height:t.height}),pye=(e,t)=>{var r=typeof t.width=="number"?t.width:X0;return{width:r,height:e.height}},yye=de(cn,_o,JB),xye=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},bye=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},vye=de(No,cn,mye,Bb,zb,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=JB(t,u);l==null&&(l=xye(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),wye=de(Co,cn,gye,Bb,zb,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=pye(t,u);l==null&&(l=bye(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),kye=(e,t)=>{var r=_o(e,t);if(r!=null)return vye(e,r.orientation,r.mirror)},Sye=de([cn,_o,kye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Cye=(e,t)=>{var r=jo(e,t);if(r!=null)return wye(e,r.orientation,r.mirror)},Nye=de([cn,jo,Cye,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Eye=de(cn,jo,(e,t)=>{var r=typeof t.width=="number"?t.width:X0;return{width:r,height:e.height}}),QB=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=Ul(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&hU(d))return d}},Z_=de([Gt,Ub,kr,br],QB),ZB=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=Ul(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},ej=de([Gt,Ub,am,br],ZB),mR=de([Gt,Dpe,kf,Gd,Z_,ej,om,J_,br],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=Ul(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),_ye=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=Ul(e,d),{type:m,ticks:g,tickCount:y}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=m==="category"&&n.bandwidth?n.bandwidth()/b:0;v=d==="angleAxis"&&s!=null&&s.length>=2?Mn(s[0]-s[1])*2*v:v;var S=g||a;if(S){var k=S.map((N,E)=>{var _=l?l.indexOf(N):N;return{index:E,coordinate:n(_)+v,value:N,offset:v}});return k.filter(N=>zr(N.coordinate))}return f&&u?u.map((N,E)=>({coordinate:n(N)+v,value:N,index:E,offset:v})).filter(N=>zr(N.coordinate)):n.ticks?n.ticks(y).map(N=>({coordinate:n(N)+v,value:N,offset:v})):n.domain().map((N,E)=>({coordinate:n(N)+v,value:l?l[N]:N,index:E,offset:v}))}},ez=de([Gt,am,kf,Gd,J_,om,Z_,ej,br],_ye),jye=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Ul(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Mn(n[0]-n[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:a?a[m]:m,index:g,offset:f}))}},tz=de([Gt,am,Gd,om,Z_,ej,br],jye),rz=de(kr,Gd,(e,t)=>{if(!(e==null||t==null))return tx(tx({},e),{},{scale:t})}),Aye=de([kr,kf,V_,YB],Y_);de((e,t,r)=>D_(e,r),Aye,(e,t)=>{if(!(e==null||t==null))return tx(tx({},e),{},{scale:t})});var Tye=de([Gt,bb,vb],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),nz=e=>e.options.defaultTooltipEventType,az=e=>e.options.validateTooltipEventTypes;function sz(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function tj(e,t){var r=nz(e),n=az(e);return sz(t,r,n)}function Iye(e){return qe(t=>tj(t,e))}var iz=(e,t)=>{var r,n=Number(t);if(!(yi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Oye=e=>e.tooltip.settings,pl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Mye={itemInteraction:{click:pl,hover:pl},axisInteraction:{click:pl,hover:pl},keyboardInteraction:pl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oz=va({name:"tooltip",initialState:Mye,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:pr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:pr()},removeTooltipEntrySettings:{reducer(e,t){var r=Bs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:pr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Rye,replaceTooltipEntrySettings:Dye,removeTooltipEntrySettings:Pye,setTooltipSettingsState:Lye,setActiveMouseOverItemIndex:lz,mouseLeaveItem:Uye,mouseLeaveChart:cz,setActiveClickItemIndex:Fye,setMouseOverAxisIndex:uz,setMouseClickAxisIndex:Bye,setSyncInteraction:cC,setKeyboardInteraction:uC}=oz.actions,zye=oz.reducer;function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){$ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ye(e,t,r){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kye(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Gye(e){return e.index!=null}var dz=(e,t,r,n)=>{if(t==null)return pl;var a=Kye(e,t,r);if(a==null)return pl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Gye(a)){if(s)return up(up({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return up(up({},pl),{},{coordinate:a.coordinate})};function Wye(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Vye(e,t){var r=Wye(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function Yye(e,t,r){if(r==null||t==null)return!0;var n=dr(e,t);return n==null||!Ol(r)?!0:Vye(n,r)}var rj=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!zr(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||Yye(f,r,n)?String(d):null},fz=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},hz=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},lm=e=>e.options.tooltipPayloadSearcher,Sf=e=>e.tooltip;function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Xye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xye(e,t,r){return(t=Jye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jye(e){var t=Qye(e,"string");return typeof t=="symbol"?t:t+""}function Qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zye(e,t){return e??t}var mz=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((y,b)=>{var v,{dataDefinedOnItem:S,settings:k}=b,N=Zye(S,u),E=Array.isArray(N)?nF(N,f,m):N,_=(v=k?.dataKey)!==null&&v!==void 0?v:n,O=k?.nameKey,j;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?j=mU(E,n,a):j=s(E,t,d,O),Array.isArray(j))j.forEach(R=>{var U=yR(yR({},k),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(_O({tooltipEntrySettings:U,dataKey:R.dataKey,payload:R.payload,value:dr(R.payload,R.dataKey),name:R.name}))});else{var A;y.push(_O({tooltipEntrySettings:k,dataKey:_,payload:j,value:dr(j,_),name:(A=dr(j,O))!==null&&A!==void 0?A:k?.name}))}return y},g)}},nj=de([Jr,Gt,RB,j_,Xr],WB),exe=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),txe=de([Xr,vf],P_),Cf=de([exe,Jr,txe],L_,{memoizeOptions:{resultEqualityCheck:Lb}}),rxe=de([Cf],e=>e.filter(R_)),nxe=de([Cf],U_,{memoizeOptions:{resultEqualityCheck:Lb}}),Nf=de([nxe,zl],F_),axe=de([rxe,zl,Jr],IB),aj=de([Nf,Jr,Cf],z_),gz=de([Jr],$_),sxe=de([Jr],e=>e.allowDataOverflow),pz=de([gz,sxe],cB),ixe=de([Cf],e=>e.filter(R_)),oxe=de([axe,ixe,rm,SB],FB),lxe=de([oxe,zl,Xr,pz],BB),cxe=de([Cf],LB),uxe=de([Nf,Jr,cxe,Fb,Xr],K_,{memoizeOptions:{resultEqualityCheck:Pb}}),dxe=de([zB,Xr,vf],wf),fxe=de([dxe,Xr],qB),hxe=de([$B,Xr,vf],wf),mxe=de([hxe,Xr],KB),gxe=de([HB,Xr,vf],wf),pxe=de([gxe,Xr],GB),yxe=de([fxe,pxe,mxe],rx),xxe=de([Jr,gz,pz,lxe,uxe,yxe,Gt,Xr],G_),cm=de([Jr,Gt,Nf,aj,rm,Xr,xxe],W_),bxe=de([cm,Jr,nj],X_),vxe=de([Jr,cm,bxe,Xr],Q_),yz=e=>{var t=Xr(e),r=vf(e),n=!1;return om(e,t,r,n)},xz=de([Jr,yz],Rb),bz=de([Jr,nj,vxe,xz],Y_),wxe=de([Gt,aj,Jr,Xr],QB),kxe=de([Gt,aj,Jr,Xr],ZB),Sxe=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=Ul(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Mn(a[0]-a[1])*2*g:g,f&&l?l.map((y,b)=>({coordinate:n(y)+g,value:y,index:b,offset:g})):n.domain().map((y,b)=>({coordinate:n(y)+g,value:s?s[y]:y,index:b,offset:g}))}}},Ao=de([Gt,Jr,nj,bz,yz,wxe,kxe,Xr],Sxe),sj=de([nz,az,Oye],(e,t,r)=>sz(r.shared,e,t)),vz=e=>e.tooltip.settings.trigger,ij=e=>e.tooltip.settings.defaultIndex,um=de([Sf,sj,vz,ij],dz),Wd=de([um,Nf,im,cm],rj),wz=de([Ao,Wd],iz),kz=de([um],e=>{if(e)return e.dataKey}),Cxe=de([um],e=>{if(e)return e.graphicalItemId}),Sz=de([Sf,sj,vz,ij],hz),Nxe=de([Co,No,Gt,cn,Ao,ij,Sz,lm],fz),Exe=de([um,Nxe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_xe=de([um],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),jxe=de([Sz,Wd,zl,im,wz,lm,sj],mz),Axe=de([jxe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){Txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Txe(e,t,r){return(t=Ixe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ixe(e){var t=Oxe(e,"string");return typeof t=="symbol"?t:t+""}function Oxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mxe=()=>qe(Jr),Rxe=()=>{var e=Mxe(),t=qe(Ao),r=qe(bz);return Uy(!e||!r?void 0:bR(bR({},e),{},{scale:r}),t)};function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){Dxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dxe(e,t,r){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pxe(e){var t=Lxe(e,"string");return typeof t=="symbol"?t:t+""}function Lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uxe=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Fxe=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return td(td(td({},n),Fr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return td(td(td({},n),Fr(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Bxe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Cz=(e,t,r,n,a)=>{var s,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,m,g,y,b=u>0?(d=r[u-1])===null||d===void 0?void 0:d.coordinate:(f=r[l-1])===null||f===void 0?void 0:f.coordinate,v=(m=r[u])===null||m===void 0?void 0:m.coordinate,S=u>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(y=r[u+1])===null||y===void 0?void 0:y.coordinate,k=void 0;if(!(b==null||v==null||S==null))if(Mn(v-b)!==Mn(S-v)){var N=[];if(Mn(S-v)===Mn(a[1]-a[0])){k=S;var E=v+a[1]-a[0];N[0]=Math.min(E,(E+b)/2),N[1]=Math.max(E,(E+b)/2)}else{k=b;var _=S+a[1]-a[0];N[0]=Math.min(v,(_+v)/2),N[1]=Math.max(v,(_+v)/2)}var O=[Math.min(v,(k+v)/2),Math.max(v,(k+v)/2)];if(e>O[0]&&e<=O[1]||e>=N[0]&&e<=N[1]){var j;return(j=r[u])===null||j===void 0?void 0:j.index}}else{var A=Math.min(b,S),R=Math.max(b,S);if(e>(A+v)/2&&e<=(R+v)/2){var U;return(U=r[u])===null||U===void 0?void 0:U.index}}}else if(t)for(var V=0;V<l;V++){var W=t[V];if(W!=null){var G=t[V+1],$=t[V-1];if(V===0&&G!=null&&e<=(W.coordinate+G.coordinate)/2||V===l-1&&$!=null&&e>(W.coordinate+$.coordinate)/2||V>0&&V<l-1&&$!=null&&G!=null&&e>(W.coordinate+$.coordinate)/2&&e<=(W.coordinate+G.coordinate)/2)return W.index}}return-1},zxe=()=>qe(j_),oj=(e,t)=>t,Nz=(e,t,r)=>r,lj=(e,t,r,n)=>n,$xe=de(Ao,e=>db(e,t=>t.coordinate)),cj=de([Sf,oj,Nz,lj],dz),uj=de([cj,Nf,im,cm],rj),Hxe=(e,t,r)=>{if(t!=null){var n=Sf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Ez=de([Sf,oj,Nz,lj],hz),nx=de([Co,No,Gt,cn,Ao,lj,Ez,lm],fz),qxe=de([cj,nx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),_z=de([Ao,uj],iz),Kxe=de([Ez,uj,zl,im,_z,lm,oj],mz),Gxe=de([cj,uj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Wxe=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Bxe(e,l)){var u=Sfe(e,t),d=Cz(u,s,a,r,n),f=Uxe(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Vxe=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=A0e(e,r);if(u){var d=Cfe(u,t),f=Cz(d,l,s,n,a),m=Fxe(t,s,f,u);return{activeIndex:String(f),activeCoordinate:m}}}},Yxe=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Wxe(e,t,n,a,s,l,u):Vxe(e,t,r,n,a,s,l)},Xxe=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Jxe=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(on)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Tpe}});function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){Qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qxe(e,t,r){return(t=Zxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxe(e){var t=ebe(e,"string");return typeof t=="symbol"?t:t+""}function ebe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tbe={},rbe={zIndexMap:Object.values(on).reduce((e,t)=>kR(kR({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),tbe)},nbe=new Set(Object.values(on));function abe(e){return nbe.has(e)}var jz=va({name:"zIndex",initialState:rbe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:pr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!abe(r)&&delete e.zIndexMap[r])},prepare:pr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:pr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:pr()}}}),{registerZIndexPortal:sbe,unregisterZIndexPortal:ibe,registerZIndexPortalElement:obe,unregisterZIndexPortalElement:lbe}=jz.actions,cbe=jz.reducer;function Ss(e){var{zIndex:t,children:r}=e,n=the(),a=n&&t!==void 0&&t!==0,s=Yn(),l=Qt();x.useLayoutEffect(()=>a?(l(sbe({zIndex:t})),()=>{l(ibe({zIndex:t}))}):V0,[l,t,a]);var u=qe(d=>Xxe(d,t,s));return a?u?Vx.createPortal(r,u):null:r}function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dC.apply(null,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t,r){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function mbe(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=r,y=n,b=a;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var v,S,k;if(m==="ScatterChart")v=g,S=Hhe,k=on.cursorLine;else if(m==="BarChart")v=qhe(u,g,s,l),S=e_,k=on.cursorRectangle;else if(u==="radial"&&pU(g)){var{cx:N,cy:E,radius:_,startAngle:O,endAngle:j}=NF(g);v={cx:N,cy:E,startAngle:O,endAngle:j,innerRadius:_,outerRadius:_},S=_F,k=on.cursorLine}else v={points:M0e(u,g,s)},S=ZE,k=on.cursorLine;var A=typeof d=="object"&&"className"in d?d.className:void 0,R=dp(dp(dp(dp({stroke:"#ccc",pointerEvents:"none"},s),v),Bd(d)),{},{payload:y,payloadIndex:b,className:At("recharts-tooltip-cursor",A)});return x.createElement(Ss,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},x.createElement(hbe,{cursor:d,cursorComp:S,cursorProps:R}))}function gbe(e){var t=Rxe(),r=mF(),n=J0(),a=zxe();return t==null||r==null||n==null||a==null?null:x.createElement(mbe,dC({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Az=x.createContext(null),pbe=()=>x.useContext(Az),lS={exports:{}},CR;function ybe(){return CR||(CR=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new a(m,g||d,y),v=r?r+f:f;return d._events[v]?d._events[v].fn?d._events[v]=[d._events[v],b]:d._events[v].push(b):(d._events[v]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,v=new Array(b);y<b;y++)v[y]=g[y].fn;return v},u.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,y,b,v){var S=r?r+f:f;if(!this._events[S])return!1;var k=this._events[S],N=arguments.length,E,_;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),N){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,m),!0;case 3:return k.fn.call(k.context,m,g),!0;case 4:return k.fn.call(k.context,m,g,y),!0;case 5:return k.fn.call(k.context,m,g,y,b),!0;case 6:return k.fn.call(k.context,m,g,y,b,v),!0}for(_=1,E=new Array(N-1);_<N;_++)E[_-1]=arguments[_];k.fn.apply(k.context,E)}else{var O=k.length,j;for(_=0;_<O;_++)switch(k[_].once&&this.removeListener(f,k[_].fn,void 0,!0),N){case 1:k[_].fn.call(k[_].context);break;case 2:k[_].fn.call(k[_].context,m);break;case 3:k[_].fn.call(k[_].context,m,g);break;case 4:k[_].fn.call(k[_].context,m,g,y);break;default:if(!E)for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];k[_].fn.apply(k[_].context,E)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,y){var b=r?r+f:f;if(!this._events[b])return this;if(!m)return l(this,b),this;var v=this._events[b];if(v.fn)v.fn===m&&(!y||v.once)&&(!g||v.context===g)&&l(this,b);else{for(var S=0,k=[],N=v.length;S<N;S++)(v[S].fn!==m||y&&!v[S].once||g&&v[S].context!==g)&&k.push(v[S]);k.length?this._events[b]=k.length===1?k[0]:k:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(lS)),lS.exports}var xbe=ybe();const bbe=ko(xbe);var v0=new bbe,fC="recharts.syncEvent.tooltip",NR="recharts.syncEvent.brush";function Tz(e,t){if(t){var r=Number.parseInt(t,10);if(!yi(r))return e?.[r]}}var vbe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Iz=va({name:"options",initialState:vbe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wbe=Iz.reducer,{createEventEmitter:kbe}=Iz.actions;function Sbe(e){return e.tooltip.syncInteraction}var Cbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Oz=va({name:"chartData",initialState:Cbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ER,setDataStartEndIndexes:Nbe,setComputedData:yOe}=Oz.actions,Ebe=Oz.reducer,_be=["x","y"];function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t,r){return(t=Abe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Abe(e){var t=Tbe(e,"string");return typeof t=="symbol"?t:t+""}function Tbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ibe(e,t){if(e==null)return{};var r,n,a=Obe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Obe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mbe(){var e=qe(A_),t=qe(T_),r=Qt(),n=qe(CB),a=qe(Ao),s=J0(),l=Sb(),u=qe(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return V0;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var y;if(l&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:v,y:S}=b,k=Ibe(b,_be),{x:N,y:E,width:_,height:O}=m.payload.sourceViewBox,j=rd(rd({},k),{},{x:l.x+(_?(v-N)/_:0)*l.width,y:l.y+(O?(S-E)/O:0)*l.height});r(rd(rd({},m),{},{payload:rd(rd({},m.payload),{},{coordinate:j})}))}else r(m);return}if(a!=null){var A;if(typeof n=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},U=n(a,R);A=a[U]}else n==="value"&&(A=a.find(H=>String(H.value)===m.payload.label));var{coordinate:V}=m.payload;if(A==null||m.payload.active===!1||V==null||l==null){r(cC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:G}=V,$=Math.min(W,l.x+l.width),z=Math.min(G,l.y+l.height),Y={x:s==="horizontal"?A.coordinate:$,y:s==="horizontal"?z:A.coordinate},le=cC({active:m.payload.active,coordinate:Y,dataKey:m.payload.dataKey,index:String(A.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(le)}}};return v0.on(fC,d),()=>{v0.off(fC,d)}},[u,r,t,e,n,a,s,l])}function Rbe(){var e=qe(A_),t=qe(T_),r=Qt();x.useEffect(()=>{if(e==null)return V0;var n=(a,s,l)=>{t!==l&&e===a&&r(Nbe(s))};return v0.on(NR,n),()=>{v0.off(NR,n)}},[r,t,e])}function Dbe(){var e=Qt();x.useEffect(()=>{e(kbe())},[e]),Mbe(),Rbe()}function Pbe(e,t,r,n,a,s){var l=qe(b=>Hxe(b,e,t)),u=qe(T_),d=qe(A_),f=qe(CB),m=qe(Sbe),g=m?.active,y=Sb();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var b=cC({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});v0.emit(fC,d,b,u)}},[g,r,l,a,n,u,d,f,s,y])}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){Lbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lbe(e,t,r){return(t=Ube(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ube(e){var t=Fbe(e,"string");return typeof t=="symbol"?t:t+""}function Fbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bbe(e){return e.dataKey}function zbe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(khe,t)}var TR=[],$be={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hn(e){var t,r,n=$r(e,$be),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:y,position:b,reverseDirection:v,useTranslate3d:S,wrapperStyle:k,cursor:N,shared:E,trigger:_,defaultIndex:O,portal:j,axisId:A}=n,R=Qt(),U=typeof O=="number"?String(O):O;x.useEffect(()=>{R(Lye({shared:E,trigger:_,axisId:A,active:a,defaultIndex:U}))},[R,E,_,A,a,U]);var V=Sb(),W=bF(),G=Iye(E),{activeIndex:$,isActive:z}=(t=qe(Le=>Gxe(Le,G,_,U)))!==null&&t!==void 0?t:{},Y=qe(Le=>Kxe(Le,G,_,U)),le=qe(Le=>_z(Le,G,_,U)),H=qe(Le=>qxe(Le,G,_,U)),ee=Y,q=pbe(),te=(r=a??z)!==null&&r!==void 0?r:!1,[D,M]=TU([ee,te]),L=G==="axis"?le:void 0;Pbe(G,_,H,L,$,te);var J=j??q;if(J==null||V==null||G==null)return null;var se=ee??TR;te||(se=TR),f&&se.length&&(se=NU(se.filter(Le=>Le.value!=null&&(Le.hide!==!0||n.includeHidden)),y,Bbe));var je=se.length>0,Re=x.createElement(Ahe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:te,coordinate:H,hasPayload:je,offset:g,position:b,reverseDirection:v,useTranslate3d:S,viewBox:V,wrapperStyle:k,lastBoundingBox:D,innerRef:M,hasPortalFromProps:!!j},zbe(d,AR(AR({},n),{},{payload:se,label:L,active:te,activeIndex:$,coordinate:H,accessibilityLayer:W})));return x.createElement(x.Fragment,null,Vx.createPortal(Re,J),te&&x.createElement(gbe,{cursor:N,tooltipEventType:G,coordinate:H,payload:se,index:$}))}var Od=e=>null;Od.displayName="Cell";function Hbe(e,t,r){return(t=qbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qbe(e){var t=Kbe(e,"string");return typeof t=="symbol"?t:t+""}function Kbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gbe{constructor(t){Hbe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ybe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jbe={cacheSize:2e3,enableCache:!0},Mz=Wbe({},Jbe),OR=new Gbe(Mz.cacheSize),Qbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MR="recharts_measurement_span";function Zbe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var RR=(e,t)=>{try{var r=document.getElementById(MR);r||(r=document.createElement("span"),r.setAttribute("id",MR),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Qbe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nb.isSsr)return{width:0,height:0};if(!Mz.enableCache)return RR(t,r);var n=Zbe(t,r),a=OR.get(n);if(a)return a;var s=RR(t,r);return OR.set(n,s),s},Rz;function eve(e,t,r){return(t=tve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e){var t=rve(e,"string");return typeof t=="symbol"?t:t+""}function rve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ave=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sve={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ive=["cm","mm","pt","pc","in","Q","px"];function ove(e){return ive.includes(e)}var hd="NaN";function lve(e,t){return e*sve[t]}class bn{static parse(t){var r,[,n,a]=(r=ave.exec(t))!==null&&r!==void 0?r:[];return n==null?bn.NaN:new bn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yi(t)&&(this.unit=""),r!==""&&!nve.test(r)&&(this.num=NaN,this.unit=""),ove(r)&&(this.num=lve(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new bn(NaN,""):new bn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new bn(NaN,""):new bn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bn(NaN,""):new bn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bn(NaN,""):new bn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yi(this.num)}}Rz=bn;eve(bn,"NaN",new Rz(NaN,""));function Dz(e){if(e==null||e.includes(hd))return hd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=DR.exec(t))!==null&&r!==void 0?r:[],l=bn.parse(n??""),u=bn.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return hd;t=t.replace(DR,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,y]=(f=PR.exec(t))!==null&&f!==void 0?f:[],b=bn.parse(m??""),v=bn.parse(y??""),S=g==="+"?b.add(v):b.subtract(v);if(S.isNaN())return hd;t=t.replace(PR,S.toString())}return t}var LR=/\(([^()]*)\)/;function cve(e){for(var t=e,r;(r=LR.exec(t))!=null;){var[,n]=r;t=t.replace(LR,Dz(n))}return t}function uve(e){var t=e.replace(/\s+/g,"");return t=cve(t),t=Dz(t),t}function dve(e){try{return uve(e)}catch{return hd}}function cS(e){var t=dve(e.slice(5,-1));return t===hd?"":t}var fve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],hve=["dx","dy","angle","className","breakAll"];function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hC.apply(null,arguments)}function UR(e,t){if(e==null)return{};var r,n,a=mve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pz=/[ \f\n\r\t\v\u2028\u2029]+/,Lz=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Wr(t)||(r?a=t.toString().split(""):a=t.toString().split(Pz));var s=a.map(u=>({word:u,width:Yh(u,n).width})),l=r?0:Yh("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function gve(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Uz=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),Fz=e=>e.reduce((t,r)=>t.width>r.width?t:r),pve="",FR=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=Lz({breakAll:r,style:n,children:d+pve});if(!f)return[!1,[]];var m=Uz(f.wordsWithComputedWidth,s,l,u),g=m.length>a||Fz(m).width>Number(s);return[g,m]},yve=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Ge(s),m=String(l),g=Uz(t,n,r,a);if(!f||a)return g;var y=g.length>s||Fz(g).width>Number(n);if(!y)return g;for(var b=0,v=m.length-1,S=0,k;b<=v&&S<=m.length-1;){var N=Math.floor((b+v)/2),E=N-1,[_,O]=FR(m,E,d,u,s,n,r,a),[j]=FR(m,N,d,u,s,n,r,a);if(!_&&!j&&(b=N+1),_&&j&&(v=N-1),!_&&j){k=O;break}S++}return k||g},BR=e=>{var t=Wr(e)?[]:e.toString().split(Pz);return[{words:t,width:void 0}]},xve=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Nb.isSsr){var u,d,f=Lz({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,d=g}else return BR(n);return yve({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return BR(n)},Bz="#808080",bve={angle:0,breakAll:!1,capHeight:"0.71em",fill:Bz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$b=x.forwardRef((e,t)=>{var r=$r(e,bve),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,g=UR(r,fve),y=x.useMemo(()=>xve({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:b,dy:v,angle:S,className:k,breakAll:N}=g,E=UR(g,hve);if(!ca(n)||!ca(a)||y.length===0)return null;var _=Number(n)+(Ge(b)?b:0),O=Number(a)+(Ge(v)?v:0);if(!zr(_)||!zr(O))return null;var j;switch(m){case"start":j=cS("calc(".concat(l,")"));break;case"middle":j=cS("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:j=cS("calc(".concat(y.length-1," * -").concat(s,")"));break}var A=[];if(d){var R=y[0].width,{width:U}=g;A.push("scale(".concat(Ge(U)&&Ge(R)?U/R:1,")"))}return S&&A.push("rotate(".concat(S,", ").concat(_,", ").concat(O,")")),A.length&&(E.transform=A.join(" ")),x.createElement("text",hC({},Pn(E),{ref:t,x:_,y:O,className:At("recharts-text",k),textAnchor:f,fill:u.includes("url")?Bz:u}),y.map((V,W)=>{var G=V.words.join(N?"":" ");return x.createElement("tspan",{x:_,dy:W===0?j:s,key:"".concat(G,"-").concat(W)},G)}))});$b.displayName="Text";var vve=["labelRef"],wve=["content"];function zR(e,t){if(e==null)return{};var r,n,a=kve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){Sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sve(e,t,r){return(t=Cve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cve(e){var t=Nve(e,"string");return typeof t=="symbol"?t:t+""}function Nve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(null,arguments)}var zz=x.createContext(null),$z=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(zz.Provider,{value:d},u)},Hz=()=>{var e=x.useContext(zz),t=Sb();return e||hF(t)},Eve=x.createContext(null),_ve=()=>{var e=x.useContext(Eve),t=qe(AB);return e||t},jve=e=>{var{value:t,formatter:r}=e,n=Wr(e.children)?t:e.children;return typeof r=="function"?r(n):n},dj=e=>e!=null&&typeof e=="function",Ave=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Tve=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:y,clockWise:b}=a,v=(f+m)/2,S=Ave(g,y),k=S>=0?1:-1,N,E;switch(t){case"insideStart":N=g+k*s,E=b;break;case"insideEnd":N=y-k*s,E=!b;break;case"end":N=y+k*s,E=b;break;default:throw new Error("Unsupported position ".concat(t))}E=S<=0?E:!E;var _=Fr(u,d,v,N),O=Fr(u,d,v,N+(E?1:-1)*359),j="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(E?0:1,`,
    `).concat(O.x,",").concat(O.y),A=Wr(e.id)?d0("recharts-radial-line-"):e.id;return x.createElement("text",Yi({},n,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:A,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(A)},r))},Ive=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:m,y:g}=Fr(n,a,l+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:b,y:v}=Fr(n,a,y,f);return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},mC=e=>"cx"in e&&Ge(e.cx),Ove=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!mC(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:m}=t,g=l,y=l+(d-f)/2,b=(g+y)/2,v=(d+f)/2,S=g+d/2,k=m>=0?1:-1,N=k*n,E=k>0?"end":"start",_=k>0?"start":"end",O=d>=0?1:-1,j=O*n,A=O>0?"end":"start",R=O>0?"start":"end";if(a==="top"){var U={x:g+d/2,y:u-N,textAnchor:"middle",verticalAnchor:E};return Ir(Ir({},U),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var V={x:y+f/2,y:u+m+N,textAnchor:"middle",verticalAnchor:_};return Ir(Ir({},V),s?{height:Math.max(s.y+s.height-(u+m),0),width:f}:{})}if(a==="left"){var W={x:b-j,y:u+m/2,textAnchor:A,verticalAnchor:"middle"};return Ir(Ir({},W),s?{width:Math.max(W.x-s.x,0),height:m}:{})}if(a==="right"){var G={x:b+v+j,y:u+m/2,textAnchor:R,verticalAnchor:"middle"};return Ir(Ir({},G),s?{width:Math.max(s.x+s.width-G.x,0),height:m}:{})}var $=s?{width:v,height:m}:{};return a==="insideLeft"?Ir({x:b+j,y:u+m/2,textAnchor:R,verticalAnchor:"middle"},$):a==="insideRight"?Ir({x:b+v-j,y:u+m/2,textAnchor:A,verticalAnchor:"middle"},$):a==="insideTop"?Ir({x:g+d/2,y:u+N,textAnchor:"middle",verticalAnchor:_},$):a==="insideBottom"?Ir({x:y+f/2,y:u+m-N,textAnchor:"middle",verticalAnchor:E},$):a==="insideTopLeft"?Ir({x:g+j,y:u+N,textAnchor:R,verticalAnchor:_},$):a==="insideTopRight"?Ir({x:g+d-j,y:u+N,textAnchor:A,verticalAnchor:_},$):a==="insideBottomLeft"?Ir({x:y+j,y:u+m-N,textAnchor:R,verticalAnchor:E},$):a==="insideBottomRight"?Ir({x:y+f-j,y:u+m-N,textAnchor:A,verticalAnchor:E},$):a&&typeof a=="object"&&(Ge(a.x)||uo(a.x))&&(Ge(a.y)||uo(a.y))?Ir({x:l+La(a.x,v),y:u+La(a.y,m),textAnchor:"end",verticalAnchor:"end"},$):Ir({x:S,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},$)},Mve={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function ll(e){var t=$r(e,Mve),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,m=_ve(),g=Hz(),y=n==="center"?g:m??g,b,v,S;if(r==null?b=y:mC(r)?b=r:b=hF(r),!b||Wr(a)&&Wr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var k=Ir(Ir({},t),{},{viewBox:b});if(x.isValidElement(l)){var{labelRef:N}=k,E=zR(k,vve);return x.cloneElement(l,E)}if(typeof l=="function"){var{content:_}=k,O=zR(k,wve);if(v=x.createElement(l,O),x.isValidElement(v))return v}else v=jve(t);var j=Pn(t);if(mC(b)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Tve(t,n,v,j,b);S=Ive(b,t.offset,t.position)}else S=Ove(t,b);return x.createElement(Ss,{zIndex:t.zIndex},x.createElement($b,Yi({ref:f,className:At("recharts-label",u)},j,S,{textAnchor:gve(j.textAnchor)?j.textAnchor:S.textAnchor,breakAll:d}),v))}ll.displayName="Label";var Rve=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ll,Yi({key:"label-implicit"},n)):ca(e)?x.createElement(ll,Yi({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ll?x.cloneElement(e,Ir({key:"label-implicit"},n)):x.createElement(ll,Yi({key:"label-implicit",content:e},n)):dj(e)?x.createElement(ll,Yi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ll,Yi({},e,{key:"label-implicit"},n)):null};function qz(e){var{label:t,labelRef:r}=e,n=Hz();return Rve(t,n,r)||null}var uS={},dS={},HR;function Dve(){return HR||(HR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(dS)),dS}var fS={},qR;function Pve(){return qR||(qR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(fS)),fS}var KR;function Lve(){return KR||(KR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dve(),r=Pve(),n=HE();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(uS)),uS}var hS,GR;function Uve(){return GR||(GR=1,hS=Lve().last),hS}var Fve=Uve();const Bve=ko(Fve);var zve=["valueAccessor"],$ve=["dataKey","clockWise","id","textBreakAll","zIndex"];function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}function WR(e,t){if(e==null)return{};var r,n,a=Hve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qve=e=>Array.isArray(e.value)?Bve(e.value):e.value,Kz=x.createContext(void 0),Kve=Kz.Provider,Gz=x.createContext(void 0),Gve=Gz.Provider;function Wve(){return x.useContext(Kz)}function Vve(){return x.useContext(Gz)}function Bp(e){var{valueAccessor:t=qve}=e,r=WR(e,zve),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=WR(r,$ve),f=Wve(),m=Vve(),g=f||m;return!g||!g.length?null:x.createElement(Ss,{zIndex:u??on.label},x.createElement(Vn,{className:"recharts-label-list"},g.map((y,b)=>{var v,S=Wr(n)?t(y,b):dr(y&&y.payload,n),k=Wr(s)?{}:{id:"".concat(s,"-").concat(b)};return x.createElement(ll,ax({key:"label-".concat(b)},Pn(y),d,k,{fill:(v=r.fill)!==null&&v!==void 0?v:y.fill,parentViewBox:y.parentViewBox,value:S,textBreakAll:l,viewBox:y.viewBox,index:b,zIndex:0}))})))}Bp.displayName="LabelList";function Wz(e){var{label:t}=e;return t?t===!0?x.createElement(Bp,{key:"labelList-implicit"}):x.isValidElement(t)||dj(t)?x.createElement(Bp,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Bp,ax({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gC.apply(null,arguments)}var Vz=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=At("recharts-dot",a);return Ge(t)&&Ge(r)&&Ge(n)?x.createElement("circle",gC({},xs(e),zE(e),{className:s,cx:t,cy:r,r:n})):null},Yz=e=>e.graphicalItems.polarItems,Yve=de([br,nm],P_),Hb=de([Yz,kr,Yve],L_),Xve=de([Hb],U_),qb=de([Xve,C_],F_),Jve=de([qb,kr,Hb],z_);de([qb,kr,Hb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=dr(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:dr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var VR=()=>{},Qve=de([qb,kr,Hb,Fb,br],K_),Zve=de([kr,H_,q_,VR,Qve,VR,Gt,br],G_),Xz=de([kr,Gt,qb,Jve,rm,br,Zve],W_),e1e=de([Xz,kr,kf],X_);de([kr,Xz,e1e,br],Q_);var t1e={radiusAxis:{},angleAxis:{}},Jz=va({name:"polarAxis",initialState:t1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xOe,removeRadiusAxis:bOe,addAngleAxis:vOe,removeAngleAxis:wOe}=Jz.actions,r1e=Jz.reducer;function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){n1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1e(e,t,r){return(t=a1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1e(e){var t=s1e(e,"string");return typeof t=="symbol"?t:t+""}function s1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1e=(e,t)=>t,fj=de([Yz,i1e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),o1e=[],hj=(e,t,r)=>r?.length===0?o1e:r,Qz=de([C_,fj,hj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>XR(XR({},t.presentationProps),s.props))),a!=null)return a}}),l1e=de([Qz,fj,hj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,l=dr(n,t.nameKey,t.name),u;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?u=n.fill:u=t.fill,{value:xb(l,t.dataKey),color:u,payload:n,type:t.legendType}})}),c1e=de([Qz,fj,hj,cn],(e,t,r,n)=>{if(!(t==null||e==null))return pwe({offset:n,pieSettings:t,displayedData:e,cells:r})}),mS={exports:{}},Mt={};var JR;function u1e(){if(JR)return Mt;JR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function S(k){if(typeof k=="object"&&k!==null){var N=k.$$typeof;switch(N){case e:switch(k=k.type,k){case r:case a:case n:case f:case m:return k;default:switch(k=k&&k.$$typeof,k){case u:case l:case d:case y:case g:case s:return k;default:return N}}case t:return N}}}return Mt.ContextConsumer=l,Mt.ContextProvider=s,Mt.Element=e,Mt.ForwardRef=d,Mt.Fragment=r,Mt.Lazy=y,Mt.Memo=g,Mt.Portal=t,Mt.Profiler=a,Mt.StrictMode=n,Mt.Suspense=f,Mt.SuspenseList=m,Mt.isAsyncMode=function(){return!1},Mt.isConcurrentMode=function(){return!1},Mt.isContextConsumer=function(k){return S(k)===l},Mt.isContextProvider=function(k){return S(k)===s},Mt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},Mt.isForwardRef=function(k){return S(k)===d},Mt.isFragment=function(k){return S(k)===r},Mt.isLazy=function(k){return S(k)===y},Mt.isMemo=function(k){return S(k)===g},Mt.isPortal=function(k){return S(k)===t},Mt.isProfiler=function(k){return S(k)===a},Mt.isStrictMode=function(k){return S(k)===n},Mt.isSuspense=function(k){return S(k)===f},Mt.isSuspenseList=function(k){return S(k)===m},Mt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===a||k===n||k===f||k===m||k===b||typeof k=="object"&&k!==null&&(k.$$typeof===y||k.$$typeof===g||k.$$typeof===s||k.$$typeof===l||k.$$typeof===d||k.$$typeof===v||k.getModuleId!==void 0)},Mt.typeOf=S,Mt}var QR;function d1e(){return QR||(QR=1,mS.exports=u1e()),mS.exports}var f1e=d1e(),ZR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eD=null,gS=null,Zz=e=>{if(e===eD&&Array.isArray(gS))return gS;var t=[];return x.Children.forEach(e,r=>{Wr(r)||(f1e.isFragment(r)?t=t.concat(Zz(r.props.children)):t.push(r))}),gS=t,eD=e,t};function e$(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>ZR(a)):n=[ZR(t)],Zz(e).forEach(a=>{var s=Yc(a,"type.displayName")||Yc(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var t$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,pS={},tD;function h1e(){return tD||(tD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(pS)),pS}var yS,rD;function m1e(){return rD||(rD=1,yS=h1e().isPlainObject),yS}var g1e=m1e();const p1e=ko(g1e);var nD,aD,sD,iD,oD;function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return(t=x1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1e(e){var t=b1e(e,"string");return typeof t=="symbol"?t:t+""}function b1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(null,arguments)}function Fh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uD=(e,t,r,n,a)=>{var s=r-n,l;return l=Er(nD||(nD=Fh(["M ",",",""])),e,t),l+=Er(aD||(aD=Fh(["L ",",",""])),e+r,t),l+=Er(sD||(sD=Fh(["L ",",",""])),e+r-s/2,t+a),l+=Er(iD||(iD=Fh(["L ",",",""])),e+r-s/2-n,t+a),l+=Er(oD||(oD=Fh(["L ",","," Z"])),e,t),l},v1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w1e=e=>{var t=$r(e,v1e),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:g}=t,y=x.useRef(null),[b,v]=x.useState(-1),S=x.useRef(a),k=x.useRef(s),N=x.useRef(l),E=x.useRef(r),_=x.useRef(n),O=_b(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Y=y.current.getTotalLength();Y&&v(Y)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var j=At("recharts-trapezoid",u);if(!g)return x.createElement("g",null,x.createElement("path",sx({},Pn(t),{className:j,d:uD(r,n,a,s,l)})));var A=S.current,R=k.current,U=N.current,V=E.current,W=_.current,G="0px ".concat(b===-1?1:b,"px"),$="".concat(b,"px 0px"),z=vF(["strokeDasharray"],f,d);return x.createElement(Eb,{animationId:O,key:O,canBegin:b>0,duration:f,easing:d,isActive:g,begin:m},Y=>{var le=In(A,a,Y),H=In(R,s,Y),ee=In(U,l,Y),q=In(V,r,Y),te=In(W,n,Y);y.current&&(S.current=le,k.current=H,N.current=ee,E.current=q,_.current=te);var D=Y>0?{transition:z,strokeDasharray:$}:{strokeDasharray:G};return x.createElement("path",sx({},Pn(t),{className:j,d:uD(q,te,le,H,ee),ref:y,style:cD(cD({},D),t.style)}))})},k1e=["option","shapeType","activeClassName"];function S1e(e,t){if(e==null)return{};var r,n,a=C1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){N1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N1e(e,t,r){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E1e(e){var t=_1e(e,"string");return typeof t=="symbol"?t:t+""}function _1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j1e(e,t){return ix(ix({},t),e)}function A1e(e,t){return e==="symbols"}function fD(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(e_,r);case"trapezoid":return x.createElement(w1e,r);case"sector":return x.createElement(_F,r);case"symbols":if(A1e(t))return x.createElement(BE,r);break;case"curve":return x.createElement(ZE,r);default:return null}}function T1e(e){return x.isValidElement(e)?e.props:e}function r$(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=S1e(e,k1e),s;if(x.isValidElement(t))s=x.cloneElement(t,ix(ix({},a),T1e(t)));else if(typeof t=="function")s=t(a,a.index);else if(p1e(t)&&typeof t!="boolean"){var l=j1e(t,a);s=x.createElement(fD,{shapeType:r,elementProps:l})}else{var u=a;s=x.createElement(fD,{shapeType:r,elementProps:u})}return a.isActive?x.createElement(Vn,{className:n},s):s}var I1e=(e,t,r)=>{var n=Qt();return(a,s)=>l=>{e?.(a,s,l),n(lz({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},O1e=e=>{var t=Qt();return(r,n)=>a=>{e?.(r,n,a),t(Uye())}},M1e=(e,t,r)=>{var n=Qt();return(a,s)=>l=>{e?.(a,s,l),n(Fye({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function n$(e){var{tooltipEntrySettings:t}=e,r=Qt(),n=Yn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(Rye(t)):a.current!==t&&r(Dye({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(Pye(a.current)),a.current=null)},[r]),null}function R1e(e){var{legendPayload:t}=e,r=Qt(),n=Yn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(pF(t)):a.current!==t&&r(yF({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(xF(a.current)),a.current=null)},[r]),null}function D1e(e){var{legendPayload:t}=e,r=Qt(),n=qe(Gt),a=x.useRef(null);return x.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(pF(t)):a.current!==t&&r(yF({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(xF(a.current)),a.current=null)},[r]),null}var xS,P1e=()=>{var[e]=x.useState(()=>d0("uid-"));return e},L1e=(xS=IW.useId)!==null&&xS!==void 0?xS:P1e;function U1e(e,t){var r=L1e();return t||(e?"".concat(e,"-").concat(r):r)}var F1e=x.createContext(void 0),a$=e=>{var{id:t,type:r,children:n}=e,a=U1e("recharts-".concat(r),t);return x.createElement(F1e.Provider,{value:a},n(a))},B1e={cartesianItems:[],polarItems:[]},s$=va({name:"graphicalItems",initialState:B1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:pr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Bs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:pr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Bs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:pr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:pr()},removePolarGraphicalItem:{reducer(e,t){var r=Bs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:pr()}}}),{addCartesianGraphicalItem:z1e,replaceCartesianGraphicalItem:$1e,removeCartesianGraphicalItem:H1e,addPolarGraphicalItem:q1e,removePolarGraphicalItem:K1e}=s$.actions,G1e=s$.reducer,W1e=e=>{var t=Qt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(z1e(e)):r.current!==e&&t($1e({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(H1e(r.current)),r.current=null)},[t]),null},V1e=x.memo(W1e);function Y1e(e){var t=Qt();return x.useLayoutEffect(()=>(t(q1e(e)),()=>{t(K1e(e))}),[t,e]),null}var X1e=["key"],J1e=["onMouseEnter","onClick","onMouseLeave"],Q1e=["id"],Z1e=["id"];function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){ewe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ewe(e,t,r){return(t=twe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function twe(e){var t=rwe(e,"string");return typeof t=="symbol"?t:t+""}function rwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(null,arguments)}function Kb(e,t){if(e==null)return{};var r,n,a=nwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nwe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function awe(e){var t=x.useMemo(()=>e$(e.children,Od),[e.children]),r=qe(n=>l1e(n,e.id,t));return r==null?null:x.createElement(D1e,{legendPayload:r})}var swe=x.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:f,id:m}=e,g={dataDefinedOnItem:n.map(y=>y.tooltipPayload),positions:n.map(y=>y.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:t,nameKey:r,name:xb(u,t),hide:d,type:f,color:l,unit:"",graphicalItemId:m}};return x.createElement(n$,{tooltipEntrySettings:g})}),iwe=(e,t)=>e>t?"start":e<t?"end":"middle",owe=(e,t,r)=>La(typeof t=="function"?t(e):t,r,r*.8),lwe=(e,t,r)=>{var{top:n,left:a,width:s,height:l}=t,u=CF(s,l),d=a+La(e.cx,s,s/2),f=n+La(e.cy,l,l/2),m=La(e.innerRadius,u,0),g=owe(r,e.outerRadius,u),y=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:g,maxRadius:y}},cwe=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function uwe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var dwe=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=At("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Kb(t,X1e);return x.createElement(ZE,Ml({},a,{type:"linear",className:r}))},fwe=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var a=At("recharts-pie-label-text",uwe(e));return x.createElement($b,Ml({},t,{alignmentBaseline:"middle",className:a}),n)};function hwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:l}=r;if(!n||!a||!t)return null;var u=xs(r),d=Bd(a),f=Bd(s),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((y,b)=>{var v=(y.startAngle+y.endAngle)/2,S=Fr(y.cx,y.cy,y.outerRadius+m,v),k=_r(_r(_r(_r({},u),y),{},{stroke:"none"},d),{},{index:b,textAnchor:iwe(S.x,y.cx)},S),N=_r(_r(_r(_r({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:b,points:[Fr(y.cx,y.cy,y.outerRadius,v),S],key:"line"});return x.createElement(Ss,{zIndex:on.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},x.createElement(Vn,null,s&&dwe(s,N),fwe(a,k,dr(y,l))))});return x.createElement(Vn,{className:"recharts-pie-labels"},g)}function mwe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?x.createElement(Wz,{label:a}):x.createElement(hwe,{sectors:t,props:r,showLabels:n})}function gwe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s,id:l}=e,u=qe(Wd),d=qe(kz),f=qe(Cxe),{onMouseEnter:m,onClick:g,onMouseLeave:y}=a,b=Kb(a,J1e),v=I1e(m,a.dataKey,l),S=O1e(y),k=M1e(g,a.dataKey,l);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((N,E)=>{if(N?.startAngle===0&&N?.endAngle===0&&t.length!==1)return null;var _=f==null||f===l,O=String(E)===u&&(d==null||a.dataKey===d)&&_,j=u?n:null,A=r&&O?r:j,R=_r(_r({},N),{},{stroke:N.stroke,tabIndex:-1,[oF]:E,[lF]:l});return x.createElement(Vn,Ml({key:"sector-".concat(N?.startAngle,"-").concat(N?.endAngle,"-").concat(N.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},$E(b,N,E),{onMouseEnter:v(N,E),onMouseLeave:S(N,E),onClick:k(N,E)}),x.createElement(r$,Ml({option:s??A,index:E,shapeType:"sector",isActive:O},R)))}))}function pwe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:f,nameKey:m,tooltipType:g}=r,y=Math.abs(r.minAngle),b=cwe(u,d),v=Math.abs(b),S=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(A=>dr(A,f,0)!==0).length,N=(v>=360?k:k-1)*S,E=v-k*y-N,_=n.reduce((A,R)=>{var U=dr(R,f,0);return A+(Ge(U)?U:0)},0),O;if(_>0){var j;O=n.map((A,R)=>{var U=dr(A,f,0),V=dr(A,m,R),W=lwe(r,s,A),G=(Ge(U)?U:0)/_,$,z=_r(_r({},A),a&&a[R]&&a[R].props);R?$=j.endAngle+Mn(b)*S*(U!==0?1:0):$=u;var Y=$+Mn(b)*((U!==0?y:0)+G*E),le=($+Y)/2,H=(W.innerRadius+W.outerRadius)/2,ee=[{name:V,value:U,payload:z,dataKey:f,type:g,graphicalItemId:r.id}],q=Fr(W.cx,W.cy,H,le);return j=_r(_r(_r(_r({},r.presentationProps),{},{percent:G,cornerRadius:typeof l=="string"?parseFloat(l):l,name:V,tooltipPayload:ee,midAngle:le,middleRadius:H,tooltipPosition:q},z),W),{},{value:U,dataKey:f,startAngle:$,endAngle:Y,payload:z,paddingAngle:Mn(b)*S}),j})}return O}function ywe(e){var{showLabels:t,sectors:r,children:n}=e,a=x.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return x.createElement(Gve,{value:t?a:void 0},n)}function xwe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:g,onAnimationEnd:y}=t,b=_b(t,"recharts-pie-"),v=r.current,[S,k]=x.useState(!1),N=x.useCallback(()=>{typeof y=="function"&&y(),k(!1)},[y]),E=x.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);return x.createElement(ywe,{showLabels:!S,sectors:a},x.createElement(Eb,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:E,onAnimationEnd:N,key:b},_=>{var O=[],j=a&&a[0],A=j?.startAngle;return a?.forEach((R,U)=>{var V=v&&v[U],W=U>0?Yc(R,"paddingAngle",0):0;if(V){var G=In(V.endAngle-V.startAngle,R.endAngle-R.startAngle,_),$=_r(_r({},R),{},{startAngle:A+W,endAngle:A+G+W});O.push($),A=$.endAngle}else{var{endAngle:z,startAngle:Y}=R,le=In(0,z-Y,_),H=_r(_r({},R),{},{startAngle:A+W,endAngle:A+le+W});O.push(H),A=H.endAngle}}),r.current=O,x.createElement(Vn,null,x.createElement(gwe,{sectors:O,activeShape:f,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:n}))}),x.createElement(mwe,{showLabels:!S,sectors:a,props:t}),t.children)}var bwe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function vwe(e){var{id:t}=e,r=Kb(e,Q1e),{hide:n,className:a,rootTabIndex:s}=e,l=x.useMemo(()=>e$(e.children,Od),[e.children]),u=qe(m=>c1e(m,t,l)),d=x.useRef(null),f=At("recharts-pie",a);return n||u==null?(d.current=null,x.createElement(Vn,{tabIndex:s,className:f})):x.createElement(Ss,{zIndex:e.zIndex},x.createElement(swe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(Vn,{tabIndex:s,className:f},x.createElement(xwe,{props:_r(_r({},r),{},{sectors:u}),previousSectorsRef:d,id:t})))}function zp(e){var t=$r(e,bwe),{id:r}=t,n=Kb(t,Z1e),a=xs(n);return x.createElement(a$,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(Y1e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),x.createElement(awe,Ml({},n,{id:s})),x.createElement(vwe,Ml({},n,{id:s}))))}zp.displayName="Pie";var wwe=["points"];function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t,r){return(t=Swe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Swe(e){var t=Cwe(e,"string");return typeof t=="symbol"?t:t+""}function Cwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}function Nwe(e,t){if(e==null)return{};var r,n,a=Ewe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ewe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _we(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=At(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=Nwe(s,wwe);return x.createElement(Vz,ox({},u,{className:a}))}function jwe(e,t){return e==null?!1:t?!0:e.length===1}function Awe(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=on.scatter}=e;if(!jwe(t,r))return null;var m=t$(r),g=sce(r),y=t.map((v,S)=>{var k,N,E=bS(bS(bS({r:3},l),g),{},{index:S,cx:(k=v.x)!==null&&k!==void 0?k:void 0,cy:(N=v.y)!==null&&N!==void 0?N:void 0,dataKey:s,value:v.value,payload:v.payload,points:t});return x.createElement(_we,{key:"dot-".concat(S),option:r,dotProps:E,className:a})}),b={};return u&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(Ss,{zIndex:f},x.createElement(Vn,ox({className:n},b),y))}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){Twe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Twe(e,t,r){return(t=Iwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iwe(e){var t=Owe(e,"string");return typeof t=="symbol"?t:t+""}function Owe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mwe={xAxis:{},yAxis:{},zAxis:{}},i$=va({name:"cartesianAxis",initialState:Mwe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:pr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:pr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:pr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:pr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:pr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:pr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:pr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:pr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:pr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=pD(pD({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Rwe,replaceXAxis:Dwe,removeXAxis:Pwe,addYAxis:Lwe,replaceYAxis:Uwe,removeYAxis:Fwe,addZAxis:kOe,replaceZAxis:SOe,removeZAxis:COe,updateYAxisWidth:Bwe}=i$.actions,zwe=i$.reducer,$we=de([cn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Hwe=de([$we,Co,No],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),mj=()=>qe(Hwe),qwe=()=>qe(Axe);function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){Kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kwe(e,t,r){return(t=Gwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=Wwe(e,"string");return typeof t=="symbol"?t:t+""}function Wwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vwe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=vS(vS(vS({},u),Bd(a)),zE(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(Vz,d),x.createElement(Vn,{className:"recharts-active-dot",clipPath:l},f)};function Ywe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=on.activeDot}=e,u=qe(Wd),d=qwe();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return Wr(f)?null:x.createElement(Ss,{zIndex:l},x.createElement(Vwe,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var o$=e=>{var{chartData:t}=e,r=Qt(),n=Yn();return x.useEffect(()=>n?()=>{}:(r(ER(t)),()=>{r(ER(void 0))}),[t,r,n]),null},xD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},l$=va({name:"brush",initialState:xD,reducers:{setBrushSettings(e,t){return t.payload==null?xD:t.payload}}}),{setBrushSettings:NOe}=l$.actions,Xwe=l$.reducer;function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){c$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c$(e,t,r){return(t=Jwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jwe(e){var t=Qwe(e,"string");return typeof t=="symbol"?t:t+""}function Qwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zwe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}};class Gb{static create(t){return new Gb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}c$(Gb,"EPS",1e-4);var eke=e=>{var t=Object.keys(e).reduce((r,n)=>fp(fp({},r),{},{[n]:Gb.create(e[n])}),{});return fp(fp({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function tke(e){return(e%180+180)%180}var rke=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=tke(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},nke={dots:[],areas:[],lines:[]},u$=va({name:"referenceElements",initialState:nke,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Bs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Bs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Bs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:EOe,removeDot:_Oe,addArea:ake,removeArea:ske,addLine:jOe,removeLine:AOe}=u$.actions,ike=u$.reducer,d$=x.createContext(void 0),oke=e=>{var{children:t}=e,[r]=x.useState("".concat(d0("recharts"),"-clip")),n=mj();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(d$.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},lke=()=>x.useContext(d$);function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){cke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cke(e,t,r){return(t=uke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uke(e){var t=dke(e,"string");return typeof t=="symbol"?t:t+""}function dke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}var fke=(e,t,r,n,a,s,l)=>{var{x1:u,x2:d,y1:f,y2:m}=l;if(a==null||s==null)return null;var g=eke({x:a,y:s}),y={x:e?g.x.apply(u,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(f,{position:"start"}):g.y.rangeMin},b={x:t?g.x.apply(d,{position:"end"}):g.x.rangeMax,y:n?g.y.apply(m,{position:"end"}):g.y.rangeMax};return l.ifOverflow==="discard"&&(!g.isInRange(y)||!g.isInRange(b))?null:Zwe(y,b)},hke=(e,t)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(e_,lx({},t,{className:"recharts-reference-area-rect"})),r};function mke(e){var t=Qt();return x.useEffect(()=>(t(ake(e)),()=>{t(ske(e))})),null}function gke(e){var{x1:t,x2:r,y1:n,y2:a,className:s,shape:l,xAxisId:u,yAxisId:d}=e,f=lke(),m=Yn(),g=qe(O=>Gd(O,"xAxis",u,m)),y=qe(O=>Gd(O,"yAxis",d,m));if(g==null||y==null)return null;var b=ca(t),v=ca(r),S=ca(n),k=ca(a);if(!b&&!v&&!S&&!k&&!l)return null;var N=fke(b,v,S,k,g,y,e);if(!N&&!l)return null;var E=e.ifOverflow==="hidden",_=E?"url(#".concat(f,")"):void 0;return x.createElement(Ss,{zIndex:e.zIndex},x.createElement(Vn,{className:At("recharts-reference-area",s)},hke(l,wD(wD({clipPath:_},Pn(e)),N)),N!=null&&x.createElement($z,lx({},N,{lowerWidth:N.width,upperWidth:N.width}),x.createElement(qz,{label:e.label}),e.children)))}var pke={ifOverflow:"discard",xAxisId:0,yAxisId:0,radius:0,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1,zIndex:on.area};function f$(e){var t=$r(e,pke);return x.createElement(x.Fragment,null,x.createElement(mke,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2}),x.createElement(gke,t))}f$.displayName="ReferenceArea";function h$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function yke(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rke(n,r)}function xke(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function w0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function bke(e,t){return h$(e,t+1)}function vke(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,m=l,g=function(){var v=n?.[d];if(v===void 0)return{v:h$(n,f)};var S=d,k,N=()=>(k===void 0&&(k=r(v,S)),k),E=v.coordinate,_=d===0||w0(e,E,N,m,u);_||(d=0,m=l,f+=1),_&&(m=E+e*(N()/2+a),d+=f)},y;f<=s.length;)if(y=g(),y)return y.v;return[]}function wke(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var m=(l-1)%f,g=u,y=!0,b=function(){var E=n[v],_=v,O,j=()=>(O===void 0&&(O=r(E,_)),O),A=E.coordinate,R=v===m||w0(e,A,j,g,d);if(!R)return y=!1,1;R&&(g=A+e*(j()/2+a))},v=m;v<l&&!b();v+=f);if(y){for(var S=[],k=m;k<l;k+=f)S.push(n[k]);return S}}return[]}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kke(e,t,r){return(t=Ske(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ske(e){var t=Cke(e,"string");return typeof t=="symbol"?t:t+""}function Cke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(y){var b=s[y],v,S=()=>(v===void 0&&(v=r(b,y)),v);if(y===l-1){var k=e*(b.coordinate+e*S()/2-d);s[y]=b=_n(_n({},b),{},{tickCoord:k>0?b.coordinate-k*e:b.coordinate})}else s[y]=b=_n(_n({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=w0(e,b.tickCoord,S,u,d);N&&(d=b.tickCoord-e*(S()/2+a),s[y]=_n(_n({},b),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function Eke(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var m=n[u-1],g=r(m,u-1),y=e*(m.coordinate+e*g/2-f);if(l[u-1]=m=_n(_n({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var b=w0(e,m.tickCoord,()=>g,d,f);b&&(f=m.tickCoord-e*(g/2+a),l[u-1]=_n(_n({},m),{},{isShow:!0}))}}for(var v=s?u-1:u,S=function(E){var _=l[E],O,j=()=>(O===void 0&&(O=r(_,E)),O);if(E===0){var A=e*(_.coordinate-e*j()/2-d);l[E]=_=_n(_n({},_),{},{tickCoord:A<0?_.coordinate-A*e:_.coordinate})}else l[E]=_=_n(_n({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var R=w0(e,_.tickCoord,j,d,f);R&&(d=_.tickCoord+e*(j()/2+a),l[E]=_n(_n({},_),{},{isShow:!0}))}},k=0;k<v;k++)S(k);return l}function gj(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(Ge(d)||Nb.isSsr){var y;return(y=bke(a,Ge(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],v=u==="top"||u==="bottom"?"width":"height",S=m&&v==="width"?Yh(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(_,O)=>{var j=typeof f=="function"?f(_.value,O):_.value;return v==="width"?yke(Yh(j,{fontSize:t,letterSpacing:r}),S,g):Yh(j,{fontSize:t,letterSpacing:r})[v]},N=a.length>=2?Mn(a[1].coordinate-a[0].coordinate):1,E=xke(s,N,v);return d==="equidistantPreserveStart"?vke(N,E,k,a,l):d==="equidistantPreserveEnd"?wke(N,E,k,a,l):(d==="preserveStart"||d==="preserveStartEnd"?b=Eke(N,E,k,a,l,d==="preserveStartEnd"):b=Nke(N,E,k,a,l),b.filter(_=>_.isShow))}var _ke=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},jke=["axisLine","width","height","className","hide","ticks","axisType"];function Ake(e,t){if(e==null)return{};var r,n,a=Tke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){Ike(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ike(e,t,r){return(t=Oke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oke(e){var t=Mke(e,"string");return typeof t=="symbol"?t:t+""}function Mke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ro={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function Rke(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Lr(Lr(Lr({},d),xs(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=Lr(Lr({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Lr(Lr({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Zc({},f,{className:At("recharts-cartesian-axis-line",Yc(u,"className"))}))}function Dke(e,t,r,n,a,s,l,u,d){var f,m,g,y,b,v,S=u?-1:1,k=e.tickSize||l,N=Ge(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=m=e.coordinate,y=r+ +!u*a,g=y-S*k,v=g-S*d,b=N;break;case"left":g=y=e.coordinate,m=t+ +!u*n,f=m-S*k,b=f-S*d,v=N;break;case"right":g=y=e.coordinate,m=t+ +u*n,f=m+S*k,b=f+S*d,v=N;break;default:f=m=e.coordinate,y=r+ +u*a,g=y+S*k,v=g+S*d,b=N;break}return{line:{x1:f,y1:g,x2:m,y2:y},tick:{x:b,y:v}}}function Pke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Lke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Uke(e){var{option:t,tickProps:r,value:n}=e,a,s=At(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Lr(Lr({},r),{},{className:s}));else if(typeof t=="function")a=t(Lr(Lr({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=At(l,t?.className)),a=x.createElement($b,Zc({},r,{className:l}),n)}return a}var Fke=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x:y,y:b,width:v,height:S,tickSize:k,tickMargin:N,fontSize:E,letterSpacing:_,getTicksConfig:O,events:j,axisType:A}=e,R=gj(Lr(Lr({},O),{},{ticks:r}),E,_),U=Pke(m,g),V=Lke(m,g),W=xs(O),G=Bd(n),$={};typeof a=="object"&&($=a);var z=Lr(Lr({},W),{},{fill:"none"},$),Y=R.map(ee=>Lr({entry:ee},Dke(ee,y,b,v,S,m,k,g,N))),le=Y.map(ee=>{var{entry:q,line:te}=ee;return x.createElement(Vn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&x.createElement("line",Zc({},z,te,{className:At("recharts-cartesian-axis-tick-line",Yc(a,"className"))})))}),H=Y.map((ee,q)=>{var{entry:te,tick:D}=ee,M=Lr(Lr(Lr(Lr({textAnchor:U,verticalAnchor:V},W),{},{stroke:"none",fill:s},G),D),{},{index:q,payload:te,visibleTicksCount:R.length,tickFormatter:l,padding:d},f);return x.createElement(Vn,Zc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},$E(j,te,q)),n&&x.createElement(Uke,{option:n,tickProps:M,value:"".concat(typeof l=="function"?l(te.value,q):te.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},H.length>0&&x.createElement(Ss,{zIndex:on.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},H)),le.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},le))}),Bke=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=Ake(e,jke),[m,g]=x.useState(""),[y,b]=x.useState(""),v=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return _ke({ticks:v.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=x.useCallback(k=>{if(k){var N=k.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=N;var E=N[0];if(E){var _=window.getComputedStyle(E),O=_.fontSize,j=_.letterSpacing;(O!==m||j!==y)&&(g(O),b(j))}}},[m,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(Ss,{zIndex:e.zIndex},x.createElement(Vn,{className:At("recharts-cartesian-axis",s)},x.createElement(Rke,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:xs(e)}),x.createElement(Fke,{ref:S,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement($z,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(qz,{label:e.label,labelRef:e.labelRef}),e.children)))}),pj=x.forwardRef((e,t)=>{var r=$r(e,ro);return x.createElement(Bke,Zc({},r,{ref:t}))});pj.displayName="CartesianAxis";var zke=["x1","y1","x2","y2","key"],$ke=["offset"],Hke=["xAxisId","yAxisId"],qke=["xAxisId","yAxisId"];function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){Kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kke(e,t,r){return(t=Gke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gke(e){var t=Wke(e,"string");return typeof t=="symbol"?t:t+""}function Wke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(null,arguments)}function cx(e,t){if(e==null)return{};var r,n,a=Vke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function m$(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,m=cx(r,zke),g=(a=xs(m))!==null&&a!==void 0?a:{},{offset:y}=g,b=cx(g,$ke);n=x.createElement("line",Sc({},b,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function Xke(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=cx(e,Hke),d=a.map((f,m)=>{var g=An(An({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement(m$,{key:"line-".concat(m),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Jke(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=cx(e,qke),d=a.map((f,m)=>{var g=An(An({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement(m$,{option:n,lineItemProps:g,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Qke(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var b=!f[y+1],v=b?a+l-g:f[y+1]-g;if(v<=0)return null;var S=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:v,width:s,stroke:"none",fill:t[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Zke(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var m=f.map((g,y)=>{var b=!f[y+1],v=b?a+l-g:f[y+1]-g;if(v<=0)return null;var S=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:v,height:u,stroke:"none",fill:r[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var eSe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return aF(gj(An(An(An({},ro),r),{},{ticks:sF(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},tSe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return aF(gj(An(An(An({},ro),r),{},{ticks:sF(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},rSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function ds(e){var t=JE(),r=QE(),n=mF(),a=An(An({},$r(e,rSe)),{},{x:Ge(e.x)?e.x:n.left,y:Ge(e.y)?e.y:n.top,width:Ge(e.width)?e.width:n.width,height:Ge(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:y,verticalValues:b}=a,v=Yn(),S=qe(V=>mR(V,"xAxis",s,v)),k=qe(V=>mR(V,"yAxis",l,v));if(!xi(f)||!xi(m)||!Ge(u)||!Ge(d))return null;var N=a.verticalCoordinatesGenerator||eSe,E=a.horizontalCoordinatesGenerator||tSe,{horizontalPoints:_,verticalPoints:O}=a;if((!_||!_.length)&&typeof E=="function"){var j=y&&y.length,A=E({yAxis:k?An(An({},k),{},{ticks:j?y:k.ticks}):void 0,width:t??f,height:r??m,offset:n},j?!0:g);Fy(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(_=A)}if((!O||!O.length)&&typeof N=="function"){var R=b&&b.length,U=N({xAxis:S?An(An({},S),{},{ticks:R?b:S.ticks}):void 0,width:t??f,height:r??m,offset:n},R?!0:g);Fy(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(O=U)}return x.createElement(Ss,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Yke,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Qke,Sc({},a,{horizontalPoints:_})),x.createElement(Zke,Sc({},a,{verticalPoints:O})),x.createElement(Xke,Sc({},a,{offset:n,horizontalPoints:_,xAxis:S,yAxis:k})),x.createElement(Jke,Sc({},a,{offset:n,verticalPoints:O,xAxis:S,yAxis:k}))))}ds.displayName="CartesianGrid";var nSe={},g$=va({name:"errorBars",initialState:nSe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:TOe,replaceErrorBar:IOe,removeErrorBar:OOe}=g$.actions,aSe=g$.reducer,sSe=["children"];function iSe(e,t){if(e==null)return{};var r,n,a=oSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cSe=x.createContext(lSe);function uSe(e){var{children:t}=e,r=iSe(e,sSe);return x.createElement(cSe.Provider,{value:r},t)}function p$(e,t){var r,n,a=qe(f=>_o(f,e)),s=qe(f=>jo(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:tn.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:rn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function dSe(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=mj(),{needClipX:s,needClipY:l,needClip:u}=p$(t,r);if(!u||!a)return null;var{x:d,y:f,width:m,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}var y$=(e,t,r,n)=>rz(e,"xAxis",t,n),x$=(e,t,r,n)=>tz(e,"xAxis",t,n),b$=(e,t,r,n)=>rz(e,"yAxis",r,n),v$=(e,t,r,n)=>tz(e,"yAxis",r,n),fSe=de([Gt,y$,b$,x$,v$],(e,t,r,n,a)=>Ul(e,"xAxis")?Uy(t,n,!1):Uy(r,a,!1)),hSe=(e,t,r,n,a)=>a;function mSe(e){return e.type==="line"}var gSe=de([DB,hSe],(e,t)=>e.filter(mSe).find(r=>r.id===t)),pSe=de([Gt,y$,b$,x$,v$,gSe,fSe,N_],(e,t,r,n,a,s,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=u;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:y}=s,b;if(y!=null&&y.length>0?b=y:b=d?.slice(f,m+1),b!=null)return n2e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:b})}});function ySe(e){var t=Bd(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var wS={exports:{}},kS={};var ND;function xSe(){if(ND)return kS;ND=1;var e=nf();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return kS.useSyncExternalStoreWithSelector=function(d,f,m,g,y){var b=a(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=l(function(){function k(j){if(!N){if(N=!0,E=j,j=g(j),y!==void 0&&v.hasValue){var A=v.value;if(y(A,j))return _=A}return _=j}if(A=_,r(E,j))return A;var R=g(j);return y!==void 0&&y(A,R)?(E=j,A):(E=j,_=R)}var N=!1,E,_,O=m===void 0?null:m;return[function(){return k(f())},O===null?void 0:function(){return k(O())}]},[f,m,g,y]);var S=n(d,b[0],b[1]);return s(function(){v.hasValue=!0,v.value=S},[S]),u(S),S},kS}var ED;function bSe(){return ED||(ED=1,wS.exports=xSe()),wS.exports}bSe();function vSe(e){e()}function wSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var _D={notify(){},get:()=>[]};function kSe(e,t){let r,n=_D,a=0,s=!1;function l(S){m();const k=n.subscribe(S);let N=!1;return()=>{N||(N=!0,k(),g())}}function u(){n.notify()}function d(){v.onStateChange&&v.onStateChange()}function f(){return s}function m(){a++,r||(r=e.subscribe(d),n=wSe())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=_D)}function y(){s||(s=!0,m())}function b(){s&&(s=!1,g())}const v={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>n};return v}var SSe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CSe=SSe(),NSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ESe=NSe(),_Se=()=>CSe||ESe?x.useLayoutEffect:x.useEffect,jSe=_Se();function jD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ASe(e,t){if(jD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!jD(e[r[a]],t[r[a]]))return!1;return!0}var TSe=Symbol.for("react-redux-context"),ISe=typeof globalThis<"u"?globalThis:{};function OSe(){if(!x.createContext)return{};const e=ISe[TSe]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var MSe=OSe();function RSe(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=kSe(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);jSe(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||MSe;return x.createElement(u.Provider,{value:s},t)}var DSe=RSe,PSe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function LSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function yj(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(PSe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ASe(e[n],t[n]))return!1}else if(!LSe(e[n],t[n]))return!1;return!0}var USe=["id"],FSe=["type","layout","connectNulls","needClip","shape"],BSe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){zSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zSe(e,t,r){return(t=$Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Se(e){var t=HSe(e,"string");return typeof t=="symbol"?t:t+""}function HSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xj(e,t){if(e==null)return{};var r,n,a=qSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KSe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:xb(r,t),payload:e}]},GSe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f,id:m}=e,g={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:xb(l,t),hide:u,type:f,color:n,unit:d,graphicalItemId:m}};return x.createElement(n$,{tooltipEntrySettings:g})}),w$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function WSe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var VSe=(e,t,r)=>{var n=r.reduce((g,y)=>g+y);if(!n)return w$(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,u=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>s){u=[...r.slice(0,d),s-f];break}var m=u.length%2===0?[0,l]:[l];return[...WSe(r,a),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function YSe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:u}=n,d=xj(n,USe),f=xs(d);return x.createElement(Awe,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:f,needClip:l,clipPathId:t})}function XSe(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ni(ni({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(Kve,{value:t?a:void 0},r)}function TD(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:u,connectNulls:d,needClip:f,shape:m}=s,g=xj(s,FSe),y=ni(ni({},Pn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:d,strokeDasharray:a??s.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(r$,k0({shapeType:"curve",option:m},y,{pathRef:r})),x.createElement(YSe,{points:n,clipPathId:t,props:s}))}function JSe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function QSe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:y,width:b,height:v,onAnimationEnd:S,onAnimationStart:k}=r,N=a.current,E=_b(l,"recharts-line-"),_=x.useRef(E),[O,j]=x.useState(!1),A=!O,R=x.useCallback(()=>{typeof S=="function"&&S(),j(!1)},[S]),U=x.useCallback(()=>{typeof k=="function"&&k(),j(!0)},[k]),V=JSe(n.current),W=x.useRef(0);_.current!==E&&(W.current=s.current,_.current=E);var G=W.current;return x.createElement(XSe,{points:l,showLabels:A},r.children,x.createElement(Eb,{animationId:E,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:R,onAnimationStart:U,key:E},$=>{var z=In(G,V+G,$),Y=Math.min(z,V),le;if(d)if(u){var H="".concat(u).split(/[,\s]+/gim).map(te=>parseFloat(te));le=VSe(Y,V,H)}else le=w$(V,Y);else le=u==null?void 0:String(u);if($>0&&V>0&&(a.current=l,s.current=Math.max(s.current,Y)),N){var ee=N.length/l.length,q=$===1?l:l.map((te,D)=>{var M=Math.floor(D*ee);if(N[M]){var L=N[M];return ni(ni({},te),{},{x:In(L.x,te.x,$),y:In(L.y,te.y,$)})}return y?ni(ni({},te),{},{x:In(b*2,te.x,$),y:In(v/2,te.y,$)}):ni(ni({},te),{},{x:te.x,y:te.y})});return a.current=q,x.createElement(TD,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:le})}return x.createElement(TD,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:le})}),x.createElement(Wz,{label:r.label}))}function ZSe(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),s=x.useRef(null);return x.createElement(QSe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var e2e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:dr(e.payload,t)}};class t2e extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:u,left:d,width:f,height:m,id:g,needClip:y,zIndex:b}=this.props;if(t)return null;var v=At("recharts-line",a),S=g,{r:k,strokeWidth:N}=ySe(r),E=t$(r),_=k*2+N,O=y?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return x.createElement(Ss,{zIndex:b},x.createElement(Vn,{className:v},y&&x.createElement("defs",null,x.createElement(dSe,{clipPathId:S,xAxisId:s,yAxisId:l}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:d-_/2,y:u-_/2,width:f+_,height:m+_}))),x.createElement(uSe,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:e2e,errorBarOffset:0},x.createElement(ZSe,{props:this.props,clipPathId:S}))),x.createElement(Ywe,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var k$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:on.line,type:"linear"};function r2e(e){var t=$r(e,k$),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:m,label:g,legendType:y,xAxisId:b,yAxisId:v,id:S}=t,k=xj(t,BSe),{needClip:N}=p$(b,v),E=mj(),_=J0(),O=Yn(),j=qe(W=>pSe(W,b,v,O,S));if(_!=="horizontal"&&_!=="vertical"||j==null||E==null)return null;var{height:A,width:R,x:U,y:V}=E;return x.createElement(t2e,k0({},k,{id:S,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:f,label:g,legendType:y,xAxisId:b,yAxisId:v,points:j,layout:_,height:A,width:R,left:U,top:V,needClip:N}))}function n2e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((f,m)=>{var g=dr(f,l);if(t==="horizontal"){var y=CO({axis:r,ticks:a,bandSize:u,entry:f,index:m}),b=Wr(g)?null:n.scale(g);return{x:y,y:b,value:g,payload:f}}var v=Wr(g)?null:r.scale(g),S=CO({axis:n,ticks:s,bandSize:u,entry:f,index:m});return v==null||S==null?null:{x:v,y:S,value:g,payload:f}}).filter(Boolean)}function a2e(e){var t=$r(e,k$),r=Yn();return x.createElement(a$,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(R1e,{legendPayload:KSe(t)}),x.createElement(GSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(V1e,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(r2e,k0({},t,{id:n}))))}var jn=x.memo(a2e,yj);jn.displayName="Line";var s2e=["domain","range"],i2e=["domain","range"];function ID(e,t){if(e==null)return{};var r,n,a=o2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function S$(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=ID(e,s2e),{domain:s,range:l}=t,u=ID(t,i2e);return!OD(r,s)||!OD(n,l)?!1:yj(a,u)}var l2e=["dangerouslySetInnerHTML","ticks","scale"],c2e=["id","scale"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(null,arguments)}function MD(e,t){if(e==null)return{};var r,n,a=u2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d2e(e){var t=Qt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Rwe(e)):r.current!==e&&t(Dwe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Pwe(r.current)),r.current=null)},[t]),null}var f2e=e=>{var{xAxisId:t,className:r}=e,n=qe(cF),a=Yn(),s="xAxis",l=qe(N=>ez(N,s,t,a)),u=qe(N=>yye(N,t)),d=qe(N=>Sye(N,t)),f=qe(N=>OB(N,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:g,scale:y}=e,b=MD(e,l2e),{id:v,scale:S}=f,k=MD(f,c2e);return x.createElement(pj,pC({},b,k,{x:d.x,y:d.y,width:u.width,height:u.height,className:At("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},h2e={allowDataOverflow:tn.allowDataOverflow,allowDecimals:tn.allowDecimals,allowDuplicatedCategory:tn.allowDuplicatedCategory,angle:tn.angle,axisLine:ro.axisLine,height:tn.height,hide:!1,includeHidden:tn.includeHidden,interval:tn.interval,minTickGap:tn.minTickGap,mirror:tn.mirror,orientation:tn.orientation,padding:tn.padding,reversed:tn.reversed,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:tn.type,xAxisId:0},m2e=e=>{var t=$r(e,h2e);return x.createElement(x.Fragment,null,x.createElement(d2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(f2e,t))},Ra=x.memo(m2e,S$);Ra.displayName="XAxis";var g2e=["dangerouslySetInnerHTML","ticks","scale"],p2e=["id","scale"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(null,arguments)}function RD(e,t){if(e==null)return{};var r,n,a=y2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function x2e(e){var t=Qt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Lwe(e)):r.current!==e&&t(Uwe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Fwe(r.current)),r.current=null)},[t]),null}var b2e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=qe(cF),d=Yn(),f=Qt(),m="yAxis",g=qe(A=>Eye(A,t)),y=qe(A=>Nye(A,t)),b=qe(A=>ez(A,m,t,d)),v=qe(A=>MB(A,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!g||dj(a)||x.isValidElement(a)||v==null)){var A=s.current;if(A){var R=A.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&f(Bwe({id:t,width:R}))}}},[b,g,f,a,t,n,v]),g==null||y==null||v==null)return null;var{dangerouslySetInnerHTML:S,ticks:k,scale:N}=e,E=RD(e,g2e),{id:_,scale:O}=v,j=RD(v,p2e);return x.createElement(pj,yC({},E,j,{ref:s,labelRef:l,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:At("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:b,axisType:m}))},v2e={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:ro.axisLine,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:ro.tickLine,tickSize:ro.tickSize,type:rn.type,width:rn.width,yAxisId:0},w2e=e=>{var t=$r(e,v2e);return x.createElement(x.Fragment,null,x.createElement(x2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(b2e,t))},Da=x.memo(w2e,S$);Da.displayName="YAxis";var k2e=(e,t)=>t,bj=de([k2e,Gt,AB,Xr,xz,Ao,$xe,cn],Yxe),vj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},C$=bs("mouseClick"),N$=Y0();N$.startListening({actionCreator:C$,effect:(e,t)=>{var r=e.payload,n=bj(t.getState(),vj(r));n?.activeIndex!=null&&t.dispatch(Bye({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xC=bs("mouseMove"),E$=Y0(),hp=null;E$.startListening({actionCreator:xC,effect:(e,t)=>{var r=e.payload;hp!==null&&cancelAnimationFrame(hp);var n=vj(r);hp=requestAnimationFrame(()=>{var a=t.getState(),s=tj(a,a.tooltip.settings.shared);if(s==="axis"){var l=bj(a,n);l?.activeIndex!=null?t.dispatch(uz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(cz())}hp=null})}});function S2e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_$=va({name:"rootProps",initialState:DD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:DD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),C2e=_$.reducer,{updateOptions:N2e}=_$.actions,j$=va({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:E2e}=j$.actions,_2e=j$.reducer,A$=bs("keyDown"),T$=bs("focus"),wj=Y0();wj.startListening({actionCreator:A$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=rj(a,Nf(r),im(r),cm(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Ao(r);if(s==="Enter"){var f=nx(r,"axis","hover",String(a.index));t.dispatch(uC({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var m=Tye(r),g=m==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,b=u+y*g;if(!(d==null||b>=d.length||b<0)){var v=nx(r,"axis","hover",String(b));t.dispatch(uC({active:!0,activeIndex:b.toString(),activeCoordinate:v}))}}}}}});wj.startListening({actionCreator:T$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=nx(r,"axis","hover",String(s));t.dispatch(uC({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var ss=bs("externalEvent"),I$=Y0(),SS=new Map;I$.startListening({actionCreator:ss,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=SS.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:Exe(u),activeDataKey:kz(u),activeIndex:Wd(u),activeLabel:wz(u),activeTooltipIndex:Wd(u),isTooltipActive:_xe(u)};r(d,n)}finally{SS.delete(a)}});SS.set(a,l)}}});var j2e=de([Sf],e=>e.tooltipItemPayloads),A2e=de([j2e,lm,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.graphicalItemId===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),O$=bs("touchMove"),M$=Y0();M$.startListening({actionCreator:O$,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=tj(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=bj(n,vj({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(uz({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var u,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(oF),g=(u=f.getAttribute(lF))!==null&&u!==void 0?u:void 0,y=Cf(n).find(S=>S.id===g);if(m==null||y==null||g==null)return;var{dataKey:b}=y,v=A2e(n,m,g);t.dispatch(lz({activeDataKey:b,activeIndex:m,activeCoordinate:v,activeGraphicalItemId:g}))}}}});var T2e=OU({brush:Xwe,cartesianAxis:zwe,chartData:Ebe,errorBars:aSe,graphicalItems:G1e,layout:ufe,legend:ahe,options:wbe,polarAxis:r1e,polarOptions:_2e,referenceElements:ike,rootProps:C2e,tooltip:zye,zIndex:cbe}),I2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Dde({reducer:T2e,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([N$.middleware,E$.middleware,wj.middleware,I$.middleware,M$.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(qU({type:"raf"}))},devTools:{serialize:{replacer:S2e},name:"recharts-".concat(r)}})};function R$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Yn(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=I2e(t,n));var l=qE;return x.createElement(DSe,{context:l,store:s.current},r)}function O2e(e){var{layout:t,margin:r}=e,n=Qt(),a=Yn();return x.useEffect(()=>{a||(n(ofe(t)),n(ife(r)))},[n,a,t,r]),null}var D$=x.memo(O2e,yj);function P$(e){var t=Qt();return x.useEffect(()=>{t(N2e(e))},[t,e]),null}function PD(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=Qt();return x.useLayoutEffect(()=>(n.current&&a(obe({zIndex:t,element:n.current,isPanorama:r})),()=>{a(lbe({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function LD(e){var{children:t,isPanorama:r}=e,n=qe(Jxe);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(PD,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(PD,{key:l,zIndex:l,isPanorama:r})))}var M2e=["children"];function R2e(e,t){if(e==null)return{};var r,n,a=D2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(null,arguments)}var P2e={width:"100%",height:"100%",display:"block"},L2e=x.forwardRef((e,t)=>{var r=JE(),n=QE(),a=bF();if(!xi(r)||!xi(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),x.createElement(RE,ux({},l,{title:u,desc:d,role:m,tabIndex:f,width:r,height:n,style:P2e,ref:t}),s)}),U2e=e=>{var{children:t}=e,r=qe(kb);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(RE,{width:n,height:a,x:l,y:s},t)},UD=x.forwardRef((e,t)=>{var{children:r}=e,n=R2e(e,M2e),a=Yn();return a?x.createElement(U2e,null,x.createElement(LD,{isPanorama:!0},r)):x.createElement(L2e,ux({ref:t},n),x.createElement(LD,{isPanorama:!1},r))});function F2e(){var e=Qt(),[t,r]=x.useState(null),n=qe(Nfe);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;zr(s)&&s!==n&&e(cfe(s))}},[t,e,n]),r}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){z2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z2e(e,t,r){return(t=$2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $2e(e){var t=H2e(e,"string");return typeof t=="symbol"?t:t+""}function H2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(null,arguments)}var q2e=()=>(Dbe(),null);function dx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var K2e=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:dx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:dx((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,m)=>{l(g=>{var y=Math.round(f),b=Math.round(m);return g.containerWidth===y&&g.containerHeight===b?g:{containerWidth:y,containerHeight:b}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();u(m,g);var y=v=>{var{width:S,height:k}=v[0].contentRect;u(S,k)},b=new ResizeObserver(y);b.observe(f),a.current=b}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Cb,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",eu({ref:d},e)))}),G2e=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:dx(r),containerHeight:dx(n)}),l=x.useCallback((d,f)=>{s(m=>{var g=Math.round(d),y=Math.round(f);return m.containerWidth===g&&m.containerHeight===y?m:{containerWidth:g,containerHeight:y}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Cb,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",eu({ref:u},e)))}),W2e=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Cb,{width:r,height:n}),x.createElement("div",eu({ref:t},e)))}),V2e=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return uo(r)||uo(n)?x.createElement(G2e,eu({},e,{ref:t})):x.createElement(W2e,eu({},e,{ref:t}))});function Y2e(e){return e===!0?K2e:V2e}var X2e=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:v,onTouchStart:S,style:k,width:N,responsive:E,dispatchTouchEvents:_=!0}=e,O=x.useRef(null),j=Qt(),[A,R]=x.useState(null),[U,V]=x.useState(null),W=F2e(),G=XE(),$=G?.width>0?G.width:N,z=G?.height>0?G.height:a,Y=x.useCallback(Q=>{W(Q),typeof t=="function"&&t(Q),R(Q),V(Q),Q!=null&&(O.current=Q)},[W,t,R,V]),le=x.useCallback(Q=>{j(C$(Q)),j(ss({handler:s,reactEvent:Q}))},[j,s]),H=x.useCallback(Q=>{j(xC(Q)),j(ss({handler:f,reactEvent:Q}))},[j,f]),ee=x.useCallback(Q=>{j(cz()),j(ss({handler:m,reactEvent:Q}))},[j,m]),q=x.useCallback(Q=>{j(xC(Q)),j(ss({handler:g,reactEvent:Q}))},[j,g]),te=x.useCallback(()=>{j(T$())},[j]),D=x.useCallback(Q=>{j(A$(Q.key))},[j]),M=x.useCallback(Q=>{j(ss({handler:l,reactEvent:Q}))},[j,l]),L=x.useCallback(Q=>{j(ss({handler:u,reactEvent:Q}))},[j,u]),J=x.useCallback(Q=>{j(ss({handler:d,reactEvent:Q}))},[j,d]),se=x.useCallback(Q=>{j(ss({handler:y,reactEvent:Q}))},[j,y]),je=x.useCallback(Q=>{j(ss({handler:S,reactEvent:Q}))},[j,S]),Re=x.useCallback(Q=>{_&&j(O$(Q)),j(ss({handler:v,reactEvent:Q}))},[j,_,v]),Le=x.useCallback(Q=>{j(ss({handler:b,reactEvent:Q}))},[j,b]),Ce=Y2e(E);return x.createElement(Az.Provider,{value:A},x.createElement(VL.Provider,{value:U},x.createElement(Ce,{width:$??k?.width,height:z??k?.height,className:At("recharts-wrapper",n),style:B2e({position:"relative",cursor:"default",width:$,height:z},k),onClick:le,onContextMenu:M,onDoubleClick:L,onFocus:te,onKeyDown:D,onMouseDown:J,onMouseEnter:H,onMouseLeave:ee,onMouseMove:q,onMouseUp:se,onTouchEnd:Le,onTouchMove:Re,onTouchStart:je,ref:Y},x.createElement(q2e,null),r)))}),J2e=["width","height","responsive","children","className","style","compact","title","desc"];function Q2e(e,t){if(e==null)return{};var r,n,a=Z2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L$=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:m}=e,g=Q2e(e,J2e),y=xs(g);return d?x.createElement(x.Fragment,null,x.createElement(Cb,{width:r,height:n}),x.createElement(UD,{otherAttributes:y,title:f,desc:m},s)):x.createElement(X2e,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(UD,{otherAttributes:y,title:f,desc:m,ref:t},x.createElement(oke,null,s)))});function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(null,arguments)}var eCe={top:5,right:5,bottom:5,left:5},tCe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eCe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rCe=x.forwardRef(function(t,r){var n,a=$r(t.categoricalChartProps,tCe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(R$,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(o$,{chartData:f.data}),x.createElement(D$,{layout:a.layout,margin:a.margin}),x.createElement(P$,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(L$,bC({},a,{ref:r})))}),nCe=["axis"],fs=x.forwardRef((e,t)=>x.createElement(rCe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:nCe,tooltipPayloadSearcher:Tz,categoricalChartProps:e,ref:t}));function aCe(e){var t=Qt();return x.useEffect(()=>{t(E2e(e))},[t,e]),null}var sCe=["layout"];function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(null,arguments)}function iCe(e,t){if(e==null)return{};var r,n,a=oCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lCe={top:5,right:5,bottom:5,left:5},U$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lCe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cCe=x.forwardRef(function(t,r){var n,a=$r(t.categoricalChartProps,U$),{layout:s}=a,l=iCe(a,sCe),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return x.createElement(R$,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},x.createElement(o$,{chartData:a.data}),x.createElement(D$,{layout:s,margin:a.margin}),x.createElement(P$,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(aCe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),x.createElement(L$,vC({},l,{ref:r})))});function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){uCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uCe(e,t,r){return(t=dCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dCe(e){var t=fCe(e,"string");return typeof t=="symbol"?t:t+""}function fCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hCe=["item"],mCe=zD(zD({},U$),{},{layout:"centric",startAngle:0,endAngle:360}),CS=x.forwardRef((e,t)=>{var r=$r(e,mCe);return x.createElement(cCe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hCe,tooltipPayloadSearcher:Tz,categoricalChartProps:r,ref:t})});const gCe=e=>{try{const r=e.endsWith("Z")||/[+-]\d{2}:?\d{2}$/.test(e)?e:e+"Z",n=new Date(r);if(isNaN(n.getTime()))throw new Error(`Invalid date format: ${e}`);const a=localStorage.getItem("userTimezone")||Intl.DateTimeFormat().resolvedOptions().timeZone;return new Intl.DateTimeFormat("default",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:a}).format(n)}catch(t){return console.error(t instanceof Error?t.message:"Unknown error"),"Invalid Date"}},Gr=e=>{try{const t=e.endsWith("Z")||/[+-]\d{2}:?\d{2}$/.test(e),r=new Date(t?e:e+"Z");return isNaN(r.getTime())?(console.error("Invalid date:",e),null):r}catch(t){return console.error("Error converting UTC to local date:",t),null}},pCe=(e,t={})=>{if(!e)return"Invalid Date";try{const r=navigator.language||"en-US",a={...{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},...t};return new Intl.DateTimeFormat(r,a).format(e)}catch(r){return console.error("Error formatting date:",r),"Invalid Date"}},Pa=e=>{if(!e)return"Invalid Date";try{const t=new Date().getFullYear(),r=e.getFullYear(),n=navigator.language||"en-US",a={month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1},l=new Intl.DateTimeFormat(n,a).format(e);if(r!==t){const u=r.toString().slice(-2);return`${l} '${u}`}return l}catch(t){return console.error("Error formatting compact date:",t),"Invalid Date"}};function yCe({monitorId:e,onClose:t}){const[r,n]=x.useState([]),[a,s]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState([]);x.useEffect(()=>{(async()=>{try{const[S,k]=await Promise.all([hl.get("/api/Notification/SelectNotificationItemList"),bt.get(`/api/MonitorNotification/monitorNotifications/${e}`)]);n(S.data),s(k.data.map(N=>N.notificationId)),u(!1)}catch(S){console.error("Failed to fetch notifications:",S),xe.error("Failed to load notifications"),t()}})()},[e]);const m=async v=>{try{f(E=>[...E,v]);const S=a.includes(v),k=S?"removeMonitorNotification":"addMonitorNotification",N={monitorId:e,notificationId:v};await bt.post(`/api/MonitorNotification/${k}`,N),s(E=>S?E.filter(_=>_!==v):[...E,v]),xe.success(`Notification ${S?"removed from":"added to"} monitor`,{position:"bottom-right"})}catch(S){console.error("Failed to update notification:",S),xe.error(`Failed to ${isSelected?"remove":"add"} notification`,{position:"bottom-right"})}finally{f(S=>S.filter(k=>k!==v))}},g={1:"Email",2:"Microsoft Teams",3:"Telegram",4:"Slack",5:"Webhook",6:"Push"},y={Email:i.jsx(Yx,{className:"w-4 h-4"}),"Microsoft Teams":i.jsx(F7,{className:"w-4 h-4"}),Telegram:i.jsx($7,{className:"w-4 h-4"}),Slack:i.jsx(hf,{className:"w-4 h-4"}),Webhook:i.jsx(xE,{className:"w-4 h-4"}),Push:i.jsx(ff,{className:"w-4 h-4"})},b=r.reduce((v,S)=>{const k=g[S.notificationTypeId]||"Other";return v[k]||(v[k]=[]),v[k].push(S),v},{});return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-8",children:i.jsxs("div",{className:"w-full max-w-3xl dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg max-h-[80vh]",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white",children:"Monitor Notifications"}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-4 max-h-[calc(80vh-120px)] overflow-y-auto",children:l?i.jsx("div",{className:"flex justify-center p-4",children:i.jsx(Je,{size:"lg"})}):i.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([v,S])=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[y[v],v]}),i.jsx("div",{className:"space-y-2",children:S.map(k=>i.jsxs("label",{className:`flex items-center p-3 rounded-lg dark:bg-gray-700/50 bg-gray-50 hover:bg-gray-100 
                                 dark:hover:bg-gray-700 cursor-pointer`,children:[i.jsx("input",{type:"checkbox",checked:a.includes(k.id),onChange:()=>m(k.id),disabled:d.includes(k.id),className:"mr-3"}),d.includes(k.id)&&i.jsx(Je,{size:"sm"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium dark:text-white",children:k.name}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.description})]})]},k.id))})]},v))})})]})})}const xCe=[{name:"Strict-Transport-Security",description:"Enforces HTTPS connections and prevents protocol downgrade attacks",importance:"critical"},{name:"Content-Security-Policy",description:"Prevents XSS attacks by controlling resource loading",importance:"critical"},{name:"X-Frame-Options",description:"Prevents clickjacking attacks by controlling iframe embedding",importance:"high"},{name:"X-Content-Type-Options",description:"Prevents MIME type sniffing attacks",importance:"high"},{name:"Referrer-Policy",description:"Controls how much referrer information is sent with requests",importance:"medium"},{name:"Permissions-Policy",description:"Controls browser features and APIs that can be used",importance:"medium"},{name:"Cache-Control",description:"Controls caching behavior for security-sensitive content",importance:"low"}];function bCe(e){const t=e.filter(y=>y.importance==="critical"),r=e.filter(y=>y.importance==="high"),n=e.filter(y=>y.importance==="medium"),a=e.filter(y=>y.importance==="low"),s=t.filter(y=>y.present).length,l=r.filter(y=>y.present).length,u=n.filter(y=>y.present).length,d=a.filter(y=>y.present).length,f=t.length*4+r.length*3+n.length*2+a.length*1,m=s*4+l*3+u*2+d*1,g=f>0?m/f*100:0;return g>=90?{grade:"A",score:g,color:"text-green-600 dark:text-green-400"}:g>=80?{grade:"B",score:g,color:"text-blue-600 dark:text-blue-400"}:g>=70?{grade:"C",score:g,color:"text-yellow-600 dark:text-yellow-400"}:g>=60?{grade:"D",score:g,color:"text-orange-600 dark:text-orange-400"}:g>=40?{grade:"E",score:g,color:"text-red-500 dark:text-red-400"}:{grade:"F",score:g,color:"text-red-600 dark:text-red-500"}}function vCe(e){if(e.present)return i.jsx(Dn,{className:"w-5 h-5 text-green-500"});switch(e.importance){case"critical":return i.jsx(ma,{className:"w-5 h-5 text-red-500"});case"high":return i.jsx(Vt,{className:"w-5 h-5 text-orange-500"});case"medium":return i.jsx(Vt,{className:"w-5 h-5 text-yellow-500"});case"low":return i.jsx(ma,{className:"w-5 h-5 text-gray-400"});default:return i.jsx(ma,{className:"w-5 h-5 text-gray-400"})}}function wCe(e){switch(e){case"critical":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-400 border-red-200 dark:border-red-800";case"high":return"bg-orange-100 dark:bg-orange-900/20 text-orange-800 dark:text-orange-400 border-orange-200 dark:border-orange-800";case"medium":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800";case"low":return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700"}}function kCe({onClose:e,monitorId:t,monitorName:r,onEditMonitor:n}){const[a,s]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{try{u(!0),f(null);const y=await He.getMonitorSecurityHeaders(t);if(!Object.values(y).some(S=>S&&typeof S=="string"&&S.trim()!=="")){f('Security headers monitoring is not enabled for this monitor. Please enable "Check Security Headers" in the monitor settings to analyze security headers.'),s([]);return}const v=xCe.map(S=>{const N={"strict-transport-security":"strictTransportSecurity","content-security-policy":"contentSecurityPolicy","x-frame-options":"xFrameOptions","x-content-type-options":"xContentTypeOptions","referrer-policy":"referrerPolicy","permissions-policy":"permissionsPolicy","cache-control":"cacheControl"}[S.name.toLowerCase()],E=N?y[N]:void 0;return{...S,value:E,present:!!E}});s(v)}catch(y){console.error("Failed to fetch security headers:",y),f("Failed to load security headers. Please try again.")}finally{u(!1)}})()},[t]);const m=bCe(a);return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] dark:bg-gray-800 bg-white rounded-lg shadow-lg flex flex-col",children:[i.jsxs("div",{className:"flex-none flex items-center justify-between p-6 border-b dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(pi,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Security Headers Analysis"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r})]})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-5 h-5 dark:text-gray-400"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:l?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsx(Je,{size:"lg",text:"Loading security headers..."})}):d?i.jsx("div",{className:"flex items-center justify-center p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ma,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:d}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Retry"}),n&&i.jsx("button",{onClick:()=>{e(),n()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Edit Monitor"})]})]})}):i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-6xl font-bold ${m.color} mb-2`,children:m.grade}),i.jsxs("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Security Score: ",Math.round(m.score),"%"]}),i.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.grade==="A"&&"Excellent! Your security headers are well configured.",m.grade==="B"&&"Good security posture with minor improvements needed.",m.grade==="C"&&"Fair security configuration with room for improvement.",m.grade==="D"&&"Below average security configuration. Consider adding more headers.",m.grade==="E"&&"Poor security configuration. Multiple critical headers missing.",m.grade==="F"&&"Very poor security configuration. Immediate action required."]})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white mb-4",children:"Security Headers Status"}),a.map((g,y)=>i.jsx("div",{className:"p-4 border dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:vCe(g)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h4",{className:"font-medium dark:text-white text-gray-900",children:g.name}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${wCe(g.importance)}`,children:g.importance.toUpperCase()}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.present?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-400"}`,children:g.present?"PRESENT":"MISSING"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:g.description}),g.value&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Value:"}),i.jsx("code",{className:"block p-2 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded text-xs font-mono break-all",children:g.value})]})]})]})},y))]}),i.jsxs("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-400 mb-2",children:"Recommendations"}),i.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[i.jsx("li",{children:" Ensure all critical headers are present for maximum security"}),i.jsx("li",{children:" Configure Content-Security-Policy with appropriate directives"}),i.jsx("li",{children:" Set Strict-Transport-Security with appropriate max-age"}),i.jsx("li",{children:" Consider adding additional security headers based on your application needs"})]})]})]})})]})})}new ys({html:!0,breaks:!0,linkify:!0});const $D=[{label:"1 Hour",days:0},{label:"24 Hours",days:1},{label:"7 Days",days:7},{label:"30 Days",days:30},{label:"3 Months",days:90},{label:"6 Months",days:180}],SCe=({historyData:e})=>{const t=localStorage.getItem("userTimezone")||Intl.DateTimeFormat().resolvedOptions().timeZone,r=[...e].filter(u=>{try{return u.timeStamp?Gr(u.timeStamp)!==null:(console.warn("Found point without timestamp:",u),!1)}catch(d){return console.error("Error validating point in StatusTimeline:",{error:d,point:u}),!1}}).sort((u,d)=>{try{const f=Gr(u.timeStamp),m=Gr(d.timeStamp);return!f||!m?0:f.getTime()-m.getTime()}catch(f){return console.error("Error sorting points in StatusTimeline:",{error:f,pointA:u,pointB:d}),0}}),n=r.length,a=r.filter(u=>u.status).length,s=n-a,l=n>0?a/n*100:0;return i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(wr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"Status Timeline"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[a," online"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[s," offline"]})]}),i.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full",children:i.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l.toFixed(1),"% uptime"]})})]})]}),i.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-800 rounded-lg flex gap-px p-px",children:r.map((u,d)=>{try{return i.jsxs("div",{className:"group relative flex-1 min-w-[2px]",children:[i.jsx("div",{className:jd("w-full h-full rounded-sm transition-all duration-200 hover:scale-y-110",u.status?"bg-green-500 dark:bg-green-400 hover:bg-green-600 dark:hover:bg-green-300":"bg-red-500 dark:bg-red-400 hover:bg-red-600 dark:hover:bg-red-300")}),i.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-[9999] pointer-events-none",children:[i.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-3 px-4 whitespace-nowrap shadow-lg border border-gray-700 min-w-[200px]",children:[i.jsx("div",{className:"font-medium mb-2 text-center border-b border-gray-700 pb-2",children:(()=>{try{const f=Gr(u.timeStamp);return Pa(f)}catch(f){return console.error("Error formatting date:",f),"Invalid Date"}})()}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:`flex items-center justify-between ${u.status?"text-green-400":"text-red-400"}`,children:[i.jsx("span",{className:"font-medium",children:"Status:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[u.status?i.jsx(Dn,{className:"w-3 h-3"}):i.jsx(Dt,{className:"w-3 h-3"}),i.jsx("span",{children:u.status?"Online":"Offline"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-gray-300",children:[i.jsx("span",{children:"Response Time:"}),i.jsx("span",{className:"font-medium",children:u.status?"Available":"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between text-gray-300",children:[i.jsx("span",{children:"Check Type:"}),i.jsx("span",{className:"font-medium",children:"Heartbeat"})]}),i.jsxs("div",{className:"flex items-center justify-between text-gray-300",children:[i.jsx("span",{children:"Time Ago:"}),i.jsx("span",{className:"font-medium",children:(()=>{try{const f=new Date,m=Gr(u.timeStamp);if(!m)return"Unknown";const g=f.getTime()-m.getTime(),y=Math.floor(g/(1e3*60)),b=Math.floor(g/(1e3*60*60));return y<60?`${y} min${y!==1?"s":""} ago`:`${b} hour${b!==1?"s":""} ago`}catch{return"Unknown"}})()})]})]})]}),i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},d)}catch(f){return console.error("Error rendering timeline point:",{error:f,point:u,index:d}),null}})}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-3",children:[i.jsx("span",{children:"1 hour ago"}),i.jsx("span",{children:"Now"})]})]})},HD=(e,t,r)=>{const n=r?"text-gray-400 dark:text-gray-500":t?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";switch(e){case 1:return{icon:i.jsx(cs,{className:`w-5 h-5 ${n}`}),label:"HTTP(S)"};case 3:return{icon:i.jsx(Kc,{className:`w-5 h-5 ${n}`}),label:"TCP"};case 4:return{icon:i.jsx(vr,{className:`w-5 h-5 ${n}`}),label:"Kubernetes"};default:return{icon:i.jsx(cs,{className:`w-5 h-5 ${n}`}),label:"Unknown"}}},CCe=({node:e})=>{const t=[{title:"Node Status",items:[{label:"Ready",status:e.ready,positive:!0},{label:"Memory Pressure",status:e.memoryPressure,positive:!1},{label:"Disk Pressure",status:e.diskPressure,positive:!1},{label:"PID Pressure",status:e.pidPressure,positive:!1}]},{title:"Runtime Issues",items:[{label:"Container Runtime",status:e.containerRuntimeProblem,positive:!1},{label:"Kernel Deadlock",status:e.kernelDeadlock,positive:!1},{label:"Kubelet Problem",status:e.kubeletProblem,positive:!1}]},{title:"Filesystem Issues",items:[{label:"Filesystem Corruption",status:e.filesystemCorruptionProblem,positive:!1},{label:"Readonly Filesystem",status:e.readonlyFilesystem,positive:!1}]},{title:"Restart Issues",items:[{label:"Frequent Kubelet Restart",status:e.frequentKubeletRestart,positive:!1},{label:"Frequent Docker Restart",status:e.frequentDockerRestart,positive:!1},{label:"Frequent Containerd Restart",status:e.frequentContainerdRestart,positive:!1}]}];return i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-4",children:["Node: ",e.nodeName]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-md font-medium dark:text-gray-300 text-gray-700",children:r.title}),i.jsx("div",{className:"space-y-2",children:r.items.map(n=>{const a=n.positive?n.status:!n.status;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600",children:n.label}),i.jsx("div",{className:`flex items-center ${a?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400"}`,children:a?i.jsx(hi,{className:"w-4 h-4"}):i.jsx(Dt,{className:"w-4 h-4"})})]},n.label)})})]},r.title))})]})};function F$({metric:e,group:t,onMetricUpdate:r}){const[n,a]=x.useState(e);x.useEffect(()=>{a(e)},[e]);const[s,l]=x.useState(!1),[u,d]=x.useState(!1),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(null),[S,k]=x.useState(!1),[N,E]=x.useState(!1),[_,O]=x.useState(!1),[j,A]=x.useState(!1),[R,U]=x.useState($D[1]),[V,W]=x.useState([]),[G,$]=x.useState(!1),[z,Y]=x.useState(!1),[le,H]=x.useState(!1),[ee,q]=x.useState(null),[te,D]=x.useState(!1),[M,L]=x.useState("o4-mini"),[J,se]=x.useState([]),[je,Re]=x.useState(!1),Le=async()=>{};x.useEffect(()=>{Le()},[]),x.useEffect(()=>{n&&(Q(R),n.monitorTypeId===4&&Ce())},[R,n?.id]);const Ce=async()=>{if(!(!n||n.monitorTypeId!==4))try{D(!0);const ce=await bt.get(`/api/Monitor/getMonitorK8sByMonitorId/${n.id}`);console.log("Kubernetes details:",ce.data),console.log("Cluster name from API:",ce.data.clusterName||ce.data.ClusterName);const Ae={...ce.data,monitorId:ce.data.monitorId||ce.data.MonitorId,clusterName:ce.data.clusterName||ce.data.ClusterName,kubeConfig:ce.data.kubeConfig||ce.data.KubeConfig,lastStatus:ce.data.lastStatus||ce.data.LastStatus,monitorK8sNodes:ce.data.monitorK8sNodes||[],id:ce.data.id||ce.data.Id,monitorTypeId:ce.data.monitorTypeId||ce.data.MonitorTypeId,name:ce.data.name||ce.data.Name,heartBeatInterval:ce.data.heartBeatInterval||ce.data.HeartBeatInterval,retries:ce.data.retries||ce.data.Retries,status:ce.data.status||ce.data.Status,daysToExpireCert:ce.data.daysToExpireCert||ce.data.DaysToExpireCert,paused:ce.data.paused||ce.data.Paused,monitorRegion:ce.data.monitorRegion||ce.data.MonitorRegion,monitorEnvironment:ce.data.monitorEnvironment||ce.data.MonitorEnvironment,checkCertExpiry:ce.data.checkCertExpiry||ce.data.CheckCertExpiry,monitorGroup:ce.data.monitorGroup||ce.data.MonitorGroup};q(Ae)}catch(ce){console.error("Failed to load Kubernetes details:",ce),xe.error("Failed to load Kubernetes details",{position:"bottom-right"})}finally{D(!1)}},Q=async ce=>{if(n)try{$(!0);const Z=(await He.getMonitorHistory(n.id,ce.days)).map(me=>{try{return new Date(me.timeStamp),me}catch{return console.error("Invalid timestamp found:",{timestamp:me.timeStamp,item:me}),null}}).filter(Boolean);W(Z)}catch(Ae){console.error("Failed to load history data:",Ae),xe.error("Failed to load history data",{position:"bottom-right"})}finally{$(!1)}},Ee=async()=>{if(n)try{Y(!0),await Q(R),n.monitorTypeId===4&&await Ce(),await He.getDashboardGroups(n.monitorEnvironment),window.history.replaceState({},"",window.location.pathname)}catch(ce){console.error("Failed to refresh data:",ce),xe.error("Failed to refresh data",{position:"bottom-right"})}finally{Y(!1)}};if(x.useEffect(()=>{let ce;return le&&n&&(ce=window.setInterval(()=>{Ee()},3e4)),()=>{ce&&window.clearInterval(ce)}},[le,n,R]),!e&&t)return i.jsxs("div",{className:"h-full p-6 overflow-y-auto dark:bg-gray-900 bg-gray-50 transition-colors duration-200",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"flex items-center gap-4 mb-4",children:i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900",children:t.name})})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[{label:"1 Hour",value:t.avgUptime1Hr},{label:"24 Hours",value:t.avgUptime24Hrs},{label:"7 Days",value:t.avgUptime7Days},{label:"30 Days",value:t.avgUptime30Days},{label:"3 Months",value:t.avgUptime3Months},{label:"6 Months",value:t.avgUptime6Months}].map(ce=>i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-4",children:[i.jsx("div",{className:"text-sm font-medium mb-1 dark:text-gray-300 text-gray-700",children:ce.label}),i.jsx("div",{className:`text-2xl font-bold ${!ce.value||ce.value===-1?"dark:text-gray-500 text-gray-400":ce.value>=99?"dark:text-green-400 text-green-500":ce.value>=95?"dark:text-yellow-400 text-yellow-500":"dark:text-red-400 text-red-500"}`,children:!ce.value||ce.value===-1?"N/A":`${ce.value.toFixed(2)}%`})]},ce.label))}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-4",children:"Group Status Summary"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{label:"Total Monitors",value:t.monitors.length},{label:"Online Monitors",value:t.monitors.filter(ce=>ce.status).length},{label:"Offline Monitors",value:t.monitors.filter(ce=>!ce.status).length}].map(ce=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600",children:ce.label}),i.jsx("span",{className:"text-2xl font-bold dark:text-white text-gray-900",children:ce.value})]},ce.label))})]}),!1]});if(!n)return i.jsx("div",{className:"h-full flex items-center justify-center dark:bg-gray-900 bg-gray-50",children:i.jsx("div",{className:"text-center dark:text-gray-400 text-gray-600",children:"Select a monitor or group to view details"})});const we=async()=>{if(n){d(!0);try{await He.deleteMonitor(n.id)?(xe.success("Monitor deleted successfully",{position:"bottom-right"}),await He.getDashboardGroups(n.monitorEnvironment),window.location.href="/dashboard"):xe.error("Failed to delete monitor",{position:"bottom-right"})}catch{xe.error("Failed to delete monitor",{position:"bottom-right"})}finally{d(!1),l(!1)}}},ae=async()=>{if(!n)return;m(!0);const ce=n,Ae=!n.paused,Z={...n,paused:Ae};a(Z),r?.(Z);try{if(await He.toggleMonitorPause(ce.id,Ae)){xe.success(`Monitor ${ce.paused?"resumed":"paused"} successfully`,{position:"bottom-right"});try{const Te=(await He.getDashboardGroups(ce.monitorEnvironment)).find(Ye=>Ye.monitors.some(Be=>Be.id===ce.id));if(Te){const Ye=Te.monitors.find(Be=>Be.id===ce.id);Ye&&(a(Ye),r?.(Ye))}}catch(Pe){console.error("Failed to refresh monitor data:",Pe)}}else a(ce),r?.(ce),xe.error(`Failed to ${ce.paused?"resume":"pause"} monitor`,{position:"bottom-right"})}catch{a(ce),r?.(ce),xe.error(`Failed to ${ce.paused?"resume":"pause"} monitor`,{position:"bottom-right"})}finally{m(!1)}},nt=async()=>{if(n)try{let ce;if(console.log("Monitor Type ID:",n.monitorTypeId),n.monitorTypeId===3){const Ae=await He.getMonitorTcpDetails(n.id);ce={...Ae,monitorTcp:{IP:Ae.ip,port:Ae.port},urlToCheck:"",monitorStatusDashboard:n.monitorStatusDashboard}}else if(n.monitorTypeId===4){const Ae=await He.getMonitorK8sDetails(n.id);ce={...n,monitorTypeId:4,monitorK8s:{clusterName:Ae.ClusterName,kubeConfig:Ae.KubeConfig,monitorK8sNodes:Ae.monitorK8sNodes}}}else{const Ae=await He.getMonitorHttpDetails(n.id);ce={...Ae,monitorHttp:{ignoreTlsSsl:Ae.ignoreTlsSsl,maxRedirects:Ae.maxRedirects,responseStatusCode:Ae.responseStatusCode,timeout:Ae.timeout,monitorHttpMethod:Ae.monitorHttpMethod,body:Ae.body},urlToCheck:Ae.urlToCheck,monitorStatusDashboard:n.monitorStatusDashboard,httpResponseCodeFrom:Ae.httpResponseCodeFrom,httpResponseCodeTo:Ae.httpResponseCodeTo}}console.log("Monitor Data being sent to modal:",ce),v(ce),y(!0)}catch(ce){console.error("Failed to fetch monitor details:",ce),xe.error("Failed to load monitor details",{position:"bottom-right"})}},De=async()=>{if(n){A(!0);try{await He.cloneMonitor(n.id),xe.success("Monitor cloned successfully",{position:"bottom-right"}),window.location.reload()}catch(ce){console.error("Failed to clone monitor:",ce),xe.error("Failed to clone monitor",{position:"bottom-right"})}finally{A(!1),O(!1)}}},Ve=ce=>{const Ae=[];let Z=null;return ce.forEach((me,Pe)=>{try{me.responseTime===0&&!Z?Z={start:me.timeStamp,end:me.timeStamp}:me.responseTime===0&&Z?Z.end=me.timeStamp:me.responseTime!==0&&Z&&(Ae.push(Z),Z=null)}catch(Te){console.error("Error processing point in getOfflinePeriods:",{error:Te,point:me,index:Pe,currentPeriod:Z})}}),Z&&Ae.push(Z),Ae},Ze=()=>!ee||!ee.monitorK8sNodes||ee.monitorK8sNodes.length===0?i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:i.jsx("div",{className:"flex items-center justify-center p-4",children:i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No Kubernetes nodes found"})})}):i.jsxs("div",{className:"mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:["Kubernetes Nodes for ",ee.clusterName]}),ee.monitorK8sNodes.map((ce,Ae)=>i.jsx(CCe,{node:ce},Ae))]});return i.jsxs("div",{className:"h-full p-6 overflow-y-auto dark:bg-gray-900 bg-gray-50 transition-colors duration-200",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900",children:n?.name||t?.name}),n?.monitorTypeId===3?i.jsxs("div",{className:"flex items-center px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[i.jsx(Kc,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600 truncate",children:`${n.monitorTcp?.IP}:${n.monitorTcp?.port}`})]}):n?.monitorTypeId===4?i.jsxs("div",{className:"flex items-center px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[i.jsx(vr,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600 truncate",children:ee?.clusterName||n.monitorK8s?.clusterName||"No cluster specified"})]}):n&&i.jsxs("div",{className:"flex items-center px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[i.jsx(cs,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600 truncate",children:n.urlToCheck||"No URL specified"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:ae,disabled:f,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                     dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                     transition-colors duration-200`,children:[f?i.jsx(Je,{size:"sm"}):n.paused?i.jsx(z7,{className:"w-4 h-4"}):i.jsx(Xx,{className:"w-4 h-4"}),f?"Processing...":n.paused?"Resume":"Pause"]}),i.jsxs("button",{onClick:nt,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                     dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                     transition-colors duration-200`,children:[i.jsx(pE,{className:"w-4 h-4"}),"Edit"]}),i.jsxs(hE,{to:`/monitor/${n.id}/alerts`,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800
                     text-amber-600 dark:text-amber-400 hover:bg-amber-100 dark:hover:bg-amber-900/40
                     transition-colors duration-200`,children:[i.jsx(ff,{className:"w-4 h-4"}),"Alerts"]}),i.jsxs("button",{onClick:()=>k(!0),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                     dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                     transition-colors duration-200`,children:[i.jsx(hf,{className:"w-4 h-4"}),"Notifications"]}),n?.monitorTypeId===1&&i.jsxs("button",{onClick:()=>E(!0),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                       dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                       dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                       transition-colors duration-200 relative`,children:[i.jsx(pi,{className:"w-4 h-4"}),"Security Headers",i.jsx("span",{className:`absolute -top-2 -right-2 px-1.5 py-0.5 bg-yellow-100 dark:bg-yellow-900/30 
                            text-yellow-800 dark:text-yellow-500 text-xs rounded-full border border-yellow-300 
                            dark:border-yellow-700/50`,children:"Beta"})]}),i.jsxs("button",{onClick:()=>O(!0),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                     dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                     transition-colors duration-200`,children:[i.jsx(p2,{className:"w-4 h-4"}),"Clone"]}),i.jsxs("button",{onClick:()=>l(!0),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800
                     text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40
                     transition-colors duration-200`,children:[i.jsx(Ks,{className:"w-4 h-4"}),"Delete"]}),i.jsxs("button",{onClick:Ee,disabled:z,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                     dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                     transition-colors duration-200`,children:[i.jsx(kn,{className:`w-4 h-4 ${z?"animate-spin":""}`}),"Refresh"]}),i.jsxs("button",{onClick:()=>H(!le),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                     border transition-colors duration-200 ${le?"bg-green-500 text-white hover:bg-green-600 border-green-600":"dark:bg-gray-800 bg-white border-gray-200 dark:border-gray-700 dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[i.jsx(mi,{className:"w-4 h-4"}),le?"Auto-refresh On":"Auto-refresh Off"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(wr,{className:`w-5 h-5 ${n.paused?"dark:text-gray-400 text-gray-500":n.status?"dark:text-green-400 text-green-500":"dark:text-red-400 text-red-500"}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs dark:text-gray-400 text-gray-600",children:"Current Status"}),i.jsx("p",{className:`text-xl font-bold ${n.paused?"dark:text-gray-400 text-gray-500":n.status?"dark:text-green-400 text-green-500":"dark:text-red-400 text-red-500"}`,children:n.paused?"Paused":n.status?"Online":"Offline"})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:HD(n.monitorTypeId,n.status,n.paused).icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs dark:text-gray-400 text-gray-600",children:"Monitor Type"}),i.jsx("p",{className:"text-xl font-bold dark:text-white text-gray-900",children:HD(n.monitorTypeId,n.status,n.paused).label})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(mi,{className:"w-5 h-5 dark:text-yellow-400 text-yellow-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs dark:text-gray-400 text-gray-600",children:"Response Time"}),i.jsxs("p",{className:"text-xl font-bold dark:text-white text-gray-900",children:[n.monitorStatusDashboard.responseTime.toFixed(0),"ms"]})]})]})}),n.checkCertExpiry&&i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(Dn,{className:"w-5 h-5 dark:text-purple-400 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs dark:text-gray-400 text-gray-600",children:"SSL Certificate"}),i.jsxs("p",{className:"text-xl font-bold dark:text-white text-gray-900",children:[n.daysToExpireCert," days"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:$D.map(ce=>{const Ae=ce.label==="1 Hour"?n.monitorStatusDashboard.uptime1Hr:ce.label==="24 Hours"?n.monitorStatusDashboard.uptime24Hrs:ce.label==="7 Days"?n.monitorStatusDashboard.uptime7Days:ce.label==="30 Days"?n.monitorStatusDashboard.uptime30Days:ce.label==="3 Months"?n.monitorStatusDashboard.uptime3Months:n.monitorStatusDashboard.uptime6Months,Z=R===ce,me=!Ae||Ae===-1,Pe=Ye=>me?"text-gray-500 dark:text-gray-400":Ye>=99.5?"text-green-600 dark:text-green-400":Ye>=95?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",Te=Ye=>me?"N/A":Ye>=99.5?"Excellent":Ye>=95?"Good":Ye>=90?"Fair":"Poor";return i.jsxs("button",{onClick:()=>U(ce),className:`group p-3 rounded-xl border-2 transition-all duration-200 hover:scale-105 ${Z?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 shadow-lg":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[i.jsx("div",{className:`p-1 rounded-lg ${Z?"bg-blue-100 dark:bg-blue-800":"bg-gray-100 dark:bg-gray-700"}`,children:i.jsx(mi,{className:`w-3.5 h-3.5 ${Z?"text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-300"}`})}),i.jsx("span",{className:`text-xs font-medium ${Z?"text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400"}`,children:ce.label})]}),i.jsx("div",{className:`text-xl font-bold mb-0.5 ${Pe(Ae)}`,children:me?"N/A":`${Ae.toFixed(2)}%`}),i.jsx("div",{className:`text-xs font-medium ${Pe(Ae)}`,children:Te(Ae)})]},ce.label)})}),i.jsx(SCe,{historyData:V}),n.monitorTypeId===1&&i.jsxs("div",{className:"h-64 mt-6 relative",children:[G&&i.jsx("div",{className:"absolute inset-0 bg-gray-900/20 dark:bg-gray-900/40 flex items-center justify-center z-10 rounded-lg",children:i.jsx(Je,{size:"lg"})}),i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:[...V].sort((ce,Ae)=>{try{return new Date(ce.timeStamp).getTime()-new Date(Ae.timeStamp).getTime()}catch(Z){return console.error("Error sorting timestamps:",Z),0}}),children:[Ve(V).map((ce,Ae)=>i.jsx(f$,{x1:ce.start,x2:ce.end,fill:"#EF444460"},Ae)),i.jsx(Ra,{dataKey:"timeStamp",tickFormatter:ce=>{try{const Ae=Gr(ce);return Pa(Ae)}catch(Ae){return console.error("Error formatting tick:",Ae),"Invalid Date"}},angle:-45,textAnchor:"end",height:70,tick:{fontSize:12},interval:"preserveStartEnd",padding:{left:20,right:20}}),i.jsx(Da,{}),i.jsx(Hn,{labelFormatter:ce=>{try{const Ae=Gr(ce);return Pa(Ae)}catch(Ae){return console.error("Error formatting tooltip:",Ae),"Invalid Date"}},formatter:ce=>ce===0?[i.jsx("span",{style:{color:"#EF4444"},children:"Offline"}),"Status"]:[`${ce}ms`,"Response Time"],contentStyle:{backgroundColor:"#1F2937",color:"#fff"}}),i.jsx(jn,{type:"monotone",dataKey:"responseTime",stroke:"#5CD4E2",strokeWidth:2,dot:!1})]})})]}),n.monitorTypeId===4&&i.jsx("div",{className:"mt-6 relative",children:te?i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 flex items-center justify-center",children:i.jsx(Je,{size:"lg",text:"Loading Kubernetes data..."})}):Ze()}),t&&!e&&!1,s&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Delete Monitor"}),i.jsxs("p",{className:"dark:text-gray-300 text-gray-700 mb-6",children:['Are you sure you want to delete monitor "',n.name,'"? This action cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>l(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:we,disabled:u,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                         disabled:opacity-50 flex items-center gap-2`,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ks,{className:"w-4 h-4"}),"Delete Monitor"]})})]})]})}),g&&i.jsx(_2,{onClose:()=>y(!1),onAdd:async()=>{},onUpdate:async ce=>{if(n)try{if(ce.id=n.id,ce.monitorId=n.id,n.monitorTypeId===3?await He.updateMonitorTcp(ce):await He.updateMonitorHttp(ce)){xe.success("Monitor updated successfully",{position:"bottom-right"}),y(!1);try{const me=(await He.getDashboardGroups(n.monitorEnvironment)).find(Pe=>Pe.monitors.some(Te=>Te.id===n.id));if(me){let Pe=me.monitors.find(Te=>Te.id===n.id);if(Pe){if(Pe.monitorTypeId===3){const Te=await He.getMonitorTcpDetails(Pe.id);Pe={...Pe,monitorTcp:{IP:Te.ip,port:Te.port}}}else if(Pe.monitorTypeId===4){const Te=await He.getMonitorK8sDetails(Pe.id);Pe={...Pe,monitorK8s:{clusterName:Te.ClusterName,kubeConfig:Te.KubeConfig,monitorK8sNodes:Te.monitorK8sNodes}}}else{const Te=await He.getMonitorHttpDetails(Pe.id);Pe={...Pe,monitorHttp:{ignoreTlsSsl:Te.ignoreTlsSsl,maxRedirects:Te.maxRedirects,responseStatusCode:Te.responseStatusCode,timeout:Te.timeout,monitorHttpMethod:Te.monitorHttpMethod,body:Te.body},urlToCheck:Te.urlToCheck,httpResponseCodeFrom:Te.httpResponseCodeFrom,httpResponseCodeTo:Te.httpResponseCodeTo}}a(Pe),r?.(Pe)}}}catch(Z){console.error("Failed to refresh monitor data:",Z);const me={...n,...ce,id:n.id,monitorId:n.id};a(me),r?.(me)}}}catch(Ae){console.error("Failed to update monitor:",Ae),xe.error("Failed to update monitor",{position:"bottom-right"})}},existingMonitor:b||n,isEditing:!0}),S&&i.jsx(yCe,{monitorId:n.id,onClose:()=>k(!1)}),N&&n&&i.jsx(kCe,{monitorId:n.id,monitorName:n.name,onClose:()=>E(!1),onEditMonitor:()=>{E(!1),y(!0),v(n)}}),_&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Clone Monitor"}),i.jsxs("p",{className:"dark:text-gray-300 text-gray-700 mb-6",children:['Are you sure you want to clone monitor "',n.name,'"? A new monitor will be created with name "',n.name,'_Clone".']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>O(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:De,disabled:j,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                         disabled:opacity-50 flex items-center gap-2`,children:j?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Cloning..."]}):i.jsxs(i.Fragment,{children:[i.jsx(p2,{className:"w-4 h-4"}),"Clone Monitor"]})})]})]})})]})}function NCe({isOpen:e,onClose:t,monitors:r,onDontShowAgain:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Certificate Expiration Warning"}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.length," monitor",r.length!==1?"s":""," with certificates expiring in less than 30 days"]})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:i.jsx("div",{className:"space-y-4",children:r.map(a=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:a.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",title:a.urlToCheck,children:a.urlToCheck})]}),i.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Days to expire:"}),i.jsx("div",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:a.daysToExpireCert})]}),i.jsx("div",{className:`w-3 h-3 rounded-full ${a.daysToExpireCert<=7?"bg-red-500":a.daysToExpireCert<=14?"bg-orange-500":"bg-yellow-500"}`})]})]},a.id))})}),i.jsxs("div",{className:"flex items-center justify-between p-6 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-700 flex-shrink-0",children:[i.jsx("button",{onClick:n,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Don't show this again"}),i.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})]})}):null}const wC="metricsWelcomeDismissed";function ECe({onClose:e}){const[t,r]=x.useState(!1),n=df(),a=()=>{t&&localStorage.setItem(wC,"true"),e()},s=()=>{t&&localStorage.setItem(wC,"true"),e(),n("/metrics")};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"w-full max-w-4xl dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx(Mp,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold dark:text-white text-gray-900",children:"Welcome to Kubernetes Metrics!"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"New features to monitor your Kubernetes infrastructure"})]})]}),i.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-5 h-5 dark:text-gray-400 text-gray-600"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:`We're excited to introduce comprehensive Kubernetes metrics monitoring! Now you can track CPU and memory usage across your cluster nodes and application namespaces. To access the metrics, you can click on the "Application Metrics or Cluster Metrics" tab in the navigation bar.`}),i.jsxs("a",{href:"https://www.youtube.com/watch?v=YML3acPP_G8",target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                         transition-colors text-sm font-medium`,children:[i.jsx(z7,{className:"w-4 h-4"}),"Watch Video Demo"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Mp,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Cluster Metrics"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Monitor node-level CPU and memory usage across your Kubernetes clusters. Get real-time insights into your cluster's resource utilization."}),i.jsxs("div",{className:"rounded-lg border-2 border-gray-200 dark:border-gray-700 overflow-hidden bg-gray-100 dark:bg-gray-800",children:[i.jsx("img",{src:"/screenshots/cluster-metrics.png",alt:"Cluster Metrics Dashboard",className:"w-full h-auto",onError:l=>{const u=l.target;u.style.display="none";const d=u.nextElementSibling;d&&(d.style.display="flex")}}),i.jsx("div",{className:"aspect-video hidden items-center justify-center",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx(Mp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Cluster Metrics Screenshot"}),i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-2",children:"Add screenshot at /public/screenshots/cluster-metrics.png"})]})})]}),i.jsxs("ul",{className:"space-y-2 ml-4",children:[i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"View CPU and memory usage percentages for each node"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Filter by cluster and time range (1 hour to 7 days)"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Interactive charts showing usage trends over time"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Detailed node information with capacity and usage breakdown"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:i.jsx(Tl,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Application Metrics"})]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Track pod and container resource consumption by namespace. Monitor CPU cores and memory usage at the application level."}),i.jsxs("div",{className:"rounded-lg border-2 border-gray-200 dark:border-gray-700 overflow-hidden bg-gray-100 dark:bg-gray-800",children:[i.jsx("img",{src:"/screenshots/application-metrics.png",alt:"Application Metrics Dashboard",className:"w-full h-auto",onError:l=>{const u=l.target;u.style.display="none";const d=u.nextElementSibling;d&&(d.style.display="flex")}}),i.jsx("div",{className:"aspect-video hidden items-center justify-center",children:i.jsxs("div",{className:"text-center p-8",children:[i.jsx(Tl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Application Metrics Screenshot"}),i.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-xs mt-2",children:"Add screenshot at /public/screenshots/application-metrics.png"})]})})]}),i.jsxs("ul",{className:"space-y-2 ml-4",children:[i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Monitor CPU usage in cores and memory in MB for containers"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Filter by namespace, pod, and container"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Search and select specific pods for detailed monitoring"})]}),i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Ki,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"View comprehensive pod and container details with resource limits"})]})]})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[i.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-200 mb-2",children:"Key Features:"}),i.jsxs("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-300",children:[i.jsx("li",{children:" Real-time metrics collection from Kubernetes clusters"}),i.jsx("li",{children:" Historical data visualization with interactive charts"}),i.jsx("li",{children:" Multiple time range options (1 hour to 7 days)"}),i.jsx("li",{children:" Fullscreen chart view for detailed analysis"}),i.jsx("li",{children:" Color-coded usage indicators for quick status assessment"})]})]})]})}),i.jsxs("div",{className:"p-6 border-t dark:border-gray-700 border-gray-200 space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx(ii,{checked:t,onCheckedChange:r}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Don't show this again"})]})}),i.jsxs("button",{onClick:s,className:`w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                     transition-colors flex items-center justify-center gap-2`,children:["Get Started",i.jsx(O7,{className:"w-4 h-4"})]})]})]})})}function _Ce(){return localStorage.getItem(wC)!=="true"}function jCe(){const[e,t]=x.useState(null),[r,n]=x.useState(void 0),[a,s]=x.useState(!1),[l,u]=x.useState([]),[d,f]=x.useState(0),[m,g]=x.useState(null),[y,b]=x.useState(!1),v=(N,E)=>{t(N),n(E)};x.useEffect(()=>{bE()&&_Ce()&&b(!0)},[]),x.useEffect(()=>{(async()=>{try{if(localStorage.getItem("certificateExpirationWarning")==="true")return;const O=(await He.getDashboardGroups(6)).flatMap(j=>j.monitors.filter(A=>A.monitorTypeId===1&&A.daysToExpireCert<30&&A.daysToExpireCert>0));O.length>0&&(u(O),s(!0))}catch(E){console.error("Failed to check certificate expiration:",E)}})()},[]);const S=()=>{localStorage.setItem("certificateExpirationWarning","true"),s(!1)},k=()=>{s(!1)};return i.jsxs("div",{className:"flex h-full",children:[i.jsx("div",{className:"w-[30%] border-r dark:border-gray-700 border-gray-200",children:i.jsx(pie,{selectedMetric:e,onSelectMetric:v,refreshTrigger:d,updatedMonitor:m,onEnvironmentChange:N=>{t(null),n(void 0)}})}),i.jsx("div",{className:"flex-1",children:i.jsx(F$,{metric:e,group:r,onMetricUpdate:N=>{t(N),g({monitor:N,timestamp:Date.now()}),setTimeout(()=>g(null),100)}})}),i.jsx(NCe,{isOpen:a,onClose:k,monitors:l,onDontShowAgain:S}),y&&i.jsx(ECe,{onClose:()=>b(!1)})]})}function ACe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedEnvironments||[]),[u,d]=x.useState(t.timeRange||"24h"),[f,m]=x.useState(t.topMonitorsCount||5),g=Kt.useMemo(()=>[...new Set(e.map(j=>j.environment))].sort(),[e]),y=Kt.useMemo(()=>{let O=e;s.length>0&&(O=O.filter(V=>s.includes(V.environment)));const j=new Date,A={"1h":3600*1e3,"24h":1440*60*1e3,"7d":10080*60*1e3,"30d":720*60*60*1e3},R=A[u]||A["24h"],U=new Date(j.getTime()-R);return O=O.filter(V=>new Date(V.timeStamp)>=U),O.sort((V,W)=>new Date(W.timeStamp).getTime()-new Date(V.timeStamp).getTime())},[e,s,u]),b=Kt.useMemo(()=>{const O=y.length,j=y.filter(V=>V.status).length,A=O-j,R={};y.forEach(V=>{const W=`${V.monitorId}-${V.environment}`;R[W]||(R[W]={count:0,monitorName:V.monitorName,environment:V.environment}),R[W].count++});const U=Object.values(R).sort((V,W)=>W.count-V.count).slice(0,f);return{totalAlerts:O,onlineAlerts:j,offlineAlerts:A,topMonitors:U}},[y,f]),v=O=>({1:"Development",2:"Staging",3:"QA",4:"Testing",5:"PreProd",6:"Production"})[O]||`Env ${O}`,S=O=>{const j=s.includes(O)?s.filter(A=>A!==O):[...s,O];l(j),r({selectedEnvironments:j})},k=O=>{d(O),r({timeRange:O})},N=()=>{const O=g;l(O),r({selectedEnvironments:O})},E=()=>{l([]),r({selectedEnvironments:[]})},_=O=>{m(O),r({topMonitorsCount:O})};return e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Vt,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),i.jsx("p",{children:"No alert data available"})]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Alert Timeline Settings"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Range"}),i.jsxs("select",{value:u,onChange:O=>k(O.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"1h",children:"Last Hour"}),i.jsx("option",{value:"24h",children:"Last 24 Hours"}),i.jsx("option",{value:"7d",children:"Last 7 Days"}),i.jsx("option",{value:"30d",children:"Last 30 Days"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Top Monitors Count"}),i.jsxs("select",{value:f,onChange:O=>_(parseInt(O.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:3,children:"Top 3"}),i.jsx("option",{value:5,children:"Top 5"}),i.jsx("option",{value:10,children:"Top 10"}),i.jsx("option",{value:15,children:"Top 15"}),i.jsx("option",{value:20,children:"Top 20"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Environments (",s.length,"/",g.length,")"]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:N,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"All"}),i.jsx("button",{onClick:E,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"None"})]})]}),i.jsx("div",{className:"max-h-24 overflow-y-auto space-y-1",children:g.map(O=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(O),onChange:()=>S(O),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{children:v(O)})]},O))})]})]}),i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:b.totalAlerts}),i.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Total Alerts"})]}),i.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[i.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:b.offlineAlerts}),i.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Offline Alerts"})]})]}),b.topMonitors.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Top ",f," Monitors with Most Alerts"]}),i.jsx("div",{className:"space-y-2",children:b.topMonitors.map((O,j)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center text-xs font-bold",children:j+1}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O.monitorName}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:v(O.environment)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:O.count}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"alerts"})]})]},`${O.monitorName}-${O.environment}`))})]}),i.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{children:"Time Period:"}),i.jsx("span",{className:"font-medium",children:u==="1h"?"Last Hour":u==="24h"?"Last 24 Hours":u==="7d"?"Last 7 Days":u==="30d"?"Last 30 Days":u})]}),i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{children:"Environments:"}),i.jsx("span",{className:"font-medium",children:s.length===0?"All":s.map(O=>v(O)).join(", ")})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Monitors Tracked:"}),i.jsxs("span",{className:"font-medium",children:[b.topMonitors.length," monitors"]})]})]})})]})}function qD({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedMonitors||[]),u=Kt.useMemo(()=>{const k=[];return e.forEach(N=>{N.monitors.forEach(E=>{k.push({...E,groupName:N.name})})}),k},[e]),d=Kt.useMemo(()=>s.length===0?u:u.filter(k=>s.includes(k.id)),[u,s]),f=Kt.useMemo(()=>{if(d.length===0)return null;const k=d.length,N=d.filter(R=>R.status).length,E=d.reduce((R,U)=>R+(U.monitorStatusDashboard?.uptime24Hrs||0),0)/k,_=d.reduce((R,U)=>R+(U.monitorStatusDashboard?.uptime7Days||0),0)/k,O=d.reduce((R,U)=>R+(U.monitorStatusDashboard?.uptime30Days||0),0)/k,j=_-O,A=j>1?"up":j<-1?"down":"stable";return{totalMonitors:k,onlineMonitors:N,avgUptime24Hrs:E,avgUptime7Days:_,avgUptime30Days:O,trend:j,trendDirection:A}},[d]),m=k=>k>=99?"text-green-500":k>=95?"text-yellow-500":"text-red-500",g=k=>k>=99?Dn:k>=95?Vt:ma,y=k=>{const N=s.includes(k)?s.filter(E=>E!==k):[...s,k];l(N),r({selectedMonitors:N})},b=()=>{const k=u.map(N=>N.id);l(k),r({selectedMonitors:k})},v=()=>{l([]),r({selectedMonitors:[]})};if(!f)return i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{children:"No data available"})]})});const S=f.trendDirection==="up"?yE:f.trendDirection==="down"?wne:qre;return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Monitors (",s.length,"/",u.length,")"]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{onClick:b,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Select All"}),i.jsx("button",{onClick:v,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Select None"})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:u.map(k=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(k.id),onChange:()=>y(k.id),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{className:"truncate",children:k.name}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",k.groupName,")"]})]},k.id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(wr,{className:"w-8 h-8 text-blue-500"})}),i.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:f.totalMonitors}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.length>0?"Selected Monitors":"Total Monitors"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 w-full",children:[{label:"24 Hours",value:f.avgUptime24Hrs,period:"24Hrs"},{label:"7 Days",value:f.avgUptime7Days,period:"7Days"},{label:"30 Days",value:f.avgUptime30Days,period:"30Days"}].map(({label:k,value:N,period:E})=>{const _=g(N);return i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_,{className:`w-4 h-4 ${m(N)}`}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:k})]}),i.jsxs("span",{className:`text-sm font-medium ${m(N)}`,children:[N.toFixed(1),"%"]})]},E)})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4 border-t border-gray-200 dark:border-gray-600",children:[i.jsx(S,{className:`w-4 h-4 ${f.trendDirection==="up"?"text-green-500":f.trendDirection==="down"?"text-red-500":"text-gray-500"}`}),i.jsxs("span",{className:`text-xs ${f.trendDirection==="up"?"text-green-500":f.trendDirection==="down"?"text-red-500":"text-gray-500"}`,children:[f.trendDirection==="up"?"Improving":f.trendDirection==="down"?"Declining":"Stable"," vs 30 days"]})]})]})}function TCe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedGroups||[]),u=Kt.useMemo(()=>s.length===0?e:e.filter(v=>s.includes(v.id)),[e,s]),d=Kt.useMemo(()=>u.map(v=>{const S=v.monitors.length,k=v.monitors.filter(_=>_.status).length,N=S-k,E=S>0?k/S*100:0;return{id:v.id,name:v.name,totalMonitors:S,onlineMonitors:k,offlineMonitors:N,uptimePercentage:E,avgUptime24Hrs:v.avgUptime24Hrs,avgUptime7Days:v.avgUptime7Days}}),[u]),f=v=>v>=99?"text-green-500 bg-green-50 dark:bg-green-900/20":v>=95?"text-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"text-red-500 bg-red-50 dark:bg-red-900/20",m=v=>v>=99?Dn:v>=95?Vt:ma,g=v=>{const S=s.includes(v)?s.filter(k=>k!==v):[...s,v];l(S),r({selectedGroups:S})},y=()=>{const v=e.map(S=>S.id);l(v),r({selectedGroups:v})},b=()=>{l([]),r({selectedGroups:[]})};return e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{children:"No monitor groups available"})]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Groups (",s.length,"/",e.length,")"]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{onClick:y,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Select All"}),i.jsx("button",{onClick:b,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Select None"})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:e.map(v=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:()=>g(v.id),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{className:"truncate",children:v.name}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",v.monitors.length," monitors)"]})]},v.id))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"space-y-3",children:d.map(v=>{const S=m(v.uptimePercentage);return i.jsxs("div",{className:`p-3 rounded-lg border ${f(v.uptimePercentage)}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(S,{className:"w-5 h-5"}),i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:v.name})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold",children:[v.uptimePercentage.toFixed(1),"%"]}),i.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[v.onlineMonitors,"/",v.totalMonitors," online"]})]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${v.uptimePercentage>=99?"bg-green-500":v.uptimePercentage>=95?"bg-yellow-500":"bg-red-500"}`,style:{width:`${v.uptimePercentage}%`}})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mi,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"24h:"}),i.jsxs("span",{className:"font-medium",children:[v.avgUptime24Hrs.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(wr,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"7d:"}),i.jsxs("span",{className:"font-medium",children:[v.avgUptime7Days.toFixed(1),"%"]})]})]})]},v.id)})})})]})}function KD({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedMonitors||[]),u=Kt.useMemo(()=>{const S=[];return e.forEach(k=>{k.monitors.forEach(N=>{S.push({...N,groupName:k.name})})}),S},[e]),d=Kt.useMemo(()=>s.length===0?u:u.filter(S=>s.includes(S.id)),[u,s]),f=S=>S.paused?"text-gray-500 bg-gray-50 dark:bg-gray-800":S.status?"text-green-500 bg-green-50 dark:bg-green-900/20":"text-red-500 bg-red-50 dark:bg-red-900/20",m=S=>S.paused?Xx:S.status?Dn:ma,g=S=>S>=99?"text-green-600 dark:text-green-400":S>=95?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",y=S=>{const k=s.includes(S)?s.filter(N=>N!==S):[...s,S];l(k),r({selectedMonitors:k})},b=()=>{const S=u.map(k=>k.id);l(S),r({selectedMonitors:S})},v=()=>{l([]),r({selectedMonitors:[]})};return u.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{children:"No monitors available"})]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Monitors (",s.length,"/",u.length,")"]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{onClick:b,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Select All"}),i.jsx("button",{onClick:v,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Select None"})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:u.map(S=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(S.id),onChange:()=>y(S.id),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{className:"truncate",children:S.name}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",S.groupName,")"]})]},S.id))})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:d.map(S=>{const k=m(S),N=f(S),E=S.monitorStatusDashboard?.uptime24Hrs||0,_=S.monitorStatusDashboard?.uptime7Days||0;return i.jsxs("div",{className:`p-3 rounded-lg border border-gray-200 dark:border-gray-600 ${N}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-5 h-5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:S.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:S.groupName})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-sm font-bold ${g(E)}`,children:[E.toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"24h uptime"})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.paused?"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300":S.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"}`,children:S.paused?"Paused":S.status?"Online":"Offline"}),S.monitorTypeId===1&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"HTTP Monitor"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mi,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"24h:"}),i.jsxs("span",{className:`font-medium ${g(E)}`,children:[E.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(wr,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"7d:"}),i.jsxs("span",{className:`font-medium ${g(_)}`,children:[_.toFixed(1),"%"]})]})]})]},S.id)})})})]})}function ICe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedMonitors||[]),[u,d]=x.useState(t.showMonitorList!==void 0?t.showMonitorList:!0),f=Kt.useMemo(()=>{const E=[];return e.forEach(_=>{_.monitors.forEach(O=>{O.monitorTypeId===1&&O.checkCertExpiry&&E.push(O)})}),E},[e]),m=Kt.useMemo(()=>s.length===0?f:f.filter(E=>s.includes(E.id)),[f,s]),g=Kt.useMemo(()=>{const E=m.length,_=m.filter(A=>A.daysToExpireCert>0&&A.daysToExpireCert<30).length,O=m.filter(A=>A.daysToExpireCert<=0).length,j=E-_-O;return{total:E,expiring:_,expired:O,healthy:j}},[m]),y=E=>E<=0?{status:"expired",color:"text-red-500",bgColor:"bg-red-50 dark:bg-red-900/20"}:E<7?{status:"critical",color:"text-red-500",bgColor:"bg-red-50 dark:bg-red-900/20"}:E<30?{status:"warning",color:"text-yellow-500",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"}:{status:"healthy",color:"text-green-500",bgColor:"bg-green-50 dark:bg-green-900/20"},b=E=>E<=0?ma:E<30?Vt:Dn,v=E=>{const _=s.includes(E)?s.filter(O=>O!==E):[...s,E];l(_),r({selectedMonitors:_})},S=()=>{const E=f.map(_=>_.id);l(E),r({selectedMonitors:E})},k=()=>{l([]),r({selectedMonitors:[]})},N=()=>{const E=!u;d(E),r({showMonitorList:E})};return f.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(pi,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),i.jsx("p",{children:"No SSL monitors found"})]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"SSL Widget Settings"}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:N,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),"Show monitor list"]})}),i.jsxs("div",{children:[i.jsxs("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Monitors (",s.length,"/",f.length,")"]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{onClick:S,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Select All"}),i.jsx("button",{onClick:k,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Select None"})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:f.map(E=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(E.id),onChange:()=>v(E.id),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{className:"truncate",children:E.name})]},E.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[i.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:g.healthy}),i.jsx("div",{className:"text-xs text-green-600 dark:text-green-400",children:"Healthy"})]}),i.jsxs("div",{className:"text-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[i.jsx("div",{className:"text-lg font-bold text-yellow-600 dark:text-yellow-400",children:g.expiring}),i.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Expiring"})]}),i.jsxs("div",{className:"text-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[i.jsx("div",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:g.expired}),i.jsx("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Expired"})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:[i.jsx("div",{className:"text-lg font-bold text-gray-600 dark:text-gray-400",children:g.total}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total"})]})]}),u&&i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"space-y-2",children:m.map(E=>{const _=y(E.daysToExpireCert),O=b(E.daysToExpireCert);return i.jsxs("div",{className:`p-3 rounded-lg border border-gray-200 dark:border-gray-600 ${_.bgColor}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(O,{className:`w-4 h-4 ${_.color}`}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:E.name})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:`text-sm font-bold ${_.color}`,children:E.daysToExpireCert>0?`${E.daysToExpireCert} days`:"Expired"})})]}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:E.urlToCheck})]},E.id)})})})]})}function OCe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(!1),[s,l]=x.useState(t.selectedGroups||[]),u=Kt.useMemo(()=>{const y=[];return(s.length===0?e:e.filter(v=>s.includes(v.id))).forEach(v=>{v.monitors.forEach(S=>{y.push({...S,groupName:v.name})})}),y},[e,s]),d=Kt.useMemo(()=>{const y=u.filter(k=>k.status&&!k.paused).length,b=u.filter(k=>!k.status&&!k.paused).length,v=u.filter(k=>k.paused).length,S=u.length;return{online:y,offline:b,paused:v,total:S}},[u]),f=y=>{const b=s.includes(y)?s.filter(v=>v!==y):[...s,y];l(b),r({selectedGroups:b})},m=()=>{const y=e.map(b=>b.id);l(y),r({selectedGroups:y})},g=()=>{l([]),r({selectedGroups:[]})};return u.length===0?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{children:"No monitors available"})]})}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>a(!n),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",children:i.jsx(So,{className:"w-4 h-4"})})}),n&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Groups (",s.length,"/",e.length,")"]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("button",{onClick:m,className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Select All"}),i.jsx("button",{onClick:g,className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Select None"})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:e.map(y=>i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-700 dark:text-gray-300",children:[i.jsx("input",{type:"checkbox",checked:s.includes(y.id),onChange:()=>f(y.id),className:"w-3 h-3 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsx("span",{className:"truncate",children:y.name}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",y.monitors.length," monitors)"]})]},y.id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded p-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx(Dn,{className:"w-6 h-6 text-green-500"}),i.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:d.online}),i.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"ONLINE"}),d.total>0&&i.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[(d.online/d.total*100).toFixed(0),"%"]})]})}),i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded p-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx(ma,{className:"w-6 h-6 text-red-500"}),i.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:d.offline}),i.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:"OFFLINE"}),d.total>0&&i.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400",children:[(d.offline/d.total*100).toFixed(0),"%"]})]})}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded p-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx(Xx,{className:"w-6 h-6 text-gray-500"}),i.jsx("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:d.paused}),i.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PAUSED"}),d.total>0&&i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(d.paused/d.total*100).toFixed(0),"%"]})]})})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[d.total," Total Monitors"]})})]})]})}class MCe{async getClusters(){try{return(await xn.get("/api/metrics/clusters")).data}catch(t){throw console.error("Failed to fetch clusters:",t),t}}async getNamespaces(t){try{const r={};return t&&(r.clusterName=t),(await xn.get("/api/metrics/namespaces",{params:r})).data}catch(r){throw console.error("Failed to fetch namespaces:",r),r}}async getNodeMetrics(t=30,r){try{const n={minutes:t};return r&&(n.clusterName=r),(await xn.get("/api/Metrics/node",{params:n})).data}catch(n){throw console.error("Failed to fetch node metrics:",n),n}}async getNamespaceMetrics(t=30,r,n){try{const a={minutes:t};return r&&(a.clusterName=r),n&&(a.namespace=n),(await xn.get("/api/metrics/namespace",{params:a})).data}catch(a){throw console.error("Failed to fetch namespace metrics:",a),a}}async getPodLogs(t,r,n=30,a){try{const s={minutes:n};return a&&(s.clusterName=a),(await xn.get(`/api/metrics/pod/log/namespace/${t}`,{params:{container:r,...s}})).data}catch(s){throw console.error("Failed to fetch pod logs:",s),s}}async getMetricsAlerts(t=30,r,n){try{const a={days:t};return r&&(a.clusterName=r),n&&(a.nodeName=n),(await xn.get("/api/MetricsAlert/metricsAlerts",{params:a})).data}catch(a){throw console.error("Failed to fetch metrics alerts:",a),a}}async getMetricsAlertsByCluster(t,r=30){try{return(await xn.get(`/api/MetricsAlert/metricsAlerts/cluster/${t}`,{params:{days:r}})).data}catch(n){throw console.error("Failed to fetch metrics alerts by cluster:",n),n}}async getMetricsAlertsByNode(t,r,n=30){try{return(await xn.get(`/api/MetricsAlert/metricsAlerts/cluster/${t}/node/${r}`,{params:{days:n}})).data}catch(a){throw console.error("Failed to fetch metrics alerts by node:",a),a}}async getKubernetesEvents(t,r,n,a,s=1440,l=1e3,u){try{const d={minutes:s,limit:l};return t&&(d.namespace=t),r&&(d.involvedObjectKind=r),n&&(d.involvedObjectName=n),a&&(d.eventType=a),u&&(d.clusterName=u),(await xn.get("/api/events",{params:d})).data}catch(d){throw console.error("Failed to fetch Kubernetes events:",d),d}}async getPvcMetrics(t,r=1440,n){try{const a={minutes:r};return t&&(a.namespace=t),n&&(a.clusterName=n),(await xn.get("/api/metrics/pvc",{params:a})).data}catch(a){throw console.error("Failed to fetch PVC metrics:",a),a}}async getKubernetesEventsByNamespace(t,r,n,a,s=1440,l=1e3,u){try{const d={minutes:s,limit:l};return r&&(d.involvedObjectKind=r),n&&(d.involvedObjectName=n),a&&(d.eventType=a),u&&(d.clusterName=u),(await xn.get(`/api/events/namespace/${t}`,{params:d})).data}catch(d){throw console.error("Failed to fetch Kubernetes events by namespace:",d),d}}}const sr=new MCe;function RCe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(t?.cluster||null),[s,l]=x.useState([]),[u,d]=x.useState(!1),f=x.useMemo(()=>{const E=new Set(e.map(_=>_.clusterName));return Array.from(E).sort()},[e]);x.useEffect(()=>{t?.cluster&&t.cluster!==n&&a(t.cluster)},[t?.cluster]),x.useEffect(()=>{(async()=>{try{const _=await sr.getClusters();if(l(_),!n&&_.length>0){const O=_[0];a(O),r&&r({cluster:O})}}catch(_){console.error("Failed to fetch clusters:",_)}})()},[]);const m=E=>{a(E),r&&r({cluster:E})},g=x.useMemo(()=>n?e.filter(E=>E.clusterName===n):[],[e,n]),y=x.useMemo(()=>{const E=new Map;return g.forEach(_=>{const O=E.get(_.nodeName);(!O||new Date(_.timestamp)>new Date(O.timestamp))&&E.set(_.nodeName,_)}),Array.from(E.values()).sort((_,O)=>_.nodeName.localeCompare(O.nodeName))},[g]),b=x.useMemo(()=>{if(y.length===0)return{avgCpuUsage:0,avgMemoryUsage:0,totalNodes:0,totalCpuCores:0,totalMemoryBytes:0,usedCpuCores:0,usedMemoryBytes:0};const E=y.reduce((A,R)=>A+R.cpuCapacityCores,0),_=y.reduce((A,R)=>A+R.memoryCapacityBytes,0),O=y.reduce((A,R)=>A+R.cpuUsageCores,0),j=y.reduce((A,R)=>A+R.memoryUsageBytes,0);return{avgCpuUsage:O/E*100,avgMemoryUsage:j/_*100,totalNodes:y.length,totalCpuCores:E,totalMemoryBytes:_,usedCpuCores:O,usedMemoryBytes:j}},[y]),v=E=>{const _=["B","KB","MB","GB","TB"];let O=E,j=0;for(;O>=1024&&j<_.length-1;)O/=1024,j++;return`${O.toFixed(1)} ${_[j]}`},S=E=>E>=90?"text-red-500":E>=70?"text-yellow-500":"text-green-500",k=E=>E>=90?"bg-red-500":E>=70?"bg-yellow-500":"bg-green-500";if(u)return i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(Je,{text:"Loading..."})});const N=s.length>0?s:f;return N.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[i.jsx(qt,{className:"w-8 h-8 mb-2"}),i.jsx("p",{className:"text-sm",children:"No cluster data available"})]}):i.jsxs("div",{className:"space-y-4",children:[N.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Cluster:"}),i.jsx("select",{value:n||"",onChange:E=>m(E.target.value),className:`flex-1 px-2 py-1.5 text-xs rounded-lg dark:bg-gray-700 bg-gray-100 border 
                     dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                     focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:N.map(E=>i.jsx("option",{value:E,children:E},E))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Nodes"}),i.jsx(vr,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("p",{className:"text-lg font-bold dark:text-white text-gray-900",children:b.totalNodes})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CPU Usage"}),i.jsx(us,{className:"w-3 h-3 text-gray-400"})]}),i.jsxs("p",{className:`text-lg font-bold ${S(b.avgCpuUsage)}`,children:[b.avgCpuUsage.toFixed(1),"%"]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${k(b.avgCpuUsage)}`,style:{width:`${Math.min(b.avgCpuUsage,100)}%`}})})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Memory Usage"}),i.jsx(qn,{className:"w-3 h-3 text-gray-400"})]}),i.jsxs("p",{className:`text-lg font-bold ${S(b.avgMemoryUsage)}`,children:[b.avgMemoryUsage.toFixed(1),"%"]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${k(b.avgMemoryUsage)}`,style:{width:`${Math.min(b.avgMemoryUsage,100)}%`}})})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CPU Cores"}),i.jsx(wr,{className:"w-3 h-3 text-gray-400"})]}),i.jsxs("p",{className:"text-xs font-semibold dark:text-white text-gray-900",children:[b.usedCpuCores.toFixed(1)," / ",b.totalCpuCores.toFixed(1)]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[v(b.usedMemoryBytes)," / ",v(b.totalMemoryBytes)]})]})]}),y.length>0&&i.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Nodes"}),y.slice(0,5).map(E=>{const _=E.cpuUsageCores/E.cpuCapacityCores*100,O=E.memoryUsageBytes/E.memoryCapacityBytes*100;return i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded p-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-1",children:i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900 truncate",children:E.nodeName})}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"CPU"}),i.jsxs("span",{className:S(_),children:[_.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${k(_)}`,style:{width:`${Math.min(_,100)}%`}})}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Memory"}),i.jsxs("span",{className:S(O),children:[O.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${k(O)}`,style:{width:`${Math.min(O,100)}%`}})})]})]},E.nodeName)}),y.length>5&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",y.length-5," more nodes"]})]})]})}function DCe({data:e,config:t,onConfigChange:r}){const[n,a]=x.useState(t?.cluster||null),[s,l]=x.useState(t?.namespace||null),[u,d]=x.useState([]),[f,m]=x.useState([]),[g,y]=x.useState(!1),b=x.useMemo(()=>{const j=new Set(e.map(A=>A.clusterName));return Array.from(j).sort()},[e]);x.useEffect(()=>{t?.cluster&&t.cluster!==n&&a(t.cluster),t?.namespace!==void 0&&t.namespace!==s&&l(t.namespace)},[t?.cluster,t?.namespace]),x.useEffect(()=>{(async()=>{try{const A=await sr.getClusters();if(d(A),!n&&A.length>0){const R=A[0];a(R),r&&r({cluster:R})}}catch(A){console.error("Failed to fetch clusters:",A)}})()},[]);const v=j=>{a(j),l(null),r&&r({cluster:j,namespace:null})},S=j=>{l(j),r&&r({namespace:j})};x.useEffect(()=>{n&&(async()=>{try{const A=await sr.getNamespaces(n);if(m(A),!s&&A.length>0){const R=A[0];l(R),r&&r({namespace:R})}}catch(A){console.error("Failed to fetch namespaces:",A)}})()},[n]);const k=x.useMemo(()=>{let j=e;return n&&(j=j.filter(A=>A.clusterName===n)),s&&(j=j.filter(A=>A.namespace===s)),j},[e,n,s]),N=x.useMemo(()=>{const j=new Map;return k.forEach(A=>{const R=`${A.namespace}/${A.pod}/${A.container}`,U=j.get(R);(!U||new Date(A.timestamp)>new Date(U.timestamp))&&j.set(R,A)}),Array.from(j.values()).sort((A,R)=>A.namespace!==R.namespace?A.namespace.localeCompare(R.namespace):A.pod!==R.pod?A.pod.localeCompare(R.pod):A.container.localeCompare(R.container))},[k]),E=x.useMemo(()=>{if(N.length===0)return{totalPods:0,totalContainers:0,totalCpuUsage:0,totalMemoryUsage:0};const j=new Set(N.map(U=>`${U.namespace}/${U.pod}`)),A=N.reduce((U,V)=>U+V.cpuUsageCores,0),R=N.reduce((U,V)=>U+V.memoryUsageBytes,0);return{totalPods:j.size,totalContainers:N.length,totalCpuUsage:A,totalMemoryUsage:R}},[N]),_=j=>{const A=["B","KB","MB","GB","TB"];let R=j,U=0;for(;R>=1024&&U<A.length-1;)R/=1024,U++;return`${R.toFixed(1)} ${A[U]}`};if(g)return i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(Je,{text:"Loading..."})});const O=u.length>0?u:b;return O.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400",children:[i.jsx(qt,{className:"w-8 h-8 mb-2"}),i.jsx("p",{className:"text-sm",children:"No cluster data available"})]}):i.jsxs("div",{className:"space-y-4",children:[O.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Cluster:"}),i.jsx("select",{value:n||"",onChange:j=>v(j.target.value),className:`flex-1 px-2 py-1.5 text-xs rounded-lg dark:bg-gray-700 bg-gray-100 border 
                     dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                     focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:O.map(j=>i.jsx("option",{value:j,children:j},j))})]}),n&&f.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Namespace:"}),i.jsxs("select",{value:s||"",onChange:j=>S(j.target.value||null),className:`flex-1 px-2 py-1.5 text-xs rounded-lg dark:bg-gray-700 bg-gray-100 border 
                     dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                     focus:ring-2 focus:ring-blue-500 focus:border-blue-500`,children:[i.jsx("option",{value:"",children:"All Namespaces"}),f.map(j=>i.jsx("option",{value:j,children:j},j))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pods"}),i.jsx(Tl,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("p",{className:"text-lg font-bold dark:text-white text-gray-900",children:E.totalPods})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Containers"}),i.jsx(ud,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("p",{className:"text-lg font-bold dark:text-white text-gray-900",children:E.totalContainers})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CPU Usage"}),i.jsx(us,{className:"w-3 h-3 text-gray-400"})]}),i.jsxs("p",{className:"text-sm font-bold dark:text-white text-gray-900",children:[E.totalCpuUsage.toFixed(3)," cores"]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Memory Usage"}),i.jsx(qn,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("p",{className:"text-sm font-bold dark:text-white text-gray-900",children:_(E.totalMemoryUsage)})]})]}),N.length>0&&i.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[i.jsx("h4",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Top Pods"}),N.sort((j,A)=>A.cpuUsageCores-j.cpuUsageCores).slice(0,5).map(j=>{const A=j.cpuLimitCores!==null?j.cpuUsageCores/j.cpuLimitCores*100:null;return i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900 truncate",children:j.pod}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.namespace})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"CPU"}),i.jsxs("span",{className:"dark:text-white text-gray-900",children:[j.cpuUsageCores.toFixed(4)," cores",A!==null&&` (${A.toFixed(1)}%)`]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Memory"}),i.jsx("span",{className:"dark:text-white text-gray-900",children:_(j.memoryUsageBytes)})]})]})]},`${j.namespace}-${j.pod}-${j.container}`)}),N.length>5&&i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",N.length-5," more containers"]})]})]})}const PCe={uptime:S6,alert:Vt,"group-summary":U0,"monitor-status":wr,"ssl-status":pi,"status-blocks":by,"cluster-metrics":vr,"application-metrics":Tl,metric:S6,status:wr,chart:wr,"pie-chart":wr,"alert-chart":Vt};function LCe({widget:e,data:t,isPreviewMode:r,onUpdate:n,onDelete:a}){const[s,l]=x.useState(!1),[u,d]=x.useState(!1),f=PCe[e.type]||wr,m=S=>{n(e.id,{title:S})},g=S=>{S.key==="Enter"&&l(!1)},y=()=>{l(!1)},b=S=>{n(e.id,{config:{...e.config,...S}})},v=()=>{switch(e.type){case"uptime":return i.jsx(qD,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"alert":return i.jsx(ACe,{data:t.alerts,config:e.config,onConfigChange:b});case"group-summary":return i.jsx(TCe,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"monitor-status":return i.jsx(KD,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"ssl-status":return i.jsx(ICe,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"status-blocks":return i.jsx(OCe,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"cluster-metrics":return i.jsx(RCe,{data:t.nodeMetrics||[],config:e.config,onConfigChange:b});case"application-metrics":return i.jsx(DCe,{data:t.namespaceMetrics||[],config:e.config,onConfigChange:b});case"metric":return i.jsx(qD,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"status":return i.jsx(KD,{data:t.monitorGroups,config:e.config,onConfigChange:b});case"chart":case"pie-chart":case"alert-chart":return i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{children:"Chart widgets have been removed"}),i.jsx("p",{className:"text-sm mt-1",children:"Please replace this widget with a new one"})]})});default:return i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsxs("p",{children:["Unknown widget type: ",e.type]}),i.jsx("p",{className:"text-sm mt-1",children:"Please replace this widget"})]})})}};return i.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden h-full flex flex-col ${s?"ring-2 ring-blue-500":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(f,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),s?i.jsx("input",{type:"text",value:e.title,onChange:S=>m(S.target.value),onKeyPress:g,onBlur:y,className:"bg-transparent border-none outline-none text-sm font-medium text-gray-900 dark:text-white",autoFocus:!0}):i.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title})]}),!r&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>l(!s),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded",title:"Rename widget",children:i.jsx(Zre,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>a(e.id),className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded",title:"Delete widget",children:i.jsx(Dt,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:v()})]})}const UCe=[{id:"uptime",name:"Uptime Summary",description:"Uptime statistics across different time periods",icon:yE,category:"Metrics"},{id:"alert",name:"Alert Timeline",description:"Timeline of alerts and incidents",icon:Vt,category:"Alerts"},{id:"group-summary",name:"Group Summary",description:"Summary of monitor groups and their health",icon:U0,category:"Status"},{id:"monitor-status",name:"Monitor Status",description:"Detailed view of individual monitors",icon:wr,category:"Status"},{id:"ssl-status",name:"SSL Certificate Status",description:"SSL certificate expiration and status",icon:pi,category:"Security"},{id:"status-blocks",name:"Status Blocks",description:"Visual blocks showing ONLINE/OFFLINE/PAUSED counts",icon:by,category:"Status"},{id:"cluster-metrics",name:"Cluster Metrics",description:"Node CPU and memory usage across clusters",icon:vr,category:"Metrics"},{id:"application-metrics",name:"Application Metrics",description:"Pod and container CPU and memory usage",icon:Tl,category:"Metrics"}],FCe=["Metrics","Alerts","Status","Security"];function GD({onAddWidget:e,onClose:t,currentWidgetCount:r=0,maxWidgets:n=15}){return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Widget Library"}),t&&i.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 min-h-0 scroll-smooth",children:[r>=n&&i.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[i.jsx(Vt,{className:"w-4 h-4"}),i.jsxs("span",{className:"text-sm font-medium",children:["Maximum of ",n," widgets reached"]})]}),i.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"Delete a widget to add a new one"})]}),FCe.map(a=>i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:a}),i.jsx("div",{className:"space-y-2",children:UCe.filter(s=>s.category===a).map(s=>{const l=s.icon;return i.jsx("button",{onClick:()=>e(s.id),className:"w-full p-3 text-left bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg border border-gray-200 dark:border-gray-600 transition-colors group",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-white dark:bg-gray-800 rounded-lg group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors",children:i.jsx(l,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:s.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:s.description})]})]})},s.id)})})]},a))]})]})}const BCe=[{label:"No auto-refresh",value:null},{label:"10 seconds",value:10},{label:"20 seconds",value:20},{label:"30 seconds",value:30},{label:"1 minute",value:60},{label:"5 minutes",value:300}];function zCe({refreshInterval:e,onRefreshIntervalChange:t,onClose:r}){return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl shadow-lg max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:i.jsx(So,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard Settings"})]}),i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(kn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Auto-refresh"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Automatically refresh dashboard data at regular intervals"}),i.jsx("div",{className:"space-y-2",children:BCe.map(n=>i.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"refreshInterval",value:n.value||"",checked:e===n.value,onChange:()=>t(n.value),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.value&&i.jsx(mi,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:n.label})]})]},n.value||"none"))})]})}),i.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Save Settings"})]})]})})}function $Ce({isOpen:e,onClose:t,onSave:r,widgets:n,currentDashboard:a}){const[s,l]=x.useState(""),[u,d]=x.useState(!1),[f,m]=x.useState(""),g=!!a;Kt.useEffect(()=>{e&&(l(a?.name||""),m(""))},[e,a]);const y=async()=>{if(!s.trim()){m("Dashboard name is required");return}if(n.length===0){m("Cannot save empty dashboard");return}d(!0),m("");try{const v=JSON.parse(localStorage.getItem("savedDashboards")||"[]");if(g){const S=v.map(k=>k.id===a?.id?{...k,name:s.trim(),widgets:n,updatedAt:new Date().toISOString()}:k);localStorage.setItem("savedDashboards",JSON.stringify(S)),r(s.trim(),!0)}else{if(v.some(E=>E.name.toLowerCase()===s.toLowerCase())){m("A dashboard with this name already exists"),d(!1);return}const k={id:Date.now().toString(),name:s.trim(),widgets:n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},N=[...v,k];localStorage.setItem("savedDashboards",JSON.stringify(N)),r(s.trim(),!1)}l(""),t()}catch(v){m("Failed to save dashboard"),console.error("Save dashboard error:",v)}finally{d(!1)}},b=()=>{l(""),m(""),t()};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-900 bg-gray-50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(i0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900",children:g?"Update Dashboard":"Save Dashboard"})]}),i.jsx("button",{onClick:b,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"dashboard-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dashboard Name"}),i.jsx("input",{id:"dashboard-name",type:"text",value:s,onChange:v=>l(v.target.value),placeholder:"Enter dashboard name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),f&&i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600 dark:text-red-400",children:[i.jsx(qt,{className:"w-4 h-4"}),f]})]}),i.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:i.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[i.jsx("div",{className:"font-medium mb-1",children:"Dashboard Summary:"}),i.jsxs("div",{className:"text-xs space-y-1",children:[i.jsxs("div",{children:[" ",n.length," widget",n.length!==1?"s":""]}),i.jsx("div",{children:" Will be saved locally in your browser"}),i.jsx("div",{children:" Can be loaded and shared later"})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t dark:border-gray-700 border-gray-200",children:[i.jsx("button",{onClick:b,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Cancel"}),i.jsx("button",{onClick:y,disabled:u||!s.trim(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors duration-200",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),g?"Updating...":"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(i0,{className:"w-4 h-4"}),g?"Update Dashboard":"Save Dashboard"]})})]})]})}):null}function HCe({isOpen:e,onClose:t,onLoad:r}){const[n,a]=x.useState([]),[s,l]=x.useState(!1),[u,d]=x.useState("");x.useEffect(()=>{e&&f()},[e]);const f=()=>{try{const v=localStorage.getItem("savedDashboards");if(v){const S=JSON.parse(v);a(S.sort((k,N)=>new Date(N.updatedAt).getTime()-new Date(k.updatedAt).getTime()))}}catch(v){console.error("Error loading saved dashboards:",v),d("Failed to load saved dashboards")}},m=v=>{r(v),t()},g=v=>{if(confirm("Are you sure you want to delete this dashboard? This action cannot be undone."))try{const S=n.filter(k=>k.id!==v);a(S),localStorage.setItem("savedDashboards",JSON.stringify(S))}catch(S){console.error("Error deleting dashboard:",S),d("Failed to delete dashboard")}},y=v=>{const S=new Date(v);return S.toLocaleDateString()+" "+S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},b=()=>{d(""),t()};return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-2xl dark:bg-gray-900 bg-gray-50 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(L7,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Load Dashboard"})]}),i.jsx("button",{onClick:b,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[u&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:i.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),n.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(jre,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Saved Dashboards"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and save a dashboard to see it here."})]}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map(v=>i.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white truncate",children:v.name}),i.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-full",children:[v.widgets.length," widget",v.widgets.length!==1?"s":""]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yy,{className:"w-4 h-4"}),"Created: ",y(v.createdAt)]}),v.updatedAt!==v.createdAt&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(yy,{className:"w-4 h-4"}),"Updated: ",y(v.updatedAt)]})]}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[v.widgets.slice(0,5).map((S,k)=>i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:S.type},k)),v.widgets.length>5&&i.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded",children:["+",v.widgets.length-5," more"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{onClick:()=>m(v),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg font-medium transition-colors duration-200",children:"Load"}),i.jsx("button",{onClick:()=>g(v.id),className:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors duration-200",title:"Delete dashboard",children:i.jsx(Ks,{className:"w-4 h-4"})})]})]})},v.id))})]}),i.jsx("div",{className:"flex justify-end p-6 border-t dark:border-gray-700 border-gray-200",children:i.jsx("button",{onClick:b,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg font-medium transition-colors duration-200",children:"Close"})})]})}):null}class md{static instance;baseUrl;constructor(){this.baseUrl="/api/MonitorAlert"}static getInstance(){return md.instance||(md.instance=new md),md.instance}async getAlerts(t,r){return(await bt.get(`${this.baseUrl}/monitorAlerts/${t}/${r}`)).data}async acknowledgeAlert(t){await bt.post(`${this.baseUrl}/acknowledge/${t}`)}}const WD=md.getInstance();function VD(){const{dashboardId:e}=Gx(),t=df(),[r,n]=x.useState(!0),[a,s]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState({monitorGroups:[],alerts:[],nodeMetrics:[],namespaceMetrics:[]}),[m,g]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(!1),[k,N]=x.useState(!1),[E,_]=x.useState(null),[O,j]=x.useState(!1),[A,R]=x.useState(!1),[U,V]=x.useState(null),[W,G]=x.useState(!1);x.useEffect(()=>{if(e){const te=JSON.parse(localStorage.getItem("savedDashboards")||"[]").find(D=>D.id===e);te?(g(te.widgets),V({id:te.id,name:te.name})):t("/dashboard-builder")}},[e,t]),x.useEffect(()=>{(async()=>{try{n(!0),u(null);const[te,D,M,L]=await Promise.all([He.getDashboardGroups(6),WD.getAlerts(0,90),sr.getNodeMetrics(30),sr.getNamespaceMetrics(30)]);f({monitorGroups:te,alerts:D,nodeMetrics:M,namespaceMetrics:L})}catch(te){console.error("Failed to fetch dashboard data:",te),u("Failed to load dashboard data"),f(D=>({...D,nodeMetrics:[],namespaceMetrics:[]}))}finally{n(!1)}})()},[]),x.useEffect(()=>{if(E&&E>0){const q=setInterval(async()=>{try{const[te,D,M,L]=await Promise.all([He.getDashboardGroups(6),WD.getAlerts(0,90),sr.getNodeMetrics(30),sr.getNamespaceMetrics(30)]);f({monitorGroups:te,alerts:D,nodeMetrics:M,namespaceMetrics:L})}catch(te){console.error("Failed to refresh data:",te)}},E*1e3);return()=>clearInterval(q)}},[E]),x.useEffect(()=>{const q=te=>{te.key==="F11"&&(te.preventDefault(),G(!W)),te.key==="Escape"&&W&&G(!1)};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[W]);const $=q=>{if(m.length>=15){alert("Maximum of 15 widgets allowed per dashboard");return}const te=M=>M==="alert"?"alerts":M==="cluster-metrics"||M==="application-metrics"?"metrics":"monitors",D={id:`widget-${Date.now()}`,type:q,title:`New ${q} Widget`,dataSource:te(q),config:{},position:{x:0,y:0,w:4,h:3}};g([...m,D]),b(!1)},z=(q,te)=>{g(m.map(D=>D.id===q?{...D,...te}:D))},Y=q=>{g(m.filter(te=>te.id!==q))},le=()=>{j(!0)},H=q=>{g(q.widgets),V({id:q.id,name:q.name}),R(!1),t(`/dashboard-builder/${q.id}`)},ee=(q,te=!1)=>{if(te&&U){const M=JSON.parse(localStorage.getItem("savedDashboards")||"[]").map(L=>L.id===U.id?{...L,name:q,widgets:m,updatedAt:new Date().toISOString()}:L);localStorage.setItem("savedDashboards",JSON.stringify(M)),V({...U,name:q})}else{const M=JSON.parse(localStorage.getItem("savedDashboards")||"[]").find(L=>L.name===q);M&&(V({id:M.id,name:M.name}),t(`/dashboard-builder/${M.id}`))}console.log(`Dashboard "${q}" ${te?"updated":"saved"} successfully`)};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900 bg-gray-50",children:i.jsx(Je,{size:"lg",text:"Loading dashboard data..."})}):l?i.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900 bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Vt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Failed to Load Dashboard"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:l})]})}):i.jsxs("div",{className:`min-h-screen dark:bg-gray-900 bg-gray-50 ${W?"fixed inset-0 z-50":""}`,children:[!W&&i.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Op,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:U?U.name:"Dashboard Builder"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U?"Edit your dashboard":"Create custom dashboards with drag & drop widgets"})]})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Op,{className:"w-4 h-4"}),"Widgets: ",m.length,"/15"]}),E&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(kn,{className:"w-4 h-4"}),"Auto-refresh: ",E,"s"]}),i.jsxs("button",{onClick:()=>G(!W),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${W?"bg-red-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[i.jsx(x2,{className:"w-4 h-4"}),W?"Exit Kiosk":"Kiosk Mode"]}),i.jsxs("button",{onClick:()=>N(!k),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${k?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:[i.jsx(P7,{className:"w-4 h-4"}),k?"Edit Mode":"Preview Mode"]}),i.jsxs("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors flex items-center gap-2",children:[i.jsx(L7,{className:"w-4 h-4"}),"Load Dashboard"]}),i.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors flex items-center gap-2",children:[i.jsx(So,{className:"w-4 h-4"}),"Settings"]}),i.jsxs("button",{onClick:le,disabled:a,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 transition-colors flex items-center gap-2",children:[a?i.jsx(Je,{size:"sm"}):i.jsx(i0,{className:"w-4 h-4"}),"Save Dashboard"]})]})]})}),i.jsxs("div",{className:`flex ${W?"h-screen":"h-[calc(100vh-80px)]"}`,children:[!k&&!W&&i.jsx("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4",children:i.jsx(GD,{onAddWidget:$,currentWidgetCount:m.length,maxWidgets:15})}),i.jsxs("div",{className:"flex-1 p-6 overflow-auto relative",children:[W&&i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsxs("div",{className:"bg-black/80 text-white px-4 py-2 rounded-lg text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(x2,{className:"w-4 h-4"}),i.jsx("span",{children:"Kiosk Mode"}),i.jsx("button",{onClick:()=>G(!1),className:"ml-2 p-1 hover:bg-white/20 rounded",children:i.jsx(Dt,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"text-xs text-gray-300 mt-1",children:"Press F11 or ESC to exit"})]})}),i.jsx("div",{className:"min-h-full",children:m.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[i.jsx(Op,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No widgets yet"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:k?"Switch to edit mode to add widgets":"Add widgets from the library to start building your dashboard"}),!k&&i.jsxs("button",{onClick:()=>b(!0),disabled:m.length>=15,className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${m.length>=15?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[i.jsx(Gc,{className:"w-4 h-4"}),"Add Widget ",m.length>=15?`(${m.length}/15)`:""]})]}):i.jsx("div",{className:"dashboard-grid",children:m.map(q=>i.jsx("div",{className:"widget-container",style:{gridColumn:`span ${q.position.w}`,gridRow:`span ${q.position.h}`},children:i.jsx(LCe,{widget:q,data:d,isPreviewMode:k,onUpdate:z,onDelete:Y})},q.id))})})]})]}),!W&&y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-4xl w-full h-[80vh] flex flex-col overflow-hidden",children:i.jsx(GD,{onAddWidget:$,onClose:()=>b(!1),currentWidgetCount:m.length,maxWidgets:15})})}),!W&&v&&i.jsx(zCe,{refreshInterval:E,onRefreshIntervalChange:_,onClose:()=>S(!1)}),!W&&O&&i.jsx($Ce,{isOpen:O,onClose:()=>j(!1),onSave:ee,widgets:m,currentDashboard:U}),!W&&A&&i.jsx(HCe,{isOpen:A,onClose:()=>R(!1),onLoad:H})]})}class gd{static instance;baseUrl;constructor(){this.baseUrl="/api/user"}static getInstance(){return gd.instance||(gd.instance=new gd),gd.instance}async getAllUsers(){return(await Ta.get(`${this.baseUrl}/getAll`)).data}async deleteUser(t){try{return await Ta.delete(`${this.baseUrl}/delete/${t}`),!0}catch(r){return console.error("Failed to delete user:",r),!1}}async getUserGroups(t){try{return(await Ta.get(`/api/usersMonitorGroup/GetAllByUserId/${t}`)).data}catch(r){return console.error("Failed to fetch user groups:",r),[]}}async updateUserGroups(t,r){try{const n=r.map(a=>({userId:t,groupMonitorId:a}));return await Ta.post("/api/usersMonitorGroup/create",n),!0}catch(n){return console.error("Failed to update user groups:",n),!1}}async updateUser(t){try{return await Ta.put(`${this.baseUrl}/update`,t),!0}catch(r){return console.error("Failed to update user:",r),!1}}async getUserClusters(t){try{return(await Ta.get(`/api/UserClusters/GetAllByUserId/${t}`)).data}catch(r){return console.error("Failed to fetch user clusters:",r),[]}}async updateUserClusters(t,r){try{return await Ta.post("/api/UserClusters/CreateOrUpdate",{userId:t,clusters:r}),!0}catch(n){return console.error("Failed to update user clusters:",n),!1}}}const zn=gd.getInstance();class qCe{cache=new Map;CACHE_DURATION=1440*60*1e3;async getVmPrice(t,r,n="Linux"){if(!t||!r)return null;let a="Linux";if(n){const u=n.toLowerCase().trim();u==="windows"?a="Windows":a="Linux"}const s=`${t}-${r}-${a}`,l=this.cache.get(s);if(l&&Date.now()-l.timestamp<this.CACHE_DURATION)return l.price;try{const u={currencyCode:"USD",serviceName:"Virtual Machines",armSkuName:t,armRegionName:r.toLowerCase(),type:"Consumption",OperatingSystem:a},f=(await xn.post("/api/azure-prices",u)).data;if(f.Error){const b=f.Error;return console.warn(`Azure pricing API error: ${b.Code} - ${b.Message}`),this.cache.set(s,{price:null,timestamp:Date.now()}),null}if(!f.Items||f.Items.length===0)return console.warn(`No pricing data found for ${t} in ${r}`),this.cache.set(s,{price:null,timestamp:Date.now()}),null;const y=(f.Items.find(b=>b.meterName?.toLowerCase().includes("linux")||b.meterName?.toLowerCase().includes("compute"))||f.Items.find(b=>b.meterName?.toLowerCase().includes("windows"))||f.Items[0])?.retailPrice||null;return this.cache.set(s,{price:y,timestamp:Date.now()}),y}catch(u){return console.error(`Failed to fetch Azure pricing for ${t} in ${r}:`,u),this.cache.set(s,{price:null,timestamp:Date.now()}),null}}normalizeRegion(t){const r={eastus:"US East",eastus2:"US East 2",westus:"US West",westus2:"US West 2",westus3:"US West 3",centralus:"US Central",southcentralus:"US South Central",northcentralus:"US North Central",westcentralus:"US West Central",canadacentral:"Canada Central",canadaeast:"Canada East",brazilsouth:"Brazil South",brazilsoutheast:"Brazil Southeast",northeurope:"North Europe",westeurope:"West Europe",uksouth:"UK South",ukwest:"UK West",francecentral:"France Central",francesouth:"France South",germanywestcentral:"Germany West Central",germanynorth:"Germany North",switzerlandnorth:"Switzerland North",switzerlandwest:"Switzerland West",norwayeast:"Norway East",norwaywest:"Norway West",swedencentral:"Sweden Central",polandcentral:"Poland Central",italynorth:"Italy North",southafricanorth:"South Africa North",southafricawest:"South Africa West",uaenorth:"UAE North",uaecentral:"UAE Central",southeastasia:"Southeast Asia",eastasia:"East Asia",japaneast:"Japan East",japanwest:"Japan West",koreacentral:"Korea Central",koreasouth:"Korea South",australiaeast:"Australia East",australiasoutheast:"Australia Southeast",australiacentral:"Australia Central",australiacentral2:"Australia Central 2",chinanorth:"China North",chinaeast:"China East",chinanorth2:"China North 2",chinaeast2:"China East 2",indiacentral:"India Central",indiasouth:"India South",indiawest:"India West"};if(r[t.toLowerCase()])return r[t.toLowerCase()];const n=t.toLowerCase().match(/^([a-z]+)(\d*)$/);if(n){const a=n[1],s=n[2];return`US ${{east:"East",west:"West",north:"North",south:"South",central:"Central"}[a]||a.charAt(0).toUpperCase()+a.slice(1)}${s?" "+s:""}`}return t}formatPrice(t){return t===null?"N/A":`$${t.toFixed(4)}/hr`}calculateMonthlyPrice(t){return t===null?null:t*730}formatMonthlyPrice(t){return t===null?"N/A":`$${t.toFixed(2)}/mo`}}const uc=new qCe;function KCe({clusterName:e,onClose:t}){const[r,n]=x.useState([]),[a,s]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState([]);x.useEffect(()=>{e&&(async()=>{try{const[S,k]=await Promise.all([hl.get("/api/Notification/SelectNotificationItemList"),xn.get(`/api/MetricsNotification/clusterNotifications/${encodeURIComponent(e)}`).catch(()=>({data:[]}))]);n(S.data),s(k.data.map(N=>N.notificationId)),u(!1)}catch(S){console.error("Failed to fetch notifications:",S),xe.error("Failed to load notifications"),u(!1)}})()},[e]);const m=async v=>{try{f(E=>[...E,v]);const S=a.includes(v),k=S?"removeMetricsNotification":"addMetricsNotification",N={clusterName:e,notificationId:v};await xn.post(`/api/MetricsNotification/${k}`,N),s(E=>S?E.filter(_=>_!==v):[...E,v]),xe.success(`Notification ${S?"removed from":"added to"} cluster`,{position:"bottom-right"})}catch(S){console.error("Failed to update notification:",S),xe.error(`Failed to ${isSelected?"remove":"add"} notification`,{position:"bottom-right"})}finally{f(S=>S.filter(k=>k!==v))}},g={1:"Email",2:"Microsoft Teams",3:"Telegram",4:"Slack",5:"Webhook",6:"Push"},y={Email:i.jsx(Yx,{className:"w-4 h-4"}),"Microsoft Teams":i.jsx(F7,{className:"w-4 h-4"}),Telegram:i.jsx($7,{className:"w-4 h-4"}),Slack:i.jsx(hf,{className:"w-4 h-4"}),Webhook:i.jsx(xE,{className:"w-4 h-4"}),Push:i.jsx(ff,{className:"w-4 h-4"})},b=r.reduce((v,S)=>{const k=g[S.notificationTypeId]||"Other";return v[k]||(v[k]=[]),v[k].push(S),v},{});return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-8",children:i.jsxs("div",{className:"w-full max-w-3xl dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg max-h-[80vh]",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsxs("h2",{className:"text-lg font-medium dark:text-white",children:["Cluster Notifications - ",e]}),i.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-4 max-h-[calc(80vh-120px)] overflow-y-auto",children:l?i.jsx("div",{className:"flex justify-center p-4",children:i.jsx(Je,{size:"lg"})}):i.jsx("div",{className:"space-y-6",children:Object.entries(b).map(([v,S])=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[y[v],v]}),i.jsx("div",{className:"space-y-2",children:S.map(k=>i.jsxs("label",{className:`flex items-center p-3 rounded-lg dark:bg-gray-700/50 bg-gray-50 hover:bg-gray-100 
                                 dark:hover:bg-gray-700 cursor-pointer`,children:[i.jsx("input",{type:"checkbox",checked:a.includes(k.id),onChange:()=>m(k.id),disabled:d.includes(k.id),className:"mr-3"}),d.includes(k.id)&&i.jsx(Je,{size:"sm"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium dark:text-white",children:k.name}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.description})]})]},k.id))})]},v))})})]})})}function GCe(){const e=df(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[s,l]=x.useState(!0),[u,d]=x.useState(null),[f,m]=x.useState(30),[g,y]=x.useState(null),[b,v]=x.useState(null),[S,k]=x.useState(!1),[N,E]=x.useState(null),[_,O]=x.useState([]),[j,A]=x.useState([]),[R,U]=x.useState(!1),[V,W]=x.useState([]),[G,$]=x.useState(new Set),[z,Y]=x.useState(new Map),[le,H]=x.useState(new Set),[ee,q]=x.useState(!1),[te,D]=x.useState(30),[M,L]=x.useState(!1),J=async I=>{const F=I.filter(B=>B.cloudProvider?.toLowerCase()==="aks"&&B.instanceType&&B.region);for(const B of F){const ne=`${B.nodeName}-${B.instanceType}-${B.region}`;if(!(le.has(ne)||z.has(ne))){H(ve=>new Set(ve).add(ne));try{const ve=B.operatingSystem||"Linux",fe=await uc.getVmPrice(B.instanceType,B.region,ve);Y(Ne=>{const _e=new Map(Ne);return _e.set(ne,fe),_e})}catch(ve){console.error(`Failed to fetch pricing for ${B.nodeName}:`,ve),Y(fe=>{const Ne=new Map(fe);return Ne.set(ne,null),Ne})}finally{H(ve=>{const fe=new Set(ve);return fe.delete(ne),fe})}}}},se=async(I=!0)=>{try{I&&s?a(!0):k(!0),d(null);const[F,B]=await Promise.all([sr.getNodeMetrics(f,b||void 0),sr.getNamespaceMetrics(f,b||void 0)]);if(r(F),W(B),l(!1),b){const ne=F.filter(ve=>ve.clusterName===b);J(ne)}else J(F)}catch(F){console.error("Failed to fetch metrics:",F),d("Failed to load metrics"),xe.error("Failed to load metrics",{position:"bottom-right"})}finally{a(!1),k(!1)}};x.useEffect(()=>{b&&se(!s)},[f,b]),x.useEffect(()=>{if(b&&t.length>0){const I=t.filter(F=>F.clusterName===b);J(I)}},[b,t]),x.useEffect(()=>{const I=F=>{F.key==="Escape"&&N&&E(null)};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[N]),x.useEffect(()=>{if(!ee)return;const I=setInterval(()=>{se(!1)},te*1e3);return()=>clearInterval(I)},[ee,te]);const je=()=>{const I=localStorage.getItem("userInfo");return I?JSON.parse(I):null},Re=async()=>{try{const I=await sr.getClusters();O(I)}catch(I){console.error("Failed to fetch clusters:",I),xe.error("Failed to load clusters",{position:"bottom-right"})}},Le=async()=>{const I=je();if(I?.id)try{const F=await zn.getUserClusters(I.id);A(F.map(B=>B.clusterName))}catch(F){console.error("Failed to fetch user clusters:",F)}},Ce=x.useMemo(()=>je()?.isAdmin?[..._].sort((F,B)=>F.localeCompare(B,void 0,{sensitivity:"base"})):j.length===0?[]:_.filter(F=>j.includes(F)).sort((F,B)=>F.localeCompare(B,void 0,{sensitivity:"base"})),[_,j]);x.useEffect(()=>{(async()=>(await Promise.all([Re(),Le()]),U(!0)))()},[]),x.useEffect(()=>{Ce.length>0?b&&Ce.includes(b)||v(Ce[0]):b&&v(null)},[Ce,b]);const Q=x.useMemo(()=>b?t.filter(I=>I.clusterName===b):[],[t,b]),Ee=x.useMemo(()=>{const I=new Set(Q.map(F=>F.nodeName));return Array.from(I).sort()},[Q]),we=x.useMemo(()=>{const I=new Map;Q.forEach(ne=>{const ve=I.get(ne.nodeName);(!ve||new Date(ne.timestamp)>new Date(ve.timestamp))&&I.set(ne.nodeName,ne)});let F=Array.from(I.values()).sort((ne,ve)=>ne.nodeName.localeCompare(ve.nodeName));const B=new Date(Date.now()-600*1e3);return F=F.filter(ne=>new Date(ne.timestamp)>=B),F},[Q]),ae=x.useMemo(()=>{if(!b||t.length===0)return[];const I=t.filter(B=>B.clusterName===b),F=new Map;return I.forEach(B=>{const ne=F.get(B.nodeName);(!ne||new Date(B.timestamp)>new Date(ne.timestamp))&&F.set(B.nodeName,B)}),Array.from(F.values()).sort((B,ne)=>B.nodeName.localeCompare(ne.nodeName))},[t,b]),nt=x.useMemo(()=>{const I=new Map,F=g?[g]:Ee,B=new Set(F),ne=new Map;for(const ve of Q){if(!B.has(ve.nodeName))continue;const fe=Gr(ve.timestamp),Ne=fe?Pa(fe):ve.timestamp,_e=fe?fe.getTime():new Date(ve.timestamp).getTime();ne.has(Ne)||ne.set(Ne,_e),I.has(Ne)||I.set(Ne,{timestamp:Ne,timestampValue:_e});const Ie=I.get(Ne),it=ve.nodeName;Ie[`${it}_cpu`]=ve.cpuUsageCores/ve.cpuCapacityCores*100,Ie[`${it}_memory`]=ve.memoryUsageBytes/ve.memoryCapacityBytes*100,Ie[`${it}_diskReadBytes`]=ve.diskReadBytes??0,Ie[`${it}_diskWriteBytes`]=ve.diskWriteBytes??0,Ie[`${it}_diskReadOps`]=ve.diskReadOps??0,Ie[`${it}_diskWriteOps`]=ve.diskWriteOps??0,Ie[`${it}_networkBytes`]=ve.networkUsageBytes??0}return Array.from(I.values()).sort((ve,fe)=>ve.timestampValue-fe.timestampValue)},[Q,g,Ee]),De=x.useMemo(()=>{if(we.length===0)return{avgCpuUsage:0,avgMemoryUsage:0,totalNodes:0,totalCpuCores:0,totalMemoryBytes:0,usedCpuCores:0,usedMemoryBytes:0,kubernetesVersion:void 0,cloudProvider:void 0,clusterEnvironment:void 0};const I=we.reduce((_e,Ie)=>_e+Ie.cpuCapacityCores,0),F=we.reduce((_e,Ie)=>_e+Ie.memoryCapacityBytes,0),B=we.reduce((_e,Ie)=>_e+Ie.cpuUsageCores,0),ne=we.reduce((_e,Ie)=>_e+Ie.memoryUsageBytes,0),ve=we[0]?.kubernetesVersion,fe=we[0]?.cloudProvider,Ne=we[0]?.clusterEnvironment;return{avgCpuUsage:B/I*100,avgMemoryUsage:ne/F*100,totalNodes:we.length,totalCpuCores:I,totalMemoryBytes:F,usedCpuCores:B,usedMemoryBytes:ne,kubernetesVersion:ve,cloudProvider:fe,clusterEnvironment:Ne}},[we]),Ve=x.useMemo(()=>b?V.filter(I=>I.clusterName===b):[],[V,b]),Ze=x.useMemo(()=>{let I=0;const F=we,B=F.filter(fe=>fe.instanceType&&fe.region&&fe.cloudProvider?.toLowerCase()==="aks");console.log("[DEBUG] All pricing keys in nodePricing map:",Array.from(z.keys())),console.log("[DEBUG] All loading keys:",Array.from(le.keys()));const ne=B.map(fe=>{const Ne=`${fe.nodeName}-${fe.instanceType}-${fe.region}`,_e=z.has(Ne),Ie=le.has(Ne);return{node:fe.nodeName,key:Ne,hasKey:_e,isLoading:Ie}});console.log("[DEBUG] Pricing checks for Azure nodes:",ne);const ve=B.every(fe=>{const Ne=`${fe.nodeName}-${fe.instanceType}-${fe.region}`;return z.has(Ne)||!le.has(Ne)});return console.log("[DEBUG] Calculating totalClusterMonthlyCost:",{allNodesCount:F.length,azureNodesCount:B.length,nodePricingSize:z.size,loadingPricingSize:le.size,allPricingLoaded:ve,selectedCluster:b,azureNodes:B.map(fe=>({name:fe.nodeName,instance:fe.instanceType,region:fe.region}))}),ve?(B.forEach(fe=>{const Ne=`${fe.nodeName}-${fe.instanceType}-${fe.region}`,_e=z.get(Ne),Ie=z.has(Ne);if(console.log("[DEBUG] Node pricing check:",{nodeName:fe.nodeName,instanceType:fe.instanceType,region:fe.region,key:Ne,hasKey:Ie,hourlyPrice:_e,isAzure:fe.cloudProvider?.toLowerCase()==="aks"}),Ie)if(_e!=null){const it=uc.calculateMonthlyPrice(_e);it!==null?(I+=it,console.log("[DEBUG] Added to total:",{nodeName:fe.nodeName,monthlyPrice:it,newTotal:I})):console.log("[DEBUG] Monthly price is null for:",fe.nodeName)}else console.log("[DEBUG] Hourly price is null/undefined for:",fe.nodeName);else console.log("[DEBUG] Key not found in pricing map for:",fe.nodeName,"key:",Ne)}),console.log("[DEBUG] Final totalClusterMonthlyCost:",I),I):(console.log("[DEBUG] Waiting for pricing to load...",{missing:B.filter(fe=>{const Ne=`${fe.nodeName}-${fe.instanceType}-${fe.region}`;return!z.has(Ne)&&le.has(Ne)}).map(fe=>fe.nodeName)}),0)},[we,z,le]),ce=x.useMemo(()=>{const I=we.reduce((B,ne)=>B+ne.cpuCapacityCores,0),F=we.reduce((B,ne)=>B+ne.memoryCapacityBytes,0);return{totalCpu:I,totalMemory:F}},[we]),Ae=x.useMemo(()=>{if(Ve.length===0)return[];const I=new Map;Ve.forEach(ne=>{const ve=`${ne.namespace}|${ne.pod}|${ne.container}`,fe=I.get(ve);(!fe||new Date(ne.timestamp)>new Date(fe.timestamp))&&I.set(ve,ne)});const F=new Map,B=new Set;return I.forEach(ne=>{const ve=`${ne.namespace}|${ne.pod}`;B.add(ve);const fe=F.get(ne.namespace);fe?(fe.cpuUsageCores+=ne.cpuUsageCores,fe.memoryUsageBytes+=ne.memoryUsageBytes):F.set(ne.namespace,{namespace:ne.namespace,cpuUsageCores:ne.cpuUsageCores,memoryUsageBytes:ne.memoryUsageBytes,podCount:0})}),B.forEach(ne=>{const[ve]=ne.split("|"),fe=F.get(ve);fe&&(fe.podCount+=1)}),Array.from(F.values()).sort((ne,ve)=>ve.cpuUsageCores-ne.cpuUsageCores)},[Ve]),Z=x.useMemo(()=>{if(Ae.length===0)return[];const I=Ae.reduce((F,B)=>F+B.cpuUsageCores,0);return I===0?[]:Ae.map(F=>({name:F.namespace,value:F.cpuUsageCores,percentage:F.cpuUsageCores/I*100})).sort((F,B)=>B.value-F.value)},[Ae]),me=x.useMemo(()=>{if(Ae.length===0)return[];const I=Ae.reduce((F,B)=>F+B.memoryUsageBytes,0);return I===0?[]:Ae.map(F=>({name:F.namespace,value:F.memoryUsageBytes,percentage:F.memoryUsageBytes/I*100})).sort((F,B)=>B.value-F.value)},[Ae]),Pe=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24","#F87171","#FB7185","#A78BFA","#C084FC"],Te=I=>{const F=Ve.filter(fe=>fe.nodeName===I);if(F.length===0)return[];const B=new Map;F.forEach(fe=>{const Ne=`${fe.namespace}|${fe.pod}|${fe.container}`,_e=B.get(Ne);(!_e||new Date(fe.timestamp)>new Date(_e.timestamp))&&B.set(Ne,fe)});const ne=new Map,ve=new Set;return B.forEach(fe=>{const Ne=`${fe.namespace}|${fe.pod}`;ve.add(Ne);const _e=ne.get(fe.namespace);_e?(_e.cpuUsageCores+=fe.cpuUsageCores,_e.memoryUsageBytes+=fe.memoryUsageBytes):ne.set(fe.namespace,{namespace:fe.namespace,cpuUsageCores:fe.cpuUsageCores,memoryUsageBytes:fe.memoryUsageBytes,podCount:0})}),ve.forEach(fe=>{const[Ne]=fe.split("|"),_e=ne.get(Ne);_e&&(_e.podCount+=1)}),Array.from(ne.values()).sort((fe,Ne)=>Ne.cpuUsageCores-fe.cpuUsageCores)},Ye=I=>{const F=["B","KB","MB","GB","TB"];let B=I,ne=0;for(;B>=1024&&ne<F.length-1;)B/=1024,ne++;return`${B.toFixed(2)} ${F[ne]}`},Be=I=>I>=90?"text-red-500":I>=70?"text-yellow-500":"text-green-500",Zt=I=>I>=90?"bg-red-500":I>=70?"bg-yellow-500":"bg-green-500",Sn=I=>{if(!I)return"bg-gray-500 text-white";switch(I.toUpperCase()){case"PROD":case"PRODUCTION":return"bg-red-500 text-white";case"TEST":case"TESTING":return"bg-green-500 text-white";case"DEV":case"DEVELOPMENT":return"bg-blue-500 text-white";case"QA":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},dn=je(),ir=R&&Ce.length===0&&!dn?.isAdmin;return x.useEffect(()=>{ir&&n&&a(!1)},[ir,n]),n&&!ir?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{text:"Loading metrics..."})}):ir?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(qt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"No Cluster Permissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to view any clusters. Please contact your administrator to request access to cluster metrics."})]})}):u?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-500 text-lg",children:u}),i.jsx("button",{onClick:()=>se(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):i.jsxs("div",{className:"h-full overflow-y-auto p-6",children:[i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white text-gray-900",children:"Cluster Metrics"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"CPU and RAM usage across your clusters"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2 lg:gap-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cluster:"}),i.jsx("select",{value:b||"",onChange:I=>{v(I.target.value),y(null)},className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                         dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                         focus:ring-2 focus:ring-blue-500 flex items-center gap-2`,children:Ce.map(I=>i.jsx("option",{value:I,children:I},I))})]}),i.jsxs("select",{value:f,onChange:I=>m(Number(I.target.value)),className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                       dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                       focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:5,children:"5 minutes"}),i.jsx("option",{value:10,children:"10 minutes"}),i.jsx("option",{value:30,children:"30 minutes"}),i.jsx("option",{value:60,children:"1 hour"}),i.jsx("option",{value:360,children:"6 hours"}),i.jsx("option",{value:1440,children:"24 hours"}),i.jsx("option",{value:2880,children:"48 hours"}),i.jsx("option",{value:10080,children:"7 days"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Refresh:"}),i.jsx(ii,{checked:ee,onCheckedChange:q}),ee&&i.jsxs("select",{value:te,onChange:I=>D(Number(I.target.value)),className:`px-3 py-1.5 rounded-lg dark:bg-gray-800 bg-white border 
                           dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:10,children:"10s"}),i.jsx("option",{value:30,children:"30s"}),i.jsx("option",{value:60,children:"60s"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-4",children:[i.jsxs("button",{onClick:()=>{b?L(!0):xe.error("Please select a cluster first",{position:"bottom-right"})},disabled:!b,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                         dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                         dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                         transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:[i.jsx(hf,{className:"w-4 h-4"}),"Notifications"]}),i.jsxs("button",{onClick:()=>{const I=new URLSearchParams;b&&I.set("cluster",b),e(`/alerts${I.toString()?`?${I.toString()}`:""}`)},className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                         bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800
                         text-amber-600 dark:text-amber-400 hover:bg-amber-100 dark:hover:bg-amber-900/40
                         transition-colors duration-200`,children:[i.jsx(ff,{className:"w-4 h-4"}),"Alerts"]}),i.jsx("button",{onClick:()=>se(!1),disabled:S,className:`px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                         flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors`,children:i.jsx(kn,{className:`w-4 h-4 ${S?"animate-spin":""}`})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Nodes"}),De.clusterEnvironment&&i.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold ${Sn(De.clusterEnvironment)} flex-shrink-0`,children:De.clusterEnvironment.toUpperCase()})]}),i.jsx(vr,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:De.totalNodes})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg CPU Usage"}),i.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),i.jsxs("p",{className:`text-2xl font-bold ${Be(De.avgCpuUsage)}`,children:[De.avgCpuUsage.toFixed(1),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${Zt(De.avgCpuUsage)}`,style:{width:`${Math.min(De.avgCpuUsage,100)}%`}})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Memory Usage"}),i.jsx(qn,{className:"w-5 h-5 text-gray-400"})]}),i.jsxs("p",{className:`text-2xl font-bold ${Be(De.avgMemoryUsage)}`,children:[De.avgMemoryUsage.toFixed(1),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${Zt(De.avgMemoryUsage)}`,style:{width:`${Math.min(De.avgMemoryUsage,100)}%`}})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total CPU Cores"}),i.jsx(wr,{className:"w-5 h-5 text-gray-400"})]}),i.jsxs("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:[De.usedCpuCores.toFixed(1)," / ",De.totalCpuCores.toFixed(1)]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[Ye(De.usedMemoryBytes)," / ",Ye(De.totalMemoryBytes)," memory"]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Cluster Info"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(R7,{className:"w-4 h-4 text-gray-400"}),i.jsx(M7,{className:"w-4 h-4 text-gray-400"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Version"}),i.jsx("p",{className:"text-lg font-semibold dark:text-white text-gray-900",children:De.kubernetesVersion||"N/A"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Provider"}),i.jsx("p",{className:"text-lg font-semibold dark:text-white text-gray-900",children:De.cloudProvider||"N/A"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Est. Cost"}),i.jsxs("div",{className:"relative group/tooltip",children:[i.jsx(g2,{className:"w-4 h-4 text-gray-400 cursor-help"}),i.jsxs("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 mt-2 
                                w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg 
                                shadow-xl opacity-0 group-hover/tooltip:opacity-100 transition-opacity 
                                pointer-events-none z-[100] invisible group-hover/tooltip:visible border border-gray-700`,children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("p",{className:"font-semibold mb-1.5",children:"Compute Cost Only"}),i.jsx("p",{children:"This price reflects only the compute (VM/node) costs for the cluster."}),i.jsx("p",{className:"mt-2 font-semibold",children:"Not included:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-1",children:[i.jsx("li",{children:"Load balancer costs"}),i.jsx("li",{children:"Storage costs"}),i.jsx("li",{children:"Network egress costs"}),i.jsx("li",{children:"Other infrastructure services"})]})]}),i.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-0",children:i.jsx("div",{className:"border-4 border-transparent border-b-gray-900 dark:border-b-gray-800"})})]})]})]}),i.jsx(yc,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:Ze>0?uc.formatMonthlyPrice(Ze):Array.from(le.values()).some(I=>I)?"Loading...":"-"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:b||"No cluster selected"})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Filter by node:"}),i.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded-lg text-sm transition-colors ${g===null?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All Nodes"}),Ee.map(I=>i.jsx("button",{onClick:()=>y(I),className:`px-3 py-1 rounded-lg text-sm transition-colors ${g===I?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:I},I))]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 relative",children:[S&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-3 flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4 animate-spin text-blue-500"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:"Updating..."})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5"}),"CPU Usage Over Time"]}),i.jsx("button",{onClick:()=>E("cpu"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:nt,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,domain:[0,100],label:{value:"CPU %",angle:-90,position:"insideLeft"}}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"11px",padding:"8px"},itemStyle:{padding:"2px 4px",fontSize:"11px"},labelStyle:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151"},formatter:I=>`${I.toFixed(2)}%`}),i.jsx(oa,{wrapperStyle:{fontSize:"11px"}}),(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_cpu`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} CPU`},`${I}_cpu`)})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(qn,{className:"w-5 h-5"}),"Memory Usage Over Time"]}),i.jsx("button",{onClick:()=>E("memory"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:nt,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,domain:[0,100],label:{value:"Memory %",angle:-90,position:"insideLeft"}}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"11px",padding:"8px"},itemStyle:{padding:"2px 4px",fontSize:"11px"},labelStyle:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151"},formatter:I=>`${I.toFixed(2)}%`}),i.jsx(oa,{wrapperStyle:{fontSize:"11px"}}),(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_memory`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Memory`},`${I}_memory`)})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(qn,{className:"w-5 h-5"}),"Disk Usage Over Time"]}),i.jsx("button",{onClick:()=>E("disk"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:nt,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"Bytes",angle:-90,position:"insideLeft"}}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"11px",padding:"8px"},itemStyle:{padding:"2px 4px",fontSize:"11px"},labelStyle:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151"},formatter:I=>Ye(I)}),i.jsx(oa,{wrapperStyle:{fontSize:"11px"}}),(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"];return i.jsxs(Kt.Fragment,{children:[i.jsx(jn,{type:"monotone",dataKey:`${I}_diskReadBytes`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Disk Read`,strokeDasharray:"5 5"}),i.jsx(jn,{type:"monotone",dataKey:`${I}_diskWriteBytes`,stroke:B[(F+1)%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Disk Write`})]},I)})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(Kc,{className:"w-5 h-5"}),"Network Usage Over Time"]}),i.jsx("button",{onClick:()=>E("network"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:nt,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"Bytes",angle:-90,position:"insideLeft"}}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"11px",padding:"8px"},itemStyle:{padding:"2px 4px",fontSize:"11px"},labelStyle:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151"},formatter:I=>Ye(I)}),i.jsx(oa,{wrapperStyle:{fontSize:"11px"}}),(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_networkBytes`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Network`},`${I}_network`)})]})})]})]}),Ae.length>0&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"CPU Distribution by Namespace"})]}),i.jsx("button",{onClick:()=>E("cpu-pie"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),Z.length>0?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx($n,{width:"100%",height:500,children:i.jsxs(CS,{children:[i.jsx(zp,{data:Z,cx:"50%",cy:"45%",labelLine:!1,label:I=>{const F=Z.reduce((it,fr)=>it+fr.value,0),B=F>0?I.value/F*100:0;if(B<=3)return"";const ne=Math.PI/180,ve=I.outerRadius+10,fe=I.cx+ve*Math.cos(-I.midAngle*ne),Ne=I.cy+ve*Math.sin(-I.midAngle*ne),_e=Z.findIndex(it=>it.name===I.name),Ie=_e>=0?Pe[_e%Pe.length]:"#8884d8";return i.jsx("text",{x:fe,y:Ne,fill:Ie,textAnchor:I.midAngle<90||I.midAngle>270?"start":"end",dominantBaseline:"central",style:{fontSize:"11px",fontWeight:"500"},children:`${I.name}: ${B.toFixed(1)}%`})},outerRadius:140,innerRadius:30,fill:"#8884d8",dataKey:"value",children:Z.map((I,F)=>i.jsx(Od,{fill:Pe[F%Pe.length]},`cell-${F}`))}),i.jsx(Hn,{contentStyle:{backgroundColor:"var(--tooltip-bg, #1F2937)",border:"1px solid var(--tooltip-border, #374151)",borderRadius:"8px",color:"var(--tooltip-text, #F9FAFB)",fontSize:"11px",padding:"8px"},itemStyle:{color:"var(--tooltip-text, #F9FAFB)"},labelStyle:{color:"var(--tooltip-text, #F9FAFB)"},formatter:I=>{const F=Z.reduce((ne,ve)=>ne+ve.value,0),B=F>0?I/F*100:0;return`${I.toFixed(4)} cores (${B.toFixed(1)}%)`}}),i.jsx(oa,{content:I=>{const{payload:F}=I;if(!F)return null;const B=Math.ceil(F.length/2),ne=F.slice(0,B),ve=F.slice(B);return i.jsxs("div",{className:"flex justify-center gap-8 pt-4",children:[i.jsx("div",{className:"flex flex-col gap-1",children:ne.map((fe,Ne)=>{const _e=Z.find(Ie=>Ie.name===fe.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:fe.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[fe.value," (",_e?_e.percentage.toFixed(1):"0","%)"]})]},`legend-${Ne}`)})}),i.jsx("div",{className:"flex flex-col gap-1",children:ve.map((fe,Ne)=>{const _e=Z.find(Ie=>Ie.name===fe.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:fe.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[fe.value," (",_e?_e.percentage.toFixed(1):"0","%)"]})]},`legend-${B+Ne}`)})})]})}})]})})}):i.jsx("div",{className:"flex items-center justify-center h-[500px] text-gray-500 dark:text-gray-400",children:"No CPU usage data available"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"Memory Distribution by Namespace"})]}),i.jsx("button",{onClick:()=>E("memory-pie"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),me.length>0?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx($n,{width:"100%",height:500,children:i.jsxs(CS,{children:[i.jsx(zp,{data:me,cx:"50%",cy:"45%",labelLine:!1,label:I=>{const F=me.reduce((it,fr)=>it+fr.value,0),B=F>0?I.value/F*100:0;if(B<=3)return"";const ne=Math.PI/180,ve=I.outerRadius+10,fe=I.cx+ve*Math.cos(-I.midAngle*ne),Ne=I.cy+ve*Math.sin(-I.midAngle*ne),_e=me.findIndex(it=>it.name===I.name),Ie=_e>=0?Pe[_e%Pe.length]:"#8884d8";return i.jsx("text",{x:fe,y:Ne,fill:Ie,textAnchor:I.midAngle<90||I.midAngle>270?"start":"end",dominantBaseline:"central",style:{fontSize:"11px",fontWeight:"500"},children:`${I.name}: ${B.toFixed(1)}%`})},outerRadius:140,innerRadius:30,fill:"#8884d8",dataKey:"value",children:me.map((I,F)=>i.jsx(Od,{fill:Pe[F%Pe.length]},`cell-${F}`))}),i.jsx(Hn,{contentStyle:{backgroundColor:"var(--tooltip-bg, #1F2937)",border:"1px solid var(--tooltip-border, #374151)",borderRadius:"8px",color:"var(--tooltip-text, #F9FAFB)",fontSize:"11px",padding:"8px"},itemStyle:{color:"var(--tooltip-text, #F9FAFB)"},labelStyle:{color:"var(--tooltip-text, #F9FAFB)"},formatter:I=>{const F=me.reduce((ne,ve)=>ne+ve.value,0),B=F>0?I/F*100:0;return`${Ye(I)} (${B.toFixed(1)}%)`}}),i.jsx(oa,{content:I=>{const{payload:F}=I;if(!F)return null;const B=Math.ceil(F.length/2),ne=F.slice(0,B),ve=F.slice(B);return i.jsxs("div",{className:"flex justify-center gap-8 pt-4",children:[i.jsx("div",{className:"flex flex-col gap-1",children:ne.map((fe,Ne)=>{const _e=me.find(Ie=>Ie.name===fe.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:fe.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[fe.value," (",_e?_e.percentage.toFixed(1):"0","%)"]})]},`legend-${Ne}`)})}),i.jsx("div",{className:"flex flex-col gap-1",children:ve.map((fe,Ne)=>{const _e=me.find(Ie=>Ie.name===fe.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:fe.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[fe.value," (",_e?_e.percentage.toFixed(1):"0","%)"]})]},`legend-${B+Ne}`)})})]})}})]})})}):i.jsx("div",{className:"flex items-center justify-center h-[500px] text-gray-500 dark:text-gray-400",children:"No memory usage data available"})]})]}),Ae.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow relative",children:[i.jsx("div",{className:"px-6 py-4 border-b dark:border-gray-700 border-gray-200 relative z-0",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ud,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"Namespace Resource Consumption"})]})}),i.jsx("div",{className:"overflow-x-auto relative overflow-y-visible",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 relative z-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Namespace"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CPU Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Memory Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pods"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{children:"Est. Monthly Cost"}),i.jsxs("div",{className:"relative group/tooltip",children:[i.jsx(g2,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",onMouseEnter:I=>{const F=I.currentTarget.getBoundingClientRect(),B=I.currentTarget.nextElementSibling;B&&(B.style.setProperty("--tooltip-top",`${F.top-8}px`),B.style.setProperty("--tooltip-left",`${F.left+F.width/2}px`))}}),i.jsxs("div",{className:`fixed w-64 p-3 bg-gray-900 dark:bg-gray-800 text-white text-xs rounded-lg 
                                        shadow-xl opacity-0 group-hover/tooltip:opacity-100 transition-opacity 
                                        pointer-events-none z-[99999] invisible group-hover/tooltip:visible border border-gray-700`,style:{transform:"translate(-50%, -100%)",top:"var(--tooltip-top, 0)",left:"var(--tooltip-left, 0)"},children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("p",{className:"font-semibold mb-1.5",children:"How it's calculated:"}),i.jsx("p",{children:"1. Sum all node monthly costs in the cluster"}),i.jsx("p",{children:"2. Calculate namespace CPU usage % of total cluster CPU capacity"}),i.jsx("p",{children:"3. Calculate namespace Memory usage % of total cluster Memory capacity"}),i.jsx("p",{children:"4. Average the CPU and Memory percentages"}),i.jsx("p",{children:"5. Estimated cost = (Average % / 100)  Total cluster monthly cost"})]}),i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1",children:i.jsx("div",{className:"border-4 border-transparent border-t-gray-900 dark:border-t-gray-800"})})]})]})]})})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ae.map(I=>{const F=Ae.reduce((_e,Ie)=>_e+Ie.cpuUsageCores,0),B=Ae.reduce((_e,Ie)=>_e+Ie.memoryUsageBytes,0),ne=F>0?I.cpuUsageCores/F*100:0,ve=B>0?I.memoryUsageBytes/B*100:0;let fe=null;const Ne=Array.from(le.values()).some(_e=>_e);if(console.log("[DEBUG] Namespace cost calculation for:",{namespace:I.namespace,totalClusterCapacity:ce,totalClusterMonthlyCost:Ze,isPricingLoading:Ne,loadingPricingSize:le.size,nodePricingSize:z.size}),ce.totalCpu>0&&ce.totalMemory>0&&Ze>0&&!Ne){const _e=I.cpuUsageCores/ce.totalCpu*100,Ie=I.memoryUsageBytes/ce.totalMemory*100,it=(_e+Ie)/2,fr=Ae.reduce((Xs,Ni)=>{const Cs=Ni.cpuUsageCores/ce.totalCpu*100,To=Ni.memoryUsageBytes/ce.totalMemory*100;return Xs+(Cs+To)/2},0),Cn=fr>0?it/fr*100:0;fe=Cn/100*Ze,console.log("[DEBUG] Calculated namespace cost:",{namespace:I.namespace,cpuUsagePercent:_e,memoryUsagePercent:Ie,avgUsagePercent:it,totalAvgUsagePercent:fr,normalizedPercent:Cn,estimatedMonthlyCost:fe})}else console.log("[DEBUG] Skipping namespace cost calculation:",{namespace:I.namespace,reason:ce.totalCpu?ce.totalMemory?Ze?Ne?"pricing loading":"unknown":"no monthly cost":"no Memory capacity":"no CPU capacity"});return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ud,{className:"w-4 h-4 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:I.namespace})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:[I.cpuUsageCores.toFixed(4)," cores"]}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",ne.toFixed(1),"%)"]})]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:i.jsx("div",{className:"h-1.5 rounded-full bg-blue-500",style:{width:`${Math.min(ne,100)}%`}})})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:Ye(I.memoryUsageBytes)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",ve.toFixed(1),"%)"]})]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:i.jsx("div",{className:"h-1.5 rounded-full bg-purple-500",style:{width:`${Math.min(ve,100)}%`}})})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:I.podCount}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:fe!==null?i.jsx("span",{className:"font-medium dark:text-white text-gray-900",children:uc.formatMonthlyPrice(fe)}):Ze===0&&Array.from(le.values()).some(_e=>_e)?i.jsx("span",{className:"text-gray-400",children:"Loading..."}):i.jsx("span",{className:"text-gray-400",children:"-"})})]},I.namespace)})})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden relative",children:[S&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-3 flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4 animate-spin text-blue-500"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:"Updating..."})]})}),i.jsx("div",{className:"px-6 py-4 border-b dark:border-gray-700 border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"Node Details"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Node Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CPU Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CPU Capacity"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Memory Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Memory Capacity"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"OS"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Architecture"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Region"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Instance Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price/Hour"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price/Month"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Updated"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ae.map(I=>{const F=I.cpuUsageCores/I.cpuCapacityCores*100,B=I.memoryUsageBytes/I.memoryCapacityBytes*100,ne=Gr(I.timestamp),ve=Te(I.nodeName),fe=G.has(I.nodeName);return i.jsxs(Kt.Fragment,{children:[i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{y(I.nodeName);const Ne=new Set(G);Ne.has(I.nodeName)?Ne.delete(I.nodeName):Ne.add(I.nodeName),$(Ne)},children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[fe?i.jsx(qc,{className:"w-4 h-4 text-gray-400 mr-1"}):i.jsx(Pd,{className:"w-4 h-4 text-gray-400 mr-1"}),i.jsx(vr,{className:"w-4 h-4 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:I.nodeName}),ve.length>0&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["(",ve.length," namespace",ve.length!==1?"s":"",")"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{const Ne=I.isReady===!1||I.hasMemoryPressure===!0||I.hasDiskPressure===!0||I.hasPidPressure===!0;if(!Ne&&I.isReady!==void 0)return i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Dn,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Ready"})]});if(Ne){const _e=[];return I.isReady===!1&&_e.push("Not Ready"),I.hasMemoryPressure===!0&&_e.push("Memory Pressure"),I.hasDiskPressure===!0&&_e.push("Disk Pressure"),I.hasPidPressure===!0&&_e.push("PID Pressure"),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ma,{className:"w-4 h-4 text-red-500"}),i.jsxs("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:[_e.length," Issue",_e.length!==1?"s":""]})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:_e.map((Ie,it)=>i.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded",children:Ie},it))})]})}return i.jsx("span",{className:"text-xs text-gray-400",children:"-"})})()}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:`text-sm font-medium ${Be(F)}`,children:[F.toFixed(1),"%"]}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",I.cpuUsageCores.toFixed(2)," / ",I.cpuCapacityCores," cores)"]})]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full ${Zt(F)}`,style:{width:`${Math.min(F,100)}%`}})})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[I.cpuCapacityCores," cores"]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:`text-sm font-medium ${Be(B)}`,children:[B.toFixed(1),"%"]}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",Ye(I.memoryUsageBytes),")"]})]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full ${Zt(B)}`,style:{width:`${Math.min(B,100)}%`}})})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Ye(I.memoryCapacityBytes)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center",children:I.operatingSystem?.toLowerCase()==="linux"?i.jsx("img",{src:"/assets/linux.png",alt:"Linux",className:"w-5 h-5 object-contain",title:"Linux"}):I.operatingSystem?.toLowerCase()==="windows"?i.jsx("img",{src:"/assets/windows.png",alt:"Windows",className:"w-5 h-5 object-contain",title:"Windows"}):i.jsx(vr,{className:"w-4 h-4 text-gray-400"})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:I.architecture||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:I.region||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:I.instanceType||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:(()=>{if(!I.instanceType||!I.region||I.cloudProvider?.toLowerCase()!=="aks")return"-";const Ne=`${I.nodeName}-${I.instanceType}-${I.region}`,_e=z.get(Ne);return le.has(Ne)?i.jsx("span",{className:"text-gray-400",children:"Loading..."}):uc.formatPrice(_e??null)})()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:(()=>{if(!I.instanceType||!I.region||I.cloudProvider?.toLowerCase()!=="aks")return"-";const Ne=`${I.nodeName}-${I.instanceType}-${I.region}`,_e=z.get(Ne);if(le.has(Ne))return i.jsx("span",{className:"text-gray-400",children:"Loading..."});const it=uc.calculateMonthlyPrice(_e??null);return uc.formatMonthlyPrice(it)})()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:ne?Pa(ne):I.timestamp})]}),fe&&ve.length>0&&i.jsx("tr",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsx("td",{colSpan:13,className:"px-6 py-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ud,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),i.jsxs("span",{className:"text-sm font-semibold dark:text-white text-gray-900",children:["Namespace Consumption on ",I.nodeName]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b dark:border-gray-700 border-gray-200",children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Namespace"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"CPU Usage"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Memory Usage"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Pods"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:ve.map(Ne=>{const _e=I.cpuCapacityCores>0?Ne.cpuUsageCores/I.cpuCapacityCores*100:0,Ie=I.memoryCapacityBytes>0?Ne.memoryUsageBytes/I.memoryCapacityBytes*100:0;return i.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-4 py-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ud,{className:"w-3 h-3 text-gray-400 mr-2"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:Ne.namespace})]})}),i.jsx("td",{className:"px-4 py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs dark:text-white text-gray-900",children:[Ne.cpuUsageCores.toFixed(4)," cores"]}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",_e.toFixed(1),"% of node)"]})]})}),i.jsx("td",{className:"px-4 py-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs dark:text-white text-gray-900",children:Ye(Ne.memoryUsageBytes)}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Ie.toFixed(1),"% of node)"]})]})}),i.jsx("td",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400",children:Ne.podCount})]},Ne.namespace)})})]})})]})})}),fe&&ve.length===0&&i.jsx("tr",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsx("td",{colSpan:13,className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"No namespace metrics available for this node"})})})]},I.nodeName)})})]})})]})]}),N&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>E(null),children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full h-full max-w-[95vw] max-h-[95vh] flex flex-col p-6",onClick:I=>I.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:N==="cpu"?i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-6 h-6"}),"CPU Usage Over Time"]}):N==="memory"?i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-6 h-6"}),"Memory Usage Over Time"]}):N==="disk"?i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-6 h-6"}),"Disk Usage Over Time"]}):N==="network"?i.jsxs(i.Fragment,{children:[i.jsx(Kc,{className:"w-6 h-6"}),"Network Usage Over Time"]}):N==="cpu-pie"?i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-6 h-6"}),"CPU Distribution by Namespace"]}):i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-6 h-6"}),"Memory Distribution by Namespace"]})}),i.jsx("button",{onClick:()=>E(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Close",children:i.jsx(B7,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),i.jsx("div",{className:"flex-1 min-h-0",children:N==="cpu-pie"||N==="memory-pie"?i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(CS,{children:[i.jsx(zp,{data:N==="cpu-pie"?Z:me,cx:"50%",cy:"45%",labelLine:!1,label:I=>{const F=N==="cpu-pie"?Z:me,B=F.reduce((fr,Cn)=>fr+Cn.value,0),ne=B>0?I.value/B*100:0;if(ne<=3)return"";const ve=Math.PI/180,fe=I.outerRadius+15,Ne=I.cx+fe*Math.cos(-I.midAngle*ve),_e=I.cy+fe*Math.sin(-I.midAngle*ve),Ie=F.findIndex(fr=>fr.name===I.name),it=Ie>=0?Pe[Ie%Pe.length]:"#8884d8";return i.jsx("text",{x:Ne,y:_e,fill:it,textAnchor:I.midAngle<90||I.midAngle>270?"start":"end",dominantBaseline:"central",style:{fontSize:"12px",fontWeight:"500"},children:`${I.name}: ${ne.toFixed(1)}%`})},outerRadius:180,innerRadius:50,fill:"#8884d8",dataKey:"value",children:(N==="cpu-pie"?Z:me).map((I,F)=>i.jsx(Od,{fill:Pe[F%Pe.length]},`cell-${F}`))}),i.jsx(Hn,{contentStyle:{backgroundColor:"var(--tooltip-bg, #1F2937)",border:"1px solid var(--tooltip-border, #374151)",borderRadius:"8px",color:"var(--tooltip-text, #F9FAFB)",fontSize:"11px",padding:"8px"},itemStyle:{color:"var(--tooltip-text, #F9FAFB)"},labelStyle:{color:"var(--tooltip-text, #F9FAFB)"},formatter:I=>{const B=(N==="cpu-pie"?Z:me).reduce((ve,fe)=>ve+fe.value,0),ne=B>0?I/B*100:0;return N==="cpu-pie"?`${I.toFixed(4)} cores (${ne.toFixed(1)}%)`:`${Ye(I)} (${ne.toFixed(1)}%)`}}),i.jsx(oa,{content:I=>{const{payload:F}=I;if(!F)return null;const B=N==="cpu-pie"?Z:me,ne=Math.ceil(F.length/2),ve=F.slice(0,ne),fe=F.slice(ne);return i.jsxs("div",{className:"flex justify-center gap-8 pt-4",children:[i.jsx("div",{className:"flex flex-col gap-1",children:ve.map((Ne,_e)=>{const Ie=B.find(it=>it.name===Ne.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Ne.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[Ne.value," (",Ie?Ie.percentage.toFixed(1):"0","%)"]})]},`legend-${_e}`)})}),i.jsx("div",{className:"flex flex-col gap-1",children:fe.map((Ne,_e)=>{const Ie=B.find(it=>it.name===Ne.value);return i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:Ne.color}}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:[Ne.value," (",Ie?Ie.percentage.toFixed(1):"0","%)"]})]},`legend-${ne+_e}`)})})]})}})]})}):i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:nt,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,domain:N==="cpu"||N==="memory"?[0,100]:void 0,label:{value:N==="cpu"?"CPU %":N==="memory"?"Memory %":"Bytes",angle:-90,position:"insideLeft"}}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"11px",padding:"8px"},itemStyle:{padding:"2px 4px",fontSize:"11px"},labelStyle:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151"},formatter:I=>N==="cpu"||N==="memory"?`${I.toFixed(2)}%`:Ye(I)}),i.jsx(oa,{wrapperStyle:{fontSize:"11px"}}),N==="disk"?(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"];return i.jsxs(Kt.Fragment,{children:[i.jsx(jn,{type:"monotone",dataKey:`${I}_diskReadBytes`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Disk Read`,strokeDasharray:"5 5"}),i.jsx(jn,{type:"monotone",dataKey:`${I}_diskWriteBytes`,stroke:B[(F+1)%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} Disk Write`})]},I)}):(g?[g]:Ee).map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24"],ne=N==="cpu"?"CPU":N==="memory"?"Memory":"Network",ve=N==="cpu"?`${I}_cpu`:N==="memory"?`${I}_memory`:`${I}_networkBytes`;return i.jsx(jn,{type:"monotone",dataKey:ve,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:`${I} ${ne}`},`${I}_${N}`)})]})})})]})}),M&&b&&i.jsx(KCe,{clusterName:b,onClose:()=>L(!1)})]})}function WCe({isOpen:e,onClose:t,namespace:r,pod:n,container:a,clusterName:s,hours:l=30}){const[u,d]=x.useState([]),[f,m]=x.useState(!1),[g,y]=x.useState(!1),[b,v]=x.useState(""),[S,k]=x.useState(-1),[N,E]=x.useState([]);x.useEffect(()=>{e?_():(d([]),v(""),k(-1),E([]))},[e,r,n,a,s,l]);const _=async()=>{try{m(!0);const $=await sr.getPodLogs(r,a,l,s);d($)}catch($){console.error("Failed to fetch pod logs:",$),xe.error("Failed to load pod logs",{position:"bottom-right"})}finally{m(!1)}},O=u.length>0?u[0].logContent:"",j=async()=>{if(O)try{await navigator.clipboard.writeText(O),y(!0),xe.success("Logs copied to clipboard",{position:"bottom-right"}),setTimeout(()=>y(!1),2e3)}catch($){console.error("Failed to copy logs:",$),xe.error("Failed to copy logs",{position:"bottom-right"})}},A=()=>{if(O)try{const $=new Blob([O],{type:"text/plain"}),z=URL.createObjectURL($),Y=document.createElement("a");Y.href=z,Y.download=`${n}-${a}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(z),xe.success("Logs downloaded successfully",{position:"bottom-right"})}catch($){console.error("Failed to download logs:",$),xe.error("Failed to download logs",{position:"bottom-right"})}},R=x.useMemo(()=>{if(!O)return"";if(!b.trim())return O;const $=O.split(`
`),z=b.toLowerCase(),Y=[],le=$.map((H,ee)=>(H.toLowerCase().includes(z)&&Y.push(ee),H));return E(Y),Y.length>0&&S===-1&&k(0),le.join(`
`)},[O,b]),U=x.useMemo(()=>{if(!b.trim()||!R)return R;const $=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),z=new RegExp(`(${$})`,"gi");return R.split(z).map((le,H)=>le.toLowerCase()===b.toLowerCase()?i.jsx("mark",{className:"bg-yellow-500 dark:bg-yellow-600 text-gray-900",children:le},H):i.jsx("span",{children:le},H))},[R,b]),V=()=>{N.length!==0&&k($=>($+1)%N.length)},W=()=>{N.length!==0&&k($=>($-1+N.length)%N.length)},G=$=>{$.key==="Enter"&&$.shiftKey?($.preventDefault(),W()):$.key==="Enter"&&($.preventDefault(),V())};return x.useEffect(()=>{if(S>=0&&N.length>0){const $=document.querySelector(".log-content-container");if($){R.split(`
`);const le=N[S]*16;$.scrollTo({top:Math.max(0,le-100),behavior:"smooth"})}}},[S,N,R]),e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-full max-w-5xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Pod Logs"}),i.jsxs("div",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-medium",children:n}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:r}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:a}),s&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:s})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:_,disabled:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors disabled:opacity-50",title:"Refresh logs",children:i.jsx(kn,{className:`w-5 h-5 text-gray-600 dark:text-gray-400 ${f?"animate-spin":""}`})}),O&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:A,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Download logs as text file",children:i.jsx(D7,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),i.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Copy logs",children:g?i.jsx(hi,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):i.jsx(p2,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:i.jsx(Dt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),O&&!f&&i.jsx("div",{className:"px-6 py-3 border-b dark:border-gray-700 border-gray-200",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:b,onChange:$=>{v($.target.value),k(-1)},onKeyDown:G,placeholder:"Search logs...",className:`w-full pl-10 pr-20 py-2 text-sm dark:bg-gray-700 bg-gray-100 border 
                           dark:border-gray-600 border-gray-300 rounded-lg 
                           dark:text-white text-gray-900 
                           focus:ring-2 focus:ring-blue-500 focus:border-blue-500`}),b&&N.length>0&&i.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S+1," / ",N.length]}),i.jsx("button",{onClick:W,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-xs text-gray-600 dark:text-gray-400",title:"Previous",children:""}),i.jsx("button",{onClick:V,className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-xs text-gray-600 dark:text-gray-400",title:"Next",children:""})]})]})})}),i.jsxs("div",{className:"flex-1 overflow-hidden p-6 min-h-0 flex flex-col relative",children:[f&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-4 flex items-center gap-3",children:[i.jsx(kn,{className:"w-5 h-5 animate-spin text-blue-500"}),i.jsx("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:"Refreshing logs..."})]})}),!O&&!f?i.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:i.jsx("p",{children:"No logs available"})}):O?i.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto bg-gray-900 dark:bg-black rounded-lg p-4 scroll-smooth log-content-container",children:b.trim()?i.jsx("div",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-words",children:U}):i.jsx("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-words m-0",children:R})}):null]})]})}):null}const NS=({active:e,payload:t,label:r,formatter:n})=>!e||!t||!t.length?null:i.jsxs("div",{style:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",padding:"8px",color:"#F9FAFB",fontSize:"11px",display:"flex",flexDirection:"column",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)",opacity:1},children:[i.jsx("div",{style:{fontSize:"11px",marginBottom:"4px",paddingBottom:"4px",borderBottom:"1px solid #374151",fontWeight:"500",flexShrink:0},children:r}),i.jsx("div",{children:t.map((a,s)=>i.jsxs("div",{style:{padding:"2px 4px",fontSize:"11px",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[i.jsx("div",{style:{width:"12px",height:"2px",backgroundColor:a.color,flexShrink:0}}),i.jsxs("span",{style:{color:"#F9FAFB"},children:[a.name,":"]}),i.jsx("span",{style:{color:"#F9FAFB",fontWeight:"500"},children:n?n(a.value):a.value})]},`tooltip-${s}`))})]});function VCe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!0),[l,u]=x.useState(null),[d,f]=x.useState(30),[m,g]=x.useState(null),[y,b]=x.useState(null),[v,S]=x.useState([]),[k,N]=x.useState(!1),[E,_]=x.useState(!1),[O,j]=x.useState(""),[A,R]=x.useState(null),[U,V]=x.useState([]),[W,G]=x.useState([]),[$,z]=x.useState([]),[Y,le]=x.useState(!1),[H,ee]=x.useState(!1),[q,te]=x.useState(null),[D,M]=x.useState(!1),[L,J]=x.useState(30),[se,je]=x.useState(new Set),Re=async(I=!0)=>{try{I&&a?n(!0):N(!0),u(null);const F=await sr.getNamespaceMetrics(d,m||void 0,y||void 0);t(F),s(!1)}catch(F){console.error("Failed to fetch namespace metrics:",F),u("Failed to load application metrics"),xe.error("Failed to load application metrics",{position:"bottom-right"})}finally{n(!1),N(!1)}};x.useEffect(()=>{m&&y&&Re(!a)},[d,m,y]),x.useEffect(()=>{const I=F=>{F.key==="Escape"&&E&&_(!1)};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[E]),x.useEffect(()=>{const I=F=>{F.key==="Escape"&&A&&R(null)};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[A]),x.useEffect(()=>{if(!D)return;const I=setInterval(()=>{Re(!1)},L*1e3);return()=>clearInterval(I)},[D,L]);const Le=()=>{const I=localStorage.getItem("userInfo");return I?JSON.parse(I):null},Ce=async()=>{try{const I=await sr.getClusters();V(I)}catch(I){console.error("Failed to fetch clusters:",I),xe.error("Failed to load clusters",{position:"bottom-right"})}},Q=async()=>{const I=Le();if(I?.id)try{const F=await zn.getUserClusters(I.id);z(F.map(B=>B.clusterName))}catch(F){console.error("Failed to fetch user clusters:",F)}},Ee=async()=>{if(m)try{const I=await sr.getNamespaces(m);G(I)}catch(I){console.error("Failed to fetch namespaces:",I),xe.error("Failed to load namespaces",{position:"bottom-right"})}},we=x.useMemo(()=>Le()?.isAdmin?[...U].sort((F,B)=>F.localeCompare(B,void 0,{sensitivity:"base"})):$.length===0?[]:U.filter(F=>$.includes(F)).sort((F,B)=>F.localeCompare(B,void 0,{sensitivity:"base"})),[U,$]),ae=x.useMemo(()=>m?e.filter(I=>I.clusterName===m):[],[e,m]),nt=x.useMemo(()=>[...W].sort((I,F)=>I.localeCompare(F,void 0,{sensitivity:"base"})),[W]),De=x.useMemo(()=>{const I=new Set(ae.filter(F=>!y||F.namespace===y).map(F=>F.pod));return Array.from(I).sort()},[ae,y]),Ve=x.useMemo(()=>{if(!O.trim())return De;const I=O.toLowerCase();return De.filter(F=>F.toLowerCase().includes(I))},[De,O]);x.useEffect(()=>{(async()=>(await Promise.all([Ce(),Q()]),le(!0)))()},[]),x.useEffect(()=>{m&&Ee()},[m]),x.useEffect(()=>{we.length>0?m?we.includes(m)||(g(we[0]),b(null),S([])):g(we[0]):m&&(g(null),b(null),S([]))},[we,m]),x.useEffect(()=>{nt.length>0&&m&&!y&&b(nt[0])},[nt,m,y]);const Ze=x.useMemo(()=>{if(!m||!y)return[];const I=new Map;return ae.forEach(F=>{if(F.namespace!==y||v.length>0&&!v.includes(F.pod))return;const B=`${F.namespace}/${F.pod}/${F.container}`,ne=I.get(B);(!ne||new Date(F.timestamp)>new Date(ne.timestamp))&&I.set(B,F)}),Array.from(I.values()).sort((F,B)=>F.namespace!==B.namespace?F.namespace.localeCompare(B.namespace):F.pod!==B.pod?F.pod.localeCompare(B.pod):F.container.localeCompare(B.container))},[ae,m,y,v]),ce=x.useMemo(()=>{if(!m||!y||e.length===0)return[];const I=e.filter(B=>B.clusterName===m&&B.namespace===y&&(v.length===0||v.includes(B.pod))),F=new Map;return I.forEach(B=>{const ne=`${B.namespace}/${B.pod}/${B.container}`,ve=F.get(ne);(!ve||new Date(B.timestamp)>new Date(ve.timestamp))&&F.set(ne,B)}),Array.from(F.values()).sort((B,ne)=>B.namespace!==ne.namespace?B.namespace.localeCompare(ne.namespace):B.pod!==ne.pod?B.pod.localeCompare(ne.pod):B.container.localeCompare(ne.container))},[e,m,y,v]),Ae=x.useMemo(()=>{const I=new Map;ce.forEach(B=>{I.has(B.container)||I.set(B.container,[]),I.get(B.container).push(B)});const F=Array.from(I.entries()).sort((B,ne)=>B[0].localeCompare(ne[0]));return F.forEach(([B,ne])=>{ne.sort((ve,fe)=>ve.pod.localeCompare(fe.pod))}),F},[ce]),Z=I=>{je(F=>{const B=new Set(F);return B.has(I)?B.delete(I):B.add(I),B})};x.useEffect(()=>{if(Ae.length>0){const I=new Set(Ae.map(([F])=>F));je(I)}},[Ae]);const me=x.useMemo(()=>{if(!m||!y)return[];const I=new Map,F=ae.filter(ne=>!(ne.clusterName!==m||ne.namespace!==y||v.length>0&&!v.includes(ne.pod))),B=new Map;for(const ne of F){const ve=Gr(ne.timestamp),fe=ve?Pa(ve):ne.timestamp,Ne=ve?ve.getTime():new Date(ne.timestamp).getTime();B.has(fe)||B.set(fe,Ne),I.has(fe)||I.set(fe,{timestamp:fe,timestampValue:Ne});const _e=I.get(fe),Ie=`${ne.namespace}/${ne.pod}/${ne.container}`;_e[`${Ie}_cpu`]=ne.cpuUsageCores,_e[`${Ie}_memory`]=ne.memoryUsageBytes/(1024*1024)}return Array.from(I.values()).sort((ne,ve)=>ne.timestampValue-ve.timestampValue)},[ae,m,y,v]),Pe=x.useMemo(()=>{if(me.length===0)return[];const I=new Set;return me.forEach(F=>{Object.keys(F).forEach(B=>{if(B.endsWith("_cpu")||B.endsWith("_memory")){const ne=B.replace(/_cpu$|_memory$/,"");I.add(ne)}})}),Array.from(I).sort()},[me]),Te=x.useMemo(()=>{const I=new Map;Ze.forEach(B=>{I.has(B.namespace)||I.set(B.namespace,{namespace:B.namespace,podCount:0,containerCount:0,totalCpuUsage:0,totalMemoryUsage:0,podsWithLimits:0,totalCpuLimit:0});const ne=I.get(B.namespace);ne.totalCpuUsage+=B.cpuUsageCores,ne.totalMemoryUsage+=B.memoryUsageBytes,B.cpuLimitCores!==null&&(ne.totalCpuLimit+=B.cpuLimitCores,ne.podsWithLimits++)}),Ze.forEach(B=>{const ne=I.get(B.namespace);ne.containerCount++});const F=new Map;return Ze.forEach(B=>{F.has(B.namespace)||F.set(B.namespace,new Set),F.get(B.namespace).add(B.pod)}),F.forEach((B,ne)=>{const ve=I.get(ne);ve&&(ve.podCount=B.size)}),Array.from(I.values()).sort((B,ne)=>B.namespace.localeCompare(ne.namespace))},[Ze]),Ye=I=>{const F=["B","KB","MB","GB","TB"];let B=I,ne=0;for(;B>=1024&&ne<F.length-1;)B/=1024,ne++;return`${B.toFixed(2)} ${F[ne]}`},Be=I=>I<60?`${I}s`:I<3600?`${Math.floor(I/60)}m`:I<86400?`${Math.floor(I/3600)}h`:`${Math.floor(I/86400)}d`,Zt=I=>I>=90?"text-red-500":I>=70?"text-yellow-500":"text-green-500",Sn=I=>I>=90?"bg-red-500":I>=70?"bg-yellow-500":"bg-green-500",dn=Le(),ir=Y&&we.length===0&&!dn?.isAdmin;return x.useEffect(()=>{ir&&r&&n(!1)},[ir,r]),r&&!ir?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{text:"Loading application metrics..."})}):ir?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(qt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"No Cluster Permissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to view any clusters. Please contact your administrator to request access to application metrics."})]})}):l?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-500 text-lg",children:l}),i.jsx("button",{onClick:()=>Re(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):i.jsxs("div",{className:"h-full overflow-y-auto p-6",children:[i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white text-gray-900",children:"Application Metrics"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor pod and container CPU and memory usage across namespaces"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cluster:"}),i.jsx("select",{value:m||"",onChange:I=>{g(I.target.value),b(null),S([]),_(!1)},className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                         dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                         focus:ring-2 focus:ring-blue-500 flex items-center gap-2`,children:we.map(I=>i.jsx("option",{value:I,children:I},I))})]}),i.jsxs("select",{value:d,onChange:I=>f(Number(I.target.value)),className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                       dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                       focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:5,children:"Last 5 minutes"}),i.jsx("option",{value:10,children:"Last 10 minutes"}),i.jsx("option",{value:30,children:"Last 30 minutes"}),i.jsx("option",{value:60,children:"Last 1 hour"}),i.jsx("option",{value:360,children:"Last 6 hours"}),i.jsx("option",{value:1440,children:"Last 24 hours"}),i.jsx("option",{value:2880,children:"Last 48 hours"}),i.jsx("option",{value:10080,children:"Last 7 days"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Auto refresh:"}),i.jsx(ii,{checked:D,onCheckedChange:M}),D&&i.jsxs("select",{value:L,onChange:I=>J(Number(I.target.value)),className:`px-3 py-1.5 rounded-lg dark:bg-gray-800 bg-white border 
                           dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:10,children:"10s"}),i.jsx("option",{value:30,children:"30s"}),i.jsx("option",{value:60,children:"60s"})]})]}),i.jsx("button",{onClick:()=>Re(!1),disabled:k,className:`px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                       flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
                       transition-colors`,children:i.jsx(kn,{className:`w-4 h-4 ${k?"animate-spin":""}`})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Namespaces"}),i.jsx(ud,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:nt.length})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Pods"}),i.jsx(Tl,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:De.length})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Containers"}),i.jsx(wr,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:Ze.length})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total CPU Usage"}),i.jsx(us,{className:"w-5 h-5 text-gray-400"})]}),i.jsxs("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:[Te.reduce((I,F)=>I+F.totalCpuUsage,0).toFixed(3)," cores"]})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Filters:"}),m&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Namespace:"}),i.jsxs("select",{value:y||"",onChange:I=>{b(I.target.value||null),S([]),_(!1)},className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                           dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 flex items-center gap-2 min-w-[200px]`,children:[i.jsx("option",{value:"",children:"Select Namespace"}),nt.map(I=>i.jsx("option",{value:I,children:I},I))]})]}),y&&i.jsxs("div",{className:"flex items-center gap-2 relative",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pod:"}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>{_(!E),E||j("")},className:`px-3 py-1 rounded-lg text-sm dark:bg-gray-800 bg-white border 
                             dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                             focus:ring-2 focus:ring-blue-500 min-w-[200px] text-left flex items-center justify-between gap-2`,children:[i.jsx("span",{className:"truncate",children:v.length===0?"All Pods":v.length===1?v[0]:`${v.length} pods selected`}),i.jsx(qc,{className:`w-4 h-4 transition-transform ${E?"rotate-180":""}`})]}),E&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>_(!1)}),i.jsxs("div",{className:`absolute z-20 mt-1 w-full max-w-[300px] dark:bg-gray-800 bg-white border 
                                    dark:border-gray-700 border-gray-300 rounded-lg shadow-lg max-h-64 overflow-hidden
                                    flex flex-col`,children:[i.jsxs("div",{className:"p-2 border-b dark:border-gray-700 border-gray-200 flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>S([...De]),className:"text-xs px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Select All"}),i.jsx("button",{type:"button",onClick:()=>S([]),className:"text-xs px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Clear All"})]}),v.length>0&&i.jsx("button",{type:"button",onClick:()=>S([]),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-3 h-3"})})]}),i.jsx("div",{className:"p-2 border-b dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(iu,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search pods...",value:O,onChange:I=>j(I.target.value),onClick:I=>I.stopPropagation(),className:`w-full pl-8 pr-3 py-1.5 text-sm dark:bg-gray-700 bg-gray-50 border 
                                       dark:border-gray-600 border-gray-300 rounded-lg 
                                       dark:text-white text-gray-900 
                                       focus:ring-2 focus:ring-blue-500 focus:border-blue-500
                                       placeholder-gray-400 dark:placeholder-gray-500`}),O&&i.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),j("")},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-3 h-3"})})]})}),i.jsx("div",{className:"overflow-y-auto max-h-48 p-2",children:Ve.length===0?i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No pods found"}):Ve.map(I=>i.jsxs("label",{className:"flex items-center gap-2 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:v.includes(I),onChange:F=>{F.target.checked?S([...v,I]):S(v.filter(B=>B!==I))},className:`w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded 
                                         focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 
                                         focus:ring-2 dark:bg-gray-700 dark:border-gray-600`}),i.jsx("span",{className:"text-sm dark:text-white text-gray-900 truncate",children:I})]},I))})]})]})]})]})]})}),m&&y&&me.length>0&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 relative",children:[k&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-3 flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4 animate-spin text-blue-500"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:"Updating..."})]})}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(us,{className:"w-5 h-5"}),"CPU Usage Over Time"]}),i.jsx("button",{onClick:()=>R("cpu"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:me,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"CPU (cores)",angle:-90,position:"insideLeft",dy:30,fontSize:15}}),i.jsx(Hn,{content:i.jsx(NS,{formatter:I=>`${I.toFixed(4)} cores`}),wrapperStyle:{zIndex:9999}}),i.jsx(oa,{content:I=>{const{payload:F}=I;return F?i.jsx("div",{className:"overflow-x-auto max-h-24 overflow-y-auto",children:i.jsx("div",{className:"flex flex-wrap gap-2 px-2 py-1",children:F.map((B,ne)=>i.jsxs("div",{className:"flex items-center gap-1.5 text-xs whitespace-nowrap",children:[i.jsx("div",{className:"w-3 h-0.5",style:{backgroundColor:B.color}}),i.jsx("span",{className:"dark:text-gray-300 text-gray-700",children:B.value})]},`legend-${ne}`))})}):null}}),Pe.map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24","#FB7185","#A78BFA","#818CF8","#60A5FA"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_cpu`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:I.split("/").pop()},`${I}_cpu`)})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(qn,{className:"w-5 h-5"}),"Memory Usage Over Time"]}),i.jsx("button",{onClick:()=>R("memory"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Expand chart",children:i.jsx(sl,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),i.jsx($n,{width:"100%",height:300,children:i.jsxs(fs,{data:me,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"Memory (MB)",angle:-90,position:"insideLeft",dy:35,fontSize:15}}),i.jsx(Hn,{content:i.jsx(NS,{formatter:I=>`${I.toFixed(2)} MB`}),wrapperStyle:{zIndex:9999}}),i.jsx(oa,{content:I=>{const{payload:F}=I;return F?i.jsx("div",{className:"overflow-x-auto max-h-24 overflow-y-auto",children:i.jsx("div",{className:"flex flex-wrap gap-2 px-2 py-1",children:F.map((B,ne)=>i.jsxs("div",{className:"flex items-center gap-1.5 text-xs whitespace-nowrap",children:[i.jsx("div",{className:"w-3 h-0.5",style:{backgroundColor:B.color}}),i.jsx("span",{className:"dark:text-gray-300 text-gray-700",children:B.value})]},`legend-${ne}`))})}):null}}),Pe.map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24","#FB7185","#A78BFA","#818CF8","#60A5FA"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_memory`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:I.split("/").pop()},`${I}_memory`)})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden relative",children:[k&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-3 flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4 animate-spin text-blue-500"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:"Updating..."})]})}),i.jsx("div",{className:"px-6 py-4 border-b dark:border-gray-700 border-gray-200",children:i.jsx("h3",{className:"text-lg font-semibold dark:text-white text-gray-900",children:"Pod & Container Details"})}),i.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pod"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Container"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pod State"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Restart Count"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pod Age"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CPU Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"CPU Limit"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Memory Usage"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Updated"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ae.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:m&&y?"No metrics available for the selected filters":"Please select a cluster and namespace to view metrics"})}):Ae.map(([I,F])=>{const B=se.has(I),ne=F.reduce((Ie,it)=>Ie+it.cpuUsageCores,0),ve=F.reduce((Ie,it)=>Ie+it.memoryUsageBytes,0),fe=F.reduce((Ie,it)=>Ie+(it.cpuLimitCores||0),0),Ne=new Set(F.map(Ie=>Ie.pod)).size,_e=fe>0?ne/fe*100:null;return i.jsxs(x.Fragment,{children:[i.jsx("tr",{className:"bg-gray-50 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>Z(I),children:i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",colSpan:9,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qc,{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform ${B?"rotate-0":"-rotate-90"}`}),i.jsx(wr,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"text-sm font-semibold dark:text-white text-gray-900",children:I}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",Ne," ",Ne===1?"pod":"pods",")"]})]}),i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total CPU:"}),i.jsxs("span",{className:`font-medium ${_e!==null?Zt(_e):"dark:text-white text-gray-900"}`,children:[ne.toFixed(4)," cores"]}),_e!==null&&i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",_e.toFixed(1),"%)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Total Memory:"}),i.jsx("span",{className:"font-medium dark:text-white text-gray-900",children:Ye(ve)})]})]})]})})}),B&&F.map((Ie,it)=>{const fr=Ie.cpuLimitCores!==null?Ie.cpuUsageCores/Ie.cpuLimitCores*100:null,Cn=Gr(Ie.timestamp);return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 bg-white dark:bg-gray-800",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap pl-12",children:i.jsxs("button",{onClick:Xs=>{Xs.stopPropagation(),te({namespace:Ie.namespace,pod:Ie.pod,container:Ie.container,clusterName:Ie.clusterName}),ee(!0)},className:"flex items-center hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[i.jsx(Tl,{className:"w-4 h-4 text-gray-400 mr-2"}),i.jsx("span",{className:"text-sm dark:text-white text-gray-900 hover:underline",children:Ie.pod})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm dark:text-white text-gray-900",children:Ie.container}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`text-sm font-medium ${Ie.podState==="Running"?"text-green-600 dark:text-green-400":Ie.podState==="Pending"?"text-yellow-600 dark:text-yellow-400":Ie.podState==="Failed"||Ie.podState==="CrashLoopBackOff"?"text-red-600 dark:text-red-400":"dark:text-white text-gray-900"}`,children:Ie.podState||"N/A"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm dark:text-white text-gray-900",children:Ie.restartCount!==void 0?Ie.restartCount:"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm dark:text-white text-gray-900",children:Ie.podAge!==void 0?Be(Ie.podAge):"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:`text-sm font-medium ${fr!==null?Zt(fr):"dark:text-white text-gray-900"}`,children:[Ie.cpuUsageCores.toFixed(4)," cores"]}),fr!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",fr.toFixed(1),"%)"]}),i.jsx("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:i.jsx("div",{className:`h-1.5 rounded-full ${Sn(fr)}`,style:{width:`${Math.min(fr,100)}%`}})})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Ie.cpuLimitCores!==null?`${Ie.cpuLimitCores} cores`:"No limit"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm dark:text-white text-gray-900",children:Ye(Ie.memoryUsageBytes)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:Cn?Pa(Cn):Ie.timestamp})]},`${Ie.namespace}-${Ie.pod}-${Ie.container}-${it}`)})]},I)})})]})})]})]}),A&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:()=>R(null),children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full h-full max-w-[95vw] max-h-[95vh] flex flex-col p-6",onClick:I=>I.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:A==="cpu"?i.jsxs(i.Fragment,{children:[i.jsx(us,{className:"w-6 h-6"}),"CPU Usage Over Time"]}):i.jsxs(i.Fragment,{children:[i.jsx(qn,{className:"w-6 h-6"}),"Memory Usage Over Time"]})}),i.jsx("button",{onClick:()=>R(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Close",children:i.jsx(B7,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),i.jsx("div",{className:"flex-1 min-h-0",children:i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:me,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:A==="cpu"?"CPU (cores)":"Memory (MB)",angle:-90,position:"insideLeft",dy:A==="cpu"?30:35,fontSize:15}}),i.jsx(Hn,{content:i.jsx(NS,{formatter:I=>A==="cpu"?`${I.toFixed(4)} cores`:`${I.toFixed(2)} MB`}),wrapperStyle:{zIndex:9999}}),i.jsx(oa,{content:I=>{const{payload:F}=I;return F?i.jsx("div",{className:"overflow-x-auto max-h-32 overflow-y-auto",children:i.jsx("div",{className:"flex flex-wrap gap-2 px-2 py-1",children:F.map((B,ne)=>i.jsxs("div",{className:"flex items-center gap-1.5 text-xs whitespace-nowrap",children:[i.jsx("div",{className:"w-3 h-0.5",style:{backgroundColor:B.color}}),i.jsx("span",{className:"dark:text-gray-300 text-gray-700",children:B.value})]},`legend-${ne}`))})}):null}}),Pe.map((I,F)=>{const B=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24","#FB7185","#A78BFA","#818CF8","#60A5FA"];return i.jsx(jn,{type:"monotone",dataKey:`${I}_${A}`,stroke:B[F%B.length],strokeWidth:2,dot:!1,connectNulls:!0,name:I.split("/").pop()},`${I}_${A}`)})]})})})]})}),q&&i.jsx(WCe,{isOpen:H,onClose:()=>{ee(!1),te(null)},namespace:q.namespace,pod:q.pod,container:q.container,clusterName:q.clusterName,hours:d})]})}function YCe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState([]),[m,g]=x.useState([]),[y,b]=x.useState(!1),[v,S]=x.useState(!1),[k,N]=x.useState(30),[E,_]=x.useState(new Set),[O,j]=x.useState(new Date),A=async(D=!0)=>{try{D?n(!0):s(!0),u(null);const M=await sr.getNodeMetrics(1);t(M)}catch(M){console.error("Failed to fetch metrics:",M),u("Failed to load cluster metrics"),xe.error("Failed to load cluster metrics",{position:"bottom-right"})}finally{n(!1),s(!1)}},R=()=>{const D=localStorage.getItem("userInfo");return D?JSON.parse(D):null},U=async()=>{try{const D=await sr.getClusters();f(D)}catch(D){console.error("Failed to fetch clusters:",D),xe.error("Failed to load clusters",{position:"bottom-right"})}},V=async()=>{const D=R();if(D?.id)try{const M=await zn.getUserClusters(D.id);g(M.map(L=>L.clusterName))}catch(M){console.error("Failed to fetch user clusters:",M)}},W=x.useMemo(()=>R()?.isAdmin?[...d].sort():m.length===0?[]:d.filter(M=>m.includes(M)).sort(),[d,m]);x.useEffect(()=>{(async()=>(await Promise.all([U(),V()]),b(!0)))()},[]),x.useEffect(()=>{A()},[]),x.useEffect(()=>{if(!v)return;const D=setInterval(()=>{A(!1)},k*1e3);return()=>clearInterval(D)},[v,k]),x.useEffect(()=>{const D=setInterval(()=>{j(new Date)},1e3);return()=>clearInterval(D)},[]);const G=x.useMemo(()=>{const D=new Set;return e.forEach(M=>{M.clusterEnvironment&&D.add(M.clusterEnvironment.toUpperCase())}),Array.from(D).sort()},[e]),$=x.useMemo(()=>{const D=new Map;e.forEach(L=>{if(!W.includes(L.clusterName))return;D.has(L.clusterName)||D.set(L.clusterName,{clusterName:L.clusterName,clusterEnvironment:L.clusterEnvironment,nodes:[],totalNodes:0,readyNodes:0,avgCpuUsage:0,avgMemoryUsage:0,totalCpuCores:0,totalMemoryBytes:0,usedCpuCores:0,usedMemoryBytes:0,kubernetesVersion:L.kubernetesVersion,cloudProvider:L.cloudProvider,nodesWithIssues:0}),D.get(L.clusterName).nodes.push(L)}),D.forEach(L=>{const J=new Map;L.nodes.forEach(we=>{const ae=J.get(we.nodeName);(!ae||new Date(we.timestamp)>new Date(ae.timestamp))&&J.set(we.nodeName,we)});const se=Array.from(J.values()).sort((we,ae)=>we.nodeName.localeCompare(ae.nodeName));L.totalNodes=se.length,L.readyNodes=se.filter(we=>we.isReady===!0).length,L.nodesWithIssues=se.filter(we=>we.isReady===!1||we.hasMemoryPressure===!0||we.hasDiskPressure===!0||we.hasPidPressure===!0).length;const je=se.reduce((we,ae)=>we+ae.cpuCapacityCores,0),Re=se.reduce((we,ae)=>we+ae.memoryCapacityBytes,0),Le=se.reduce((we,ae)=>we+ae.cpuUsageCores,0),Ce=se.reduce((we,ae)=>we+ae.memoryUsageBytes,0);L.totalCpuCores=je,L.totalMemoryBytes=Re,L.usedCpuCores=Le,L.usedMemoryBytes=Ce,L.avgCpuUsage=je>0?Le/je*100:0,L.avgMemoryUsage=Re>0?Ce/Re*100:0;const Q=new Date(Date.now()-600*1e3),Ee=se.length>0?new Date(Math.max(...se.map(we=>new Date(we.timestamp).getTime()))):null;L.lastUpdateTime=Ee||void 0,L.isOffline=Ee?Ee<Q:!0,L.latestNodes=se});let M=Array.from(D.values()).sort((L,J)=>L.clusterName.localeCompare(J.clusterName));return E.size>0&&(M=M.filter(L=>L.clusterEnvironment?E.has(L.clusterEnvironment.toUpperCase()):!1)),M},[e,W,E]),z=D=>D>=90?"text-red-500":D>=70?"text-yellow-500":"text-green-500",Y=D=>D>=90?"bg-red-500":D>=70?"bg-yellow-500":"bg-green-500",le=D=>{if(!D)return"bg-gray-500 text-white";switch(D.toUpperCase()){case"PROD":case"PRODUCTION":return"bg-red-500 text-white";case"TEST":case"TESTING":return"bg-green-500 text-white";case"DEV":case"DEVELOPMENT":return"bg-blue-500 text-white";case"QA":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},H=D=>{if(!D)return"Never";const M=O.getTime()-D.getTime(),L=Math.floor(M/1e3),J=Math.floor(L/60),se=Math.floor(J/60),je=Math.floor(se/24);return L<60?`${L} sec ago`:J<60?`${J} min ago`:se<24?`${se} hour${se!==1?"s":""} ago`:`${je} day${je!==1?"s":""} ago`},ee=D=>D.isOffline?"border-gray-400 bg-gray-100 dark:bg-gray-800/50":D.nodesWithIssues>0?"border-red-500 bg-red-50 dark:bg-red-900/20":D.avgCpuUsage>=90||D.avgMemoryUsage>=90?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"border-green-500 bg-green-50 dark:bg-green-900/20",q=R(),te=y&&W.length===0&&!q?.isAdmin;return r&&!te?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{text:"Loading clusters..."})}):te?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(qt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"No Cluster Permissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to view any clusters. Please contact your administrator to request access."})]})}):l?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-500 text-lg",children:l}),i.jsx("button",{onClick:()=>A(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):i.jsx("div",{className:"h-full overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"w-full space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900",children:"Clusters Diagram"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 text-sm",children:"Supervisory view of all clusters and their status"})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[G.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Environment:"}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[G.map(D=>{const M=E.has(D);return i.jsx("button",{onClick:()=>{const L=new Set(E);M?L.delete(D):L.add(D),_(L)},className:`px-2 py-1 rounded text-xs font-semibold transition-all ${M?`${le(D)} shadow-md`:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:D},D)}),E.size>0&&i.jsx("button",{onClick:()=>_(new Set),className:"px-2 py-1 rounded text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",children:"Clear"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Auto refresh:"}),i.jsx(ii,{checked:v,onCheckedChange:S}),v&&i.jsxs("select",{value:k,onChange:D=>N(Number(D.target.value)),className:`px-3 py-1.5 rounded-lg dark:bg-gray-800 bg-white border 
                           dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:10,children:"10s"}),i.jsx("option",{value:30,children:"30s"}),i.jsx("option",{value:60,children:"60s"})]})]}),i.jsx("button",{onClick:()=>A(!1),disabled:a,className:`px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                       flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
                       transition-colors text-sm`,children:i.jsx(kn,{className:`w-4 h-4 ${a?"animate-spin":""}`})})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:$.map(D=>i.jsxs("div",{className:`rounded-lg shadow-md border-2 p-3 transition-all hover:shadow-lg ${ee(D)}`,children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(vr,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[i.jsx("h2",{className:"text-sm font-bold dark:text-white text-gray-900 truncate",children:D.clusterName}),D.clusterEnvironment&&i.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-semibold ${le(D.clusterEnvironment)} flex-shrink-0`,children:D.clusterEnvironment.toUpperCase()})]}),i.jsx("div",{className:"flex items-center gap-1 mt-0.5",children:D.isOffline?i.jsxs(i.Fragment,{children:[i.jsx(qt,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Offline"})]}):D.nodesWithIssues===0?i.jsxs(i.Fragment,{children:[i.jsx(Dn,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"OK"})]}):i.jsxs(i.Fragment,{children:[i.jsx(ma,{className:"w-3 h-3 text-red-500 flex-shrink-0"}),i.jsxs("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:[D.nodesWithIssues," Issue",D.nodesWithIssues!==1?"s":""]})]})})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[i.jsx(R7,{className:"w-2.5 h-2.5 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate text-xs",children:D.kubernetesVersion||"N/A"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[i.jsx(M7,{className:"w-2.5 h-2.5 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate text-xs",children:D.cloudProvider||"N/A"})]})]}),D.lastUpdateTime&&i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[i.jsx(kn,{className:"w-2.5 h-2.5 flex-shrink-0"}),i.jsxs("span",{children:["Last update: ",H(D.lastUpdateTime)]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-1.5 mb-2",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Nodes"}),i.jsx(vr,{className:"w-3 h-3 text-gray-400"})]}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-base font-bold dark:text-white text-gray-900",children:D.readyNodes}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["/",D.totalNodes]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"CPU"}),i.jsx(us,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("div",{className:"flex items-baseline gap-1 mb-1",children:i.jsxs("span",{className:`text-base font-bold ${z(D.avgCpuUsage)}`,children:[D.avgCpuUsage.toFixed(0),"%"]})}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${Y(D.avgCpuUsage)}`,style:{width:`${Math.min(D.avgCpuUsage,100)}%`}})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"RAM"}),i.jsx(qn,{className:"w-3 h-3 text-gray-400"})]}),i.jsx("div",{className:"flex items-baseline gap-1 mb-1",children:i.jsxs("span",{className:`text-base font-bold ${z(D.avgMemoryUsage)}`,children:[D.avgMemoryUsage.toFixed(0),"%"]})}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${Y(D.avgMemoryUsage)}`,style:{width:`${Math.min(D.avgMemoryUsage,100)}%`}})})]})]}),D.latestNodes&&D.latestNodes.length>0&&i.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:D.latestNodes.map(M=>{const L=M.cpuUsageCores/M.cpuCapacityCores*100,J=M.memoryUsageBytes/M.memoryCapacityBytes*100;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded p-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900 truncate flex-1",children:M.nodeName.split("-").pop()||M.nodeName}),M.isReady===!1||M.hasMemoryPressure||M.hasDiskPressure||M.hasPidPressure?i.jsx(ma,{className:"w-2.5 h-2.5 text-red-500 flex-shrink-0 ml-1"}):i.jsx(Dn,{className:"w-2.5 h-2.5 text-green-500 flex-shrink-0 ml-1"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-0.5 mb-0.5",children:[i.jsx(us,{className:"w-2.5 h-2.5 text-gray-400 flex-shrink-0"}),i.jsxs("span",{className:`text-xs font-medium ${z(L)}`,children:[L.toFixed(0),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${Y(L)}`,style:{width:`${Math.min(L,100)}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-0.5 mb-0.5",children:[i.jsx(qn,{className:"w-2.5 h-2.5 text-gray-400 flex-shrink-0"}),i.jsxs("span",{className:`text-xs font-medium ${z(J)}`,children:[J.toFixed(0),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${Y(J)}`,style:{width:`${Math.min(J,100)}%`}})})]})]})]},M.nodeName)})})})]},D.clusterName))}),$.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(qt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No cluster data available"})]})]})})}function XCe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!0),[l,u]=x.useState(!1),[d,f]=x.useState(null),[m,g]=x.useState(1440),[y,b]=x.useState(5e3),[v,S]=x.useState(null),[k,N]=x.useState(null),[E,_]=x.useState("all"),[O,j]=x.useState("all"),[A,R]=x.useState([]),[U,V]=x.useState([]),[W,G]=x.useState(!1),[$,z]=x.useState([]),[Y,le]=x.useState(!1),[H,ee]=x.useState(30),[q,te]=x.useState(!1),[D,M]=x.useState(""),[L,J]=x.useState(1),[se,je]=x.useState(50),Re=()=>{const Z=localStorage.getItem("userInfo");return Z?JSON.parse(Z):null},Le=async()=>{try{const Z=await sr.getClusters();R(Z)}catch(Z){console.error("Failed to fetch clusters:",Z),xe.error("Failed to load clusters",{position:"bottom-right"})}},Ce=async()=>{const Z=Re();if(Z?.id)try{const me=await zn.getUserClusters(Z.id);V(me.map(Pe=>Pe.clusterName))}catch(me){console.error("Failed to fetch user clusters:",me)}},Q=async()=>{if(!v){z([]);return}try{const Z=await sr.getNamespaces(v);z(Z)}catch(Z){console.error("Failed to fetch namespaces:",Z),xe.error("Failed to load namespaces",{position:"bottom-right"})}},Ee=x.useMemo(()=>Re()?.isAdmin?[...A].sort((me,Pe)=>me.localeCompare(Pe,void 0,{sensitivity:"base"})):U.length===0?[]:A.filter(me=>U.includes(me)).sort((me,Pe)=>me.localeCompare(Pe,void 0,{sensitivity:"base"})),[A,U]),we=async(Z=!0)=>{try{Z&&a?n(!0):u(!0),f(null);const me=E==="all"?void 0:E,Pe=O==="all"?void 0:O,Te=await sr.getKubernetesEvents(k||void 0,Pe,void 0,me,m,y,v||void 0);t(Te),s(!1)}catch(me){console.error("Failed to fetch events:",me),f("Failed to load events"),xe.error("Failed to load events",{position:"bottom-right"})}finally{n(!1),u(!1)}};x.useEffect(()=>{(async()=>(await Promise.all([Le(),Ce()]),G(!0)))()},[]),x.useEffect(()=>{Ee.length>0&&!v?S(Ee[0]):v&&!Ee.includes(v)&&(Ee.length>0?S(Ee[0]):S(null))},[Ee,v]),x.useEffect(()=>{Q()},[v]),x.useEffect(()=>{v&&we(!!a)},[m,v,k,E,O,y]),x.useEffect(()=>{if(!Y||!v)return;const Z=setInterval(()=>{we(!1)},H*1e3);return()=>clearInterval(Z)},[Y,H,v]);const ae=x.useMemo(()=>{if(!D)return e;const Z=D.toLowerCase();return e.filter(me=>me.eventName.toLowerCase().includes(Z)||me.namespace.toLowerCase().includes(Z)||me.involvedObjectName.toLowerCase().includes(Z)||me.involvedObjectKind.toLowerCase().includes(Z)||me.reason.toLowerCase().includes(Z)||me.message.toLowerCase().includes(Z)||me.sourceComponent.toLowerCase().includes(Z))},[e,D]),nt=Math.ceil(ae.length/se),De=x.useMemo(()=>{const Z=(L-1)*se,me=Z+se;return ae.slice(Z,me)},[ae,L,se]);x.useEffect(()=>{J(1)},[D,k,E,O,v]);const Ve=x.useMemo(()=>{const Z=new Set(e.map(me=>me.involvedObjectKind).filter(Boolean));return Array.from(Z).sort()},[e]),Ze=Z=>{switch(Z?.toLowerCase()){case"warning":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 border-yellow-300 dark:border-yellow-700";case"normal":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-300 dark:border-green-700";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-700"}},ce=Re(),Ae=W&&Ee.length===0&&!ce?.isAdmin;return x.useEffect(()=>{Ae&&r&&n(!1)},[Ae,r]),r&&!Ae?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{text:"Loading events..."})}):Ae?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(qt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"No Cluster Permissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to view any clusters. Please contact your administrator to request access to cluster events."})]})}):d&&!v?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-500 text-lg",children:d}),i.jsx("button",{onClick:()=>we(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):i.jsx("div",{className:"h-full overflow-y-auto p-6",children:i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white text-gray-900",children:"Cluster Events"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Kubernetes events across your clusters"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2 lg:gap-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cluster:"}),i.jsx("select",{value:v||"",onChange:Z=>{S(Z.target.value),N(null)},className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                           dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500`,children:Ee.map(Z=>i.jsx("option",{value:Z,children:Z},Z))})]}),i.jsxs("select",{value:m,onChange:Z=>g(Number(Z.target.value)),className:`px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                         dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                         focus:ring-2 focus:ring-blue-500`,children:[i.jsx("option",{value:60,children:"1 hour"}),i.jsx("option",{value:240,children:"4 hours"}),i.jsx("option",{value:480,children:"8 hours"}),i.jsx("option",{value:1440,children:"24 hours"}),i.jsx("option",{value:2880,children:"48 hours"}),i.jsx("option",{value:10080,children:"7 days"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Refresh:"}),i.jsx(ii,{checked:Y,onCheckedChange:le}),Y&&i.jsxs("select",{value:H,onChange:Z=>ee(Number(Z.target.value)),className:`px-3 py-1.5 rounded-lg dark:bg-gray-800 bg-white border 
                             dark:border-gray-700 border-gray-300 dark:text-white text-gray-900
                             focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:10,children:"10s"}),i.jsx("option",{value:30,children:"30s"}),i.jsx("option",{value:60,children:"60s"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-4",children:[i.jsxs("button",{onClick:()=>te(!q),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm
                         dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-200
                         dark:text-gray-300 text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700
                         transition-colors duration-200`,children:[i.jsx(U7,{className:"w-4 h-4"}),"Filters",q?i.jsx(xy,{className:"w-4 h-4"}):i.jsx(qc,{className:"w-4 h-4"})]}),i.jsx("button",{onClick:()=>we(!1),disabled:l,className:`px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg
                         flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed
                         transition-colors`,children:i.jsx(kn,{className:`w-4 h-4 ${l?"animate-spin":""}`})})]})]})]}),q&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-semibold dark:text-white text-gray-900",children:"Advanced Filters"}),i.jsx("button",{onClick:()=>{N(null),_("all"),j("all"),M("")},className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"Clear all"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Namespace"}),i.jsxs("select",{value:k||"",onChange:Z=>N(Z.target.value||null),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 bg-white border 
                           dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:"",children:"All Namespaces"}),$.map(Z=>i.jsx("option",{value:Z,children:Z},Z))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Event Type"}),i.jsxs("select",{value:E,onChange:Z=>_(Z.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 bg-white border 
                           dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"Normal",children:"Normal"}),i.jsx("option",{value:"Warning",children:"Warning"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Object Kind"}),i.jsxs("select",{value:O,onChange:Z=>j(Z.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 bg-white border 
                           dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                           focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:"all",children:"All Kinds"}),Ve.map(Z=>i.jsx("option",{value:Z,children:Z},Z))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),i.jsxs("div",{className:"relative",children:[i.jsx(iu,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx("input",{type:"text",value:D,onChange:Z=>M(Z.target.value),placeholder:"Search events...",className:`w-full pl-8 pr-8 py-2 rounded-lg dark:bg-gray-700 bg-white border 
                             dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                             focus:ring-2 focus:ring-blue-500 text-sm`}),D&&i.jsx("button",{onClick:()=>M(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.jsx(Dt,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Items per page:"}),i.jsxs("select",{value:se,onChange:Z=>{je(Number(Z.target.value)),J(1)},className:`px-3 py-1.5 rounded-lg dark:bg-gray-700 bg-white border 
                         dark:border-gray-600 border-gray-300 dark:text-white text-gray-900
                         focus:ring-2 focus:ring-blue-500 text-sm`,children:[i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"}),i.jsx("option",{value:200,children:"200"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden relative",children:[l&&i.jsx("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 z-10 flex items-center justify-center rounded-lg",children:i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-3 flex items-center gap-2",children:[i.jsx(kn,{className:"w-4 h-4 animate-spin text-blue-500"}),i.jsx("span",{className:"text-xs font-medium dark:text-white text-gray-900",children:"Updating..."})]})}),i.jsxs("div",{className:"px-4 py-3 border-b dark:border-gray-700 border-gray-200 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-base font-semibold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4"}),"Events (",ae.length,")"]}),!v&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Please select a cluster to view events"})]}),v?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Timestamp"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Namespace"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Object"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Reason"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Message"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Source"}),i.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Count"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ae.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-3 py-6 text-center text-xs text-gray-500 dark:text-gray-400",children:r?"Loading events...":"No events found"})}):De.map(Z=>{const me=Gr(Z.timestamp);return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400",children:me?pCe(me,{month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):Z.timestamp}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:i.jsx("span",{className:`px-1.5 py-0.5 text-xs font-semibold rounded border ${Ze(Z.eventType)}`,children:Z.eventType||"Unknown"})}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 dark:text-white",children:Z.namespace}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"text-xs",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:Z.involvedObjectName}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Z.involvedObjectKind})]})}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 dark:text-white",children:Z.reason}),i.jsx("td",{className:"px-3 py-2 text-xs text-gray-900 dark:text-white max-w-md",children:i.jsx("div",{className:"truncate",title:Z.message,children:Z.message})}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400",children:Z.sourceComponent||"-"}),i.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400",children:Z.count})]},Z.eventUid)})})]})}),ae.length>0&&nt>1&&i.jsxs("div",{className:"px-4 py-3 border-t dark:border-gray-700 border-gray-200 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",(L-1)*se+1," to ",Math.min(L*se,ae.length)," of ",ae.length," events"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>J(Z=>Math.max(1,Z-1)),disabled:L===1,className:`px-2 py-1.5 rounded-lg dark:bg-gray-700 bg-white border dark:border-gray-600 border-gray-300
                               dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-100 
                               disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200
                               flex items-center gap-1 text-xs`,children:[i.jsx(mE,{className:"w-3 h-3"}),"Previous"]}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2",children:["Page ",L," of ",nt]}),i.jsxs("button",{onClick:()=>J(Z=>Math.min(nt,Z+1)),disabled:L===nt,className:`px-2 py-1.5 rounded-lg dark:bg-gray-700 bg-white border dark:border-gray-600 border-gray-300
                               dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-100 
                               disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200
                               flex items-center gap-1 text-xs`,children:["Next",i.jsx(Pd,{className:"w-3 h-3"})]})]})]})]}):i.jsxs("div",{className:"px-4 py-8 text-center",children:[i.jsx(qt,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please select a cluster to view events"})]})]})]})})}class JCe{async getClusterPrices(t,r=1440){try{return(await xn.get("/api/cluster-prices",{params:{clusterName:t,minutes:r}})).data}catch(n){throw console.error("Failed to fetch cluster prices:",n),n}}}const QCe=new JCe;function ZCe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!0),[l,u]=x.useState(!1),[d,f]=x.useState(null),[m,g]=x.useState(1440),[y,b]=x.useState(null),[v,S]=x.useState([]),[k,N]=x.useState([]),[E,_]=x.useState(!1),[O,j]=x.useState(!1),[A,R]=x.useState(30),U=()=>{const D=localStorage.getItem("userInfo");return D?JSON.parse(D):null},V=async()=>{try{const D=await sr.getClusters();S(D)}catch(D){console.error("Failed to fetch clusters:",D),xe.error("Failed to load clusters",{position:"bottom-right"})}},W=async()=>{const D=U();if(D?.id)try{const M=await zn.getUserClusters(D.id);N(M.map(L=>L.clusterName))}catch(M){console.error("Failed to fetch user clusters:",M)}},G=x.useMemo(()=>U()?.isAdmin?[...v].sort((M,L)=>M.localeCompare(L,void 0,{sensitivity:"base"})):k.length===0?[]:v.filter(M=>k.includes(M)).sort((M,L)=>M.localeCompare(L,void 0,{sensitivity:"base"})),[v,k]),$=async(D=!0)=>{if(!y){t([]),n(!1),u(!1);return}try{D&&a?n(!0):u(!0),f(null);const M=await QCe.getClusterPrices(y,m);t(M),s(!1)}catch(M){console.error("Failed to fetch prices:",M),f("Failed to load prices"),xe.error("Failed to load prices",{position:"bottom-right"})}finally{n(!1),u(!1)}};x.useEffect(()=>{(async()=>(await Promise.all([V(),W()]),_(!0)))()},[]),x.useEffect(()=>{G.length>0&&!y?b(G[0]):y&&!G.includes(y)&&(G.length>0?b(G[0]):b(null))},[G,y]),x.useEffect(()=>{E&&y&&$()},[y,m,E]),x.useEffect(()=>{if(!O||!y)return;const D=setInterval(()=>{$(!1)},A*1e3);return()=>clearInterval(D)},[O,A,y,m]);const z=x.useMemo(()=>{if(e.length===0)return[];const D={};return e.forEach(M=>{const L=M.timestamp;D[L]||(D[L]=0),D[L]+=M.unitPrice}),Object.entries(D).map(([M,L])=>({timestamp:M,clusterPrice:L})).sort((M,L)=>{const J=new Date(M.timestamp).getTime(),se=new Date(L.timestamp).getTime();return J-se})},[e]),Y=x.useMemo(()=>{if(e.length===0)return[];const D={},M=new Set;return e.forEach(L=>{M.add(L.nodeName);const J=L.timestamp;D[J]||(D[J]={}),D[J][L.nodeName]=L.unitPrice}),Object.entries(D).map(([L,J])=>({timestamp:L,...J})).sort((L,J)=>{const se=new Date(L.timestamp).getTime(),je=new Date(J.timestamp).getTime();return se-je})},[e]),le=x.useMemo(()=>Array.from(new Set(e.map(D=>D.nodeName))).sort(),[e]),H=["#818CF8","#94A3B8","#A78BFA","#60A5FA","#34D399","#FBBF24","#FB7185","#A855F7","#10B981","#F59E0B","#EF4444","#06B6D4"],ee=x.useMemo(()=>{if(e.length===0)return 0;const D=new Map;e.forEach(J=>{const se=J.nodeName;D.has(se)||D.set(se,0);const je=D.get(se)||0;D.set(se,Math.max(je,J.unitPrice))});const M=m/60;let L=0;return D.forEach(J=>{L+=J*M}),L},[e,m]),q=x.useMemo(()=>{if(e.length===0)return 0;const D=new Map;[...e].sort((J,se)=>new Date(se.timestamp).getTime()-new Date(J.timestamp).getTime()).forEach(J=>{D.has(J.nodeName)||D.set(J.nodeName,J.unitPrice)});let L=0;return D.forEach(J=>{L+=J}),L*730},[e]),te=D=>{if(D<60)return`${D} minute${D!==1?"s":""}`;const M=Math.round(D/60);if(D<1440)return`${M} hour${M!==1?"s":""}`;const L=Math.round(D/1440);return`${L} day${L!==1?"s":""}`};return i.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(yc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cluster Prices"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:()=>$(!1),disabled:l||!y,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(kn,{className:`w-4 h-4 ${l?"animate-spin":""}`}),"Refresh"]})})]}),i.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cluster"}),i.jsxs("select",{value:y||"",onChange:D=>b(D.target.value||null),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!E,children:[i.jsx("option",{value:"",children:"Select a cluster"}),G.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Period"}),i.jsxs("select",{value:m,onChange:D=>g(Number(D.target.value)),className:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:60,children:"Last Hour"}),i.jsx("option",{value:240,children:"Last 4 Hours"}),i.jsx("option",{value:480,children:"Last 8 Hours"}),i.jsx("option",{value:1440,children:"Last 24 Hours"}),i.jsx("option",{value:2880,children:"Last 48 Hours"}),i.jsx("option",{value:4320,children:"Last 3 Days"}),i.jsx("option",{value:10080,children:"Last 7 Days"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Auto Refresh"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:D=>j(D.target.checked),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]}),O&&i.jsxs("select",{value:A,onChange:D=>R(Number(D.target.value)),className:"px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[i.jsx("option",{value:10,children:"Every 10s"}),i.jsx("option",{value:30,children:"Every 30s"}),i.jsx("option",{value:60,children:"Every 60s"})]})]})]})})]})})]}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:r&&a?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(Je,{size:"lg"})}):d?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-600 dark:text-red-400 text-lg",children:d}),i.jsx("button",{onClick:()=>$(),className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Retry"})]})}):y?e.length===0?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(yc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No price data available for the selected cluster and time period"})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Estimated Cost"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["$",ee.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["For ",te(m)]})]}),i.jsx(yc,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nodes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:le.length}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Active nodes"})]}),i.jsx(yE,{className:"w-8 h-8 text-green-600 dark:text-green-400"})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Est. Current Monthly Cost"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["$",q.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Based on current prices"})]}),i.jsx(yc,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Cluster Price Over Time"}),i.jsx("div",{className:"h-64",children:i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:z,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80,tickFormatter:D=>{try{const M=Gr(D);return Pa(M)}catch(M){return console.error("Error formatting tick:",M),"Invalid Date"}}}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"Total Price per Hour (USD)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}},tickFormatter:D=>`$${D.toFixed(3)}`}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"12px",padding:"8px"},labelFormatter:D=>{try{const M=Gr(D);return Pa(M)}catch{return D}},formatter:D=>`$${D.toFixed(4)}/hr`}),i.jsx(jn,{type:"monotone",dataKey:"clusterPrice",stroke:"#818CF8",strokeWidth:3,dot:!1,activeDot:{r:6},name:"Cluster Price"})]})})})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Price Over Time by Node"}),i.jsx("div",{className:"h-64",children:i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:Y,children:[i.jsx(ds,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),i.jsx(Ra,{dataKey:"timestamp",stroke:"#6B7280",fontSize:12,angle:-45,textAnchor:"end",height:80,tickFormatter:D=>{try{const M=Gr(D);return Pa(M)}catch(M){return console.error("Error formatting tick:",M),"Invalid Date"}}}),i.jsx(Da,{stroke:"#6B7280",fontSize:12,label:{value:"Price per Hour (USD)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}},tickFormatter:D=>`$${D.toFixed(3)}`}),i.jsx(Hn,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB",fontSize:"12px",padding:"8px"},labelFormatter:D=>{try{const M=Gr(D);return Pa(M)}catch{return D}},formatter:D=>`$${D.toFixed(4)}/hr`}),i.jsx(oa,{wrapperStyle:{fontSize:"12px"},formatter:D=>D}),le.map((D,M)=>i.jsx(jn,{type:"monotone",dataKey:D,stroke:H[M%H.length],strokeWidth:2,dot:!1,activeDot:{r:4},name:D},D))]})})})]})]}):i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(yc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Please select a cluster to view prices"})]})})})]})}function ES(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,n)).toFixed(2))} ${r[n]}`}function B$(e){return`${(e/1024**3).toFixed(2)} GB`}const eNe=({active:e,payload:t,label:r})=>!e||!t?.length?null:i.jsxs("div",{className:"bg-gray-800 dark:bg-gray-900 border border-gray-700 rounded-lg shadow-xl px-3 py-2 text-sm",children:[i.jsx("div",{className:"font-medium text-gray-200 border-b border-gray-600 pb-1 mb-1",children:r}),t.map(n=>i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx("span",{className:"w-3 h-0.5 rounded",style:{backgroundColor:n.color}}),i.jsxs("span",{children:[n.name,":"]}),i.jsx("span",{className:"font-medium",children:B$(n.value)})]},n.name))]});function tNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!0),[l,u]=x.useState(null),[d,f]=x.useState(1440),[m,g]=x.useState(null),[y,b]=x.useState(null),[v,S]=x.useState(!1),[k,N]=x.useState([]),[E,_]=x.useState([]),[O,j]=x.useState([]),[A,R]=x.useState(!1),U=async(D=!0)=>{try{D&&a?n(!0):S(!0),u(null);const M=await sr.getPvcMetrics(y||void 0,d,m||void 0);t(M),s(!1)}catch(M){console.error("Failed to fetch PVC metrics:",M),u("Failed to load volume metrics"),xe.error("Failed to load volume metrics",{position:"bottom-right"})}finally{n(!1),S(!1)}};x.useEffect(()=>{m&&U(!a)},[d,m,y]);const V=()=>{const D=localStorage.getItem("userInfo");return D?JSON.parse(D):null},W=async()=>{try{const D=await sr.getClusters();N(D)}catch(D){console.error("Failed to fetch clusters:",D),xe.error("Failed to load clusters",{position:"bottom-right"})}},G=async()=>{const D=V();if(D?.id)try{const M=await zn.getUserClusters(D.id);j(M.map(L=>L.clusterName))}catch(M){console.error("Failed to fetch user clusters:",M)}},$=async()=>{if(m)try{const D=await sr.getNamespaces(m);_(D)}catch(D){console.error("Failed to fetch namespaces:",D),xe.error("Failed to load namespaces",{position:"bottom-right"})}},z=x.useMemo(()=>V()?.isAdmin?[...k].sort((M,L)=>M.localeCompare(L,void 0,{sensitivity:"base"})):O.length===0?[]:k.filter(M=>O.includes(M)).sort((M,L)=>M.localeCompare(L,void 0,{sensitivity:"base"})),[k,O]),Y=x.useMemo(()=>[...E].sort((D,M)=>D.localeCompare(M,void 0,{sensitivity:"base"})),[E]);x.useEffect(()=>{(async()=>(await Promise.all([W(),G()]),R(!0)))()},[]),x.useEffect(()=>{m&&$()},[m]),x.useEffect(()=>{z.length>0&&!m?g(z[0]):m&&!z.includes(m)?(g(z[0]??null),b(null)):z.length===0&&m&&(g(null),b(null))},[z,m]);const le=x.useMemo(()=>{if(!e.length)return[];const D=new Map,M=new Set;return e.forEach(L=>{const J=Gr(L.timestamp),se=J?Pa(J):L.timestamp,je=J?J.getTime():new Date(L.timestamp).getTime(),Re=`${L.volumeName} (${L.pod})`;M.add(Re),D.has(se)||D.set(se,{timestamp:se,timestampValue:je});const Le=D.get(se);Le[Re]=L.usedBytes}),Array.from(D.values()).sort((L,J)=>L.timestampValue-J.timestampValue)},[e]),H=x.useMemo(()=>{const D=new Map;return e.forEach(M=>{const L=`${M.clusterName}/${M.pvcNamespace}/${M.pvcName}/${M.pod}`,J=D.get(L);(!J||new Date(M.timestamp)>new Date(J.timestamp))&&D.set(L,M)}),Array.from(D.values()).sort((M,L)=>M.volumeName!==L.volumeName?M.volumeName.localeCompare(L.volumeName):M.pod.localeCompare(L.pod))},[e]),ee=["#6366f1","#8b5cf6","#a855f7","#06b6d4","#10b981","#f59e0b","#ef4444","#ec4899"],q=x.useMemo(()=>{const D=new Set;return e.forEach(M=>D.add(`${M.volumeName} (${M.pod})`)),Array.from(D).sort()},[e]),te=A&&z.length===0&&!V()?.isAdmin;return!A||a&&!m?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Je,{size:"lg"})}):te?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center max-w-md",children:[i.jsx(qt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"No Cluster Permissions"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to view any clusters. Please contact your administrator to request access to volume metrics."})]})}):l?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-500 text-lg",children:l}),i.jsx("button",{onClick:()=>U(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):i.jsx("div",{className:"h-full overflow-y-auto p-6",children:i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold dark:text-white text-gray-900 flex items-center gap-2",children:[i.jsx(qn,{className:"w-8 h-8 text-indigo-500"}),"Volume Metrics"]}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"PVC disk usage and capacity across clusters and namespaces"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Cluster:"}),i.jsx("select",{value:m??"",onChange:D=>{g(D.target.value||null),b(null)},className:"px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:z.map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:"Namespace:"}),i.jsxs("select",{value:y??"",onChange:D=>b(D.target.value||null),className:"px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"All namespaces"}),Y.map(D=>i.jsx("option",{value:D,children:D},D))]})]}),i.jsxs("select",{value:d,onChange:D=>f(Number(D.target.value)),className:"px-4 py-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:5,children:"Last 5 minutes"}),i.jsx("option",{value:10,children:"Last 10 minutes"}),i.jsx("option",{value:30,children:"Last 30 minutes"}),i.jsx("option",{value:60,children:"Last 1 hour"}),i.jsx("option",{value:360,children:"Last 6 hours"}),i.jsx("option",{value:1440,children:"Last 24 hours"}),i.jsx("option",{value:2880,children:"Last 48 hours"}),i.jsx("option",{value:10080,children:"Last 7 days"})]}),i.jsxs("button",{onClick:()=>U(!1),disabled:v,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx(kn,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Refresh"]})]})]}),m&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden",children:[i.jsx("h2",{className:"text-lg font-semibold dark:text-white text-gray-900 p-4 pb-0",children:"PVC details (latest)"}),i.jsx("div",{className:"overflow-x-auto max-h-[480px] overflow-y-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"sticky top-0 bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Namespace"}),i.jsx("th",{className:"px-4 py-3",children:"Pod"}),i.jsx("th",{className:"px-4 py-3",children:"Volume"}),i.jsx("th",{className:"px-4 py-3",children:"PVC name"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Used"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Available"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Capacity"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Usage %"}),i.jsx("th",{className:"px-4 py-3",children:"Last updated"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:H.map(D=>{const M=D.capacityBytes>0?(D.usedBytes/D.capacityBytes*100).toFixed(1):"0",L=parseFloat(M)>=85,J=parseFloat(M)>=70&&parseFloat(M)<85;return i.jsxs("tr",{className:"bg-white dark:bg-gray-800/50 hover:bg-gray-50 dark:hover:bg-gray-800",children:[i.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:D.namespace}),i.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:D.pod}),i.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:D.volumeName}),i.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300 font-mono text-xs",children:D.pvcName}),i.jsx("td",{className:"px-4 py-3 text-right text-gray-700 dark:text-gray-300",children:ES(D.usedBytes)}),i.jsx("td",{className:"px-4 py-3 text-right text-gray-700 dark:text-gray-300",children:ES(D.availableBytes)}),i.jsx("td",{className:"px-4 py-3 text-right text-gray-700 dark:text-gray-300",children:ES(D.capacityBytes)}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("span",{className:L?"text-red-600 dark:text-red-400 font-medium":J?"text-amber-600 dark:text-amber-400 font-medium":"text-gray-700 dark:text-gray-300",children:[M,"%"]})}),i.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-xs",children:Gr(D.timestamp)?Pa(Gr(D.timestamp)):D.timestamp})]},`${D.clusterName}-${D.pvcName}-${D.pod}`)})})]})}),H.length===0&&!r&&i.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No PVC metrics found for the selected cluster and namespace."})]}),le.length>0&&q.length>0&&i.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 p-4 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-4",children:"Disk usage over time"}),i.jsx("div",{className:"h-[360px]",children:i.jsx($n,{width:"100%",height:"100%",children:i.jsxs(fs,{data:le,margin:{top:10,right:30,left:0,bottom:0},children:[i.jsx(ds,{strokeDasharray:"3 3",className:"stroke-gray-200 dark:stroke-gray-700"}),i.jsx(Ra,{dataKey:"timestamp",tick:{fontSize:11},className:"text-gray-600 dark:text-gray-400"}),i.jsx(Da,{tick:{fontSize:11},tickFormatter:D=>B$(D),className:"text-gray-600 dark:text-gray-400"}),i.jsx(Hn,{content:i.jsx(eNe,{})}),i.jsx(oa,{}),q.map((D,M)=>i.jsx(jn,{type:"monotone",dataKey:D,name:D,stroke:ee[M%ee.length],strokeWidth:2,dot:!1,activeDot:{r:4}},D))]})})})]})]})]})})}function rNe(){const{monitorId:e}=Gx(),[t,r]=Kt.useState(null);return Kt.useEffect(()=>{e&&He.getMonitor(parseInt(e,10)).then(r).catch(console.error)},[e]),t?i.jsxs("div",{className:"p-4",children:[i.jsxs("h1",{className:"text-2xl font-semibold dark:text-white",children:["Monitor Details: ",e]}),i.jsx(F$,{metric:t,onMetricUpdate:n=>{r(n)}})]}):i.jsx("div",{children:"Loading..."})}const nNe=e=>{switch(e){case 1:return"Development";case 2:return"Staging";case 3:return"QA";case 4:return"Testing";case 5:return"PreProd";case 6:return"Production";default:return"Unknown"}},aNe=[{value:"7",label:"Last 7 Days"},{value:"15",label:"Last 15 Days"},{value:"30",label:"Last 30 Days"},{value:"60",label:"Last 60 Days"},{value:"90",label:"Last 90 Days"}],sNe=[{value:"0",label:"All Environments"},{value:"1",label:"Development"},{value:"2",label:"Staging"},{value:"3",label:"QA"},{value:"4",label:"Testing"},{value:"5",label:"PreProd"},{value:"6",label:"Production"}],iNe=[{value:"all",label:"All Types"},{value:"monitor",label:"Monitor"},{value:"metrics",label:"Metrics"}],oNe=[10,25,50,100],YD=[{label:"Timestamp",key:"timeStamp"},{label:"Type",key:"type"},{label:"Source",key:"source"},{label:"Message",key:"message"},{label:"Details",key:"details"}];function XD(){const{monitorId:e}=Gx(),[t,r]=Ote(),[n,a]=x.useState([]),[s,l]=x.useState([]),[u,d]=x.useState(!0),[f]=x.useState(null),[m,g]=x.useState("7"),[y,b]=x.useState("0"),[v,S]=x.useState("all"),[k,N]=x.useState(t.get("cluster")||""),[E,_]=x.useState([]),[O,j]=x.useState(""),[A,R]=x.useState(1),[U,V]=x.useState(25);x.useEffect(()=>{(async()=>{try{const Y=await sr.getClusters();_(Y)}catch(Y){console.error("Failed to fetch clusters:",Y)}})()},[]);const W=Kt.useRef(!0);x.useEffect(()=>{if(W.current){W.current=!1;return}k?r({cluster:k},{replace:!0}):r({},{replace:!0})},[k,r]),x.useEffect(()=>{(async()=>{try{d(!0);const Y=e?parseInt(e,10):0,le=parseInt(m,10),[H,ee]=await Promise.all([He.getMonitorAlerts(Y,le).catch(L=>(console.error("Failed to fetch monitor alerts:",L),xe.error("Failed to fetch monitor alerts",{position:"bottom-right"}),[])),sr.getMetricsAlerts(le,k||void 0,void 0).catch(L=>(console.error("Failed to fetch metrics alerts:",L),xe.error("Failed to fetch metrics alerts",{position:"bottom-right"}),[]))]),q=H.map(L=>({...L,type:"monitor"})),te=ee.map(L=>({...L,type:"metrics"})),M=[...q,...te].sort((L,J)=>new Date(J.timeStamp).getTime()-new Date(L.timeStamp).getTime());a(M),l(M)}catch(Y){console.error("Failed to fetch alerts:",Y),xe.error("Failed to fetch alerts",{position:"bottom-right"})}finally{d(!1)}})()},[e,m,k]),x.useEffect(()=>{let z=n;if(v!=="all"&&(z=z.filter(Y=>Y.type===v)),k&&(z=z.filter(Y=>Y.type==="metrics"?Y.clusterName===k:!0)),y!=="0"&&(z=z.filter(Y=>Y.type==="monitor"?Y.environment===parseInt(y,10):!0)),O){const Y=O.toLowerCase();z=z.filter(le=>le.type==="monitor"?le.monitorName.toLowerCase().includes(Y)||le.message.toLowerCase().includes(Y)||le.urlToCheck.toLowerCase().includes(Y):le.clusterName.toLowerCase().includes(Y)||le.message.toLowerCase().includes(Y)||le.nodeName&&le.nodeName.toLowerCase().includes(Y))}l(z),R(1)},[O,n,y,v,k]);const G=Math.ceil(s.length/U),$=s.slice((A-1)*U,A*U);return u?i.jsx("div",{className:"h-full flex items-center justify-center dark:bg-gray-900 bg-gray-50 transition-colors duration-200",children:i.jsx(Je,{size:"xl",text:"Loading alerts..."})}):i.jsxs("div",{className:"h-full flex flex-col dark:bg-gray-900 bg-gray-50 transition-colors duration-200",children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-1",children:"Time Period"}),i.jsx("select",{value:m,onChange:z=>g(z.target.value),className:`w-full rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                       dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:aNe.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-1",children:"Type"}),i.jsx("select",{value:v,onChange:z=>S(z.target.value),className:`w-full rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                       dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:iNe.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-1",children:"Cluster"}),i.jsxs("select",{value:k,onChange:z=>N(z.target.value),className:`w-full rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                       dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:[i.jsx("option",{value:"",children:"All Clusters"}),E.map(z=>i.jsx("option",{value:z,children:z},z))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-1",children:"Environment"}),i.jsx("select",{value:y,onChange:z=>b(z.target.value),className:`w-full rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                       dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:sNe.map(z=>i.jsx("option",{value:z.value,children:z.label},z.value))})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-1",children:"Search"}),i.jsxs("div",{className:"relative",children:[i.jsx(iu,{className:"absolute left-3 top-2.5 w-5 h-5 dark:text-gray-400 text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search alerts...",value:O,onChange:z=>j(z.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 
                         border-gray-300 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500 
                         dark:focus:ring-blue-400 transition-colors duration-200`})]})]})]})}),i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col px-6",children:[f?i.jsxs("div",{className:`rounded-lg dark:bg-red-900/20 bg-red-50 p-4 mb-4 flex items-center gap-3
                        dark:text-red-200 text-red-700`,children:[i.jsx(qt,{className:"w-5 h-5"}),f]}):i.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:i.jsxs("div",{className:"relative flex-1 overflow-auto",children:[u&&i.jsx("div",{className:"absolute inset-0 bg-gray-900/10 dark:bg-gray-900/50 flex items-center justify-center",children:i.jsx(Je,{size:"lg"})}),i.jsxs("table",{className:"w-full dark:bg-gray-800 bg-white rounded-lg shadow-xs",children:[i.jsx("thead",{children:i.jsx("tr",{className:"dark:bg-gray-700 bg-gray-50",children:YD.map(({label:z,key:Y})=>i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:z},Y))})}),i.jsx("tbody",{children:$.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:YD.length,className:"px-4 py-8 text-center dark:text-gray-400 text-gray-500",children:"No alerts found matching your criteria"})}):$.map(z=>i.jsxs("tr",{className:`dark:hover:bg-gray-700 hover:bg-gray-50 
                                                  border-t dark:border-gray-700 border-gray-200
                                                  transition-colors duration-200`,children:[i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-900",children:gCe(z.timeStamp)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium
                                           ${z.type==="monitor"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-200"}`,children:z.type==="monitor"?"Monitor":"Metrics"})}),i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-900",children:z.type==="monitor"?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:z.monitorName}),i.jsx("div",{className:"text-sm text-gray-500",children:z.urlToCheck}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium
                                                 ${z.environment===6?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200":z.environment===2?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200"}`,children:nNe(z.environment)})})]}):i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:z.clusterName}),z.nodeName&&i.jsxs("div",{className:"text-sm text-gray-500",children:["Node: ",z.nodeName]})]})}),i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-900",children:z.message}),i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-900",children:z.type==="monitor"?i.jsx("div",{children:i.jsxs("div",{children:["Offline: ",z.periodOffline," min"]})}):i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium
                                                 ${z.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"}`,children:z.status?"Healthy":"Unhealthy"})}),z.metricName&&i.jsxs("div",{children:["Metric: ",z.metricName]}),z.threshold!==void 0&&z.currentValue!==void 0&&i.jsxs("div",{className:"text-gray-500",children:["Value: ",z.currentValue," / Threshold: ",z.threshold]})]})})]},`${z.type}-${z.id}`))})]})]})}),i.jsx("div",{className:"mt-4 py-4 border-t dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm dark:text-gray-300 text-gray-700",children:"Records per page:"}),i.jsx("select",{value:U,onChange:z=>{V(Number(z.target.value)),R(1)},className:`rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                         dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                         transition-colors duration-200`,children:oNe.map(z=>i.jsx("option",{value:z,children:z},z))})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>R(z=>Math.max(1,z-1)),disabled:A===1,className:`px-3 py-2 rounded-lg dark:bg-gray-800 bg-white dark:text-white text-gray-900
                         dark:hover:bg-gray-700 hover:bg-gray-100 disabled:opacity-50
                         transition-colors duration-200`,children:"Previous"}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:["Page ",A," of ",G]}),i.jsx("button",{onClick:()=>R(z=>Math.min(G,z+1)),disabled:A===G,className:`px-3 py-2 rounded-lg dark:bg-gray-800 bg-white dark:text-white text-gray-900
                         dark:hover:bg-gray-700 hover:bg-gray-100 disabled:opacity-50
                         transition-colors duration-200`,children:"Next"})]})]})})]})]})}function lNe({group:e,onConfirm:t,onCancel:r,isDeleting:n}){return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Delete Monitor Group"}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"dark:text-gray-300 text-gray-700 mb-4",children:['Are you sure you want to delete the group "',e.name,'"?']}),e.monitorCount>0&&i.jsxs("div",{className:`p-4 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 
                          text-yellow-800 dark:text-yellow-200 flex items-start gap-3`,children:[i.jsx(qt,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Warning: Group has active monitors"}),i.jsxs("p",{className:"text-sm",children:["This group contains ",e.monitorCount," monitor",e.monitorCount===1?"":"s",". Deleting this group will remove all monitor assignments."]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                     dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-200
                     transition-colors duration-200`,children:"Cancel"}),i.jsxs("button",{onClick:t,disabled:n,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                     disabled:opacity-50 flex items-center gap-2`,children:[n?i.jsx(Je,{size:"sm"}):i.jsx(Ks,{className:"w-4 h-4"}),n?"Deleting...":"Delete Group"]})]})]})})}function cNe(){const[e,t]=x.useState(""),[r,n]=x.useState({key:"name",direction:"asc"}),[a,s]=x.useState(null),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(null),[v,S]=x.useState([]),[k,N]=x.useState(""),[E]=x.useState(!1),[_,O]=x.useState("create"),[j,A]=x.useState(1),[R,U]=x.useState(10),V=[10,25,50,100],W=async()=>{try{g(!0);const M=await He.getMonitorGroupListByUser();S(M||[])}catch(M){console.error("Failed to fetch monitor groups:",M),b({type:"error",message:"Failed to load monitor groups"}),S([])}finally{g(!1)}};x.useEffect(()=>{W()},[]);const $=[...v.filter(M=>M.name.toLowerCase().includes(e.toLowerCase()))].sort((M,L)=>{const J=M[r.key].toString().toLowerCase(),se=L[r.key].toString().toLowerCase();return r.direction==="asc"?J.localeCompare(se):se.localeCompare(J)}),z=M=>{n(L=>({key:M,direction:L.key===M&&L.direction==="asc"?"desc":"asc"}))},Y=async()=>{if(a)try{g(!0),await He.deleteMonitorGroup(a.id),xe.success("Monitor group deleted successfully",{position:"bottom-right"}),u(!1),s(null),await W()}catch(M){console.error("Failed to delete monitor group:",M),M.response?.status===400?xe.error("Cannot delete group: Please remove all monitors from this group first",{position:"bottom-right",duration:5e3}):xe.error("Failed to delete monitor group",{position:"bottom-right"})}finally{g(!1)}},le=M=>{const L={id:M.id,name:M.name,description:M.description,monitorCount:M.monitorCount,createdAt:new Date().toISOString(),isActive:!0,monitors:[],avgUptime1Hr:0,avgUptime24Hrs:0,avgUptime7Days:0,avgUptime30Days:0,avgUptime3Months:0,avgUptime6Months:0};O("edit"),s(L),N(M.name),f(!0)},H=async()=>{if(!k.trim()){xe.error("Group name cannot be empty",{position:"bottom-right"});return}g(!0);try{_==="edit"&&a?(await He.updateMonitorGroup({id:Number(a.id),name:k}),xe.success("Monitor group updated successfully",{position:"bottom-right"})):_==="create"&&(await He.addMonitorGroup(k),xe.success("Group added successfully",{position:"bottom-right"})),await W(),f(!1),s(null),N(""),O("create")}catch(M){console.error("Failed to handle monitor group:",M),xe.error(_==="edit"?"Failed to update monitor group":"Failed to add group",{position:"bottom-right"})}finally{g(!1)}},ee=()=>{O("create"),s(null),N(""),f(!0)},q=()=>{f(!1),s(null),N(""),O("create")},te=Math.ceil($.length/R),D=$.slice((j-1)*R,j*R);return i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen transition-colors duration-200",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"Monitor Groups"}),i.jsx("p",{className:"dark:text-gray-400 text-gray-600",children:"Manage and organize your monitoring setup"})]}),i.jsxs("button",{onClick:ee,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 
                     text-white transition-colors duration-200`,children:[i.jsx(Gc,{className:"w-5 h-5"}),"Create New Group"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(iu,{className:"absolute left-3 top-2.5 w-5 h-5 dark:text-gray-400 text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search monitor groups...",value:e,onChange:M=>t(M.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg dark:bg-gray-800 bg-white border 
                     dark:border-gray-700 border-gray-300 dark:text-white text-gray-900 
                     focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                     transition-colors duration-200`})]})]}),y&&i.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center gap-2 ${y.type==="success"?"dark:bg-green-900/20 bg-green-50 dark:text-green-200 text-green-800":"dark:bg-red-900/20 bg-red-50 dark:text-red-200 text-red-800"}`,children:[y.type==="success"?i.jsx(hi,{className:"w-5 h-5"}):i.jsx(qt,{className:"w-5 h-5"}),y.message]}),i.jsxs("div",{className:"relative",children:[m&&i.jsx("div",{className:`absolute inset-0 bg-gray-900/10 dark:bg-gray-900/50 
                        flex items-center justify-center z-10`,children:i.jsx(Je,{size:"lg"})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"dark:bg-gray-700 bg-gray-50",children:[i.jsx("th",{onClick:()=>z("name"),className:`px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700 cursor-pointer
                             dark:hover:bg-gray-600 hover:bg-gray-100 transition-colors duration-200`,children:i.jsxs("div",{className:"flex items-center gap-2",children:["Name",r.key==="name"&&(r.direction==="asc"?i.jsx(xy,{className:"w-4 h-4"}):i.jsx(qc,{className:"w-4 h-4"}))]})}),i.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium dark:text-gray-300 text-gray-700",children:""})]})}),i.jsx("tbody",{children:D.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:2,className:"px-4 py-8 text-center dark:text-gray-400 text-gray-500",children:"No monitor groups found"})}):D.map(M=>i.jsxs("tr",{className:"border-t dark:border-gray-700 border-gray-200 transition-colors duration-200",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("div",{className:"dark:text-white text-gray-900 font-medium",children:M.name}),i.jsx("div",{className:"text-sm dark:text-gray-400 text-gray-500",children:M.description})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>le(M),className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                     transition-colors duration-200 text-blue-500 dark:text-blue-400`,title:"Edit Group",children:i.jsx(pE,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>{const L={id:M.id,name:M.name,description:M.description,monitorCount:M.monitorCount,createdAt:new Date().toISOString(),isActive:!0,monitors:[],avgUptime1Hr:0,avgUptime24Hrs:0,avgUptime7Days:0,avgUptime30Days:0,avgUptime3Months:0,avgUptime6Months:0};s(L),u(!0)},className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                     transition-colors duration-200 text-red-500 dark:text-red-400`,title:"Delete Group",children:i.jsx(Ks,{className:"w-5 h-5"})})]})})]},M.id))})]})})})]}),l&&a&&i.jsx(lNe,{group:a,onConfirm:Y,onCancel:()=>{u(!1),s(null)},isDeleting:m}),d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:_==="edit"?"Edit Group":"Create New Group"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Group Name"}),i.jsx("input",{type:"text",value:k,onChange:M=>N(M.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                           dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter group name"})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:q,className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                           dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsxs("button",{onClick:H,disabled:m||E,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                           disabled:opacity-50 flex items-center gap-2`,children:[m||E?i.jsx(Je,{size:"sm"}):i.jsx(Gc,{className:"w-4 h-4"}),m||E?_==="edit"?"Updating...":"Creating...":_==="edit"?"Update Group":"Create Group"]})]})]})]})}),i.jsx("div",{className:"mt-4 py-4 border-t dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm dark:text-gray-300 text-gray-700",children:"Records per page:"}),i.jsx("select",{value:R,onChange:M=>{U(Number(M.target.value)),A(1)},className:`rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                       dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                       transition-colors duration-200`,children:V.map(M=>i.jsx("option",{value:M,children:M},M))})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>A(M=>Math.max(1,M-1)),disabled:j===1,className:`px-3 py-2 rounded-lg dark:bg-gray-800 bg-white dark:text-white text-gray-900
                       dark:hover:bg-gray-700 hover:bg-gray-100 disabled:opacity-50
                       transition-colors duration-200`,children:"Previous"}),i.jsxs("span",{className:"dark:text-gray-300 text-gray-700",children:["Page ",j," of ",te]}),i.jsx("button",{onClick:()=>A(M=>Math.min(te,M+1)),disabled:j===te,className:`px-3 py-2 rounded-lg dark:bg-gray-800 bg-white dark:text-white text-gray-900
                       dark:hover:bg-gray-700 hover:bg-gray-100 disabled:opacity-50
                       transition-colors duration-200`,children:"Next"})]})]})})]})}const JD=e=>({1:"Europe",2:"Oceania",3:"North America",4:"South America",5:"Africa",6:"Asia",7:"Custom",8:"Custom2",9:"Custom3",10:"Custom4",11:"Custom5"})[e]||"Unknown",uNe=e=>({1:i.jsx(cs,{className:"w-4 h-4 text-blue-500"}),2:i.jsx(cs,{className:"w-4 h-4 text-green-500"}),3:i.jsx(cs,{className:"w-4 h-4 text-purple-500"}),4:i.jsx(cs,{className:"w-4 h-4 text-orange-500"}),5:i.jsx(cs,{className:"w-4 h-4 text-red-500"}),6:i.jsx(cs,{className:"w-4 h-4 text-indigo-500"}),7:i.jsx(vr,{className:"w-4 h-4 text-gray-500"}),8:i.jsx(vr,{className:"w-4 h-4 text-gray-500"}),9:i.jsx(vr,{className:"w-4 h-4 text-gray-500"}),10:i.jsx(vr,{className:"w-4 h-4 text-gray-500"}),11:i.jsx(vr,{className:"w-4 h-4 text-gray-500"})})[e]||i.jsx(vr,{className:"w-4 h-4 text-gray-500"});function dNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(null),[l,u]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const b=localStorage.getItem("authToken"),v=await Jt.get("https://monitoring.alerthawk.net/monitoring/api/Monitor/allMonitorAgents",{headers:{Authorization:`Bearer ${b}`}});t(v.data)}catch(b){console.error("Failed to fetch agents:",b),s("Failed to load monitor agents")}finally{n(!1)}})()},[]);const d=e.length,f=e.reduce((y,b)=>y+b.listTasks,0),m=e.find(y=>y.isMaster),g=e.filter(y=>y.listTasks>0).length;return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900 bg-gray-50",children:i.jsx(Je,{size:"lg",text:"Loading monitor agents..."})}):a?i.jsx("div",{className:"min-h-screen flex items-center justify-center dark:bg-gray-900 bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:i.jsx(qt,{className:"w-8 h-8 text-red-500"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Failed to Load Agents"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a})]})}):i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen transition-colors duration-200",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-xl",children:i.jsx(vr,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white text-gray-900",children:"Monitor Agents"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and monitor your distributed monitoring infrastructure"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-xl",children:i.jsx(vr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Total Agents"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-xl",children:i.jsx(wr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Active Monitors"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-xl",children:i.jsx(U0,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Active Agents"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-all duration-200",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/20 rounded-xl",children:i.jsx(N6,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Master Agent"}),i.jsx("button",{onClick:()=>u(!0),className:"p-1 text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-full transition-colors duration-200",title:"Learn about Master Agent",children:i.jsx(g2,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m?JD(m.monitorRegion):"None"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["v",m?.version||"N/A"]})]})]})})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsx("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:i.jsx(vr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),i.jsx("h2",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Agent List"}),i.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-sm text-gray-600 dark:text-gray-400 rounded-full",children:[d," agents"]})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"dark:bg-gray-700/50 bg-gray-50",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Agent Details"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Location"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Tasks"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Version"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Status"})]})}),i.jsx("tbody",{children:e.map((y,b)=>i.jsxs("tr",{className:`dark:hover:bg-gray-700/50 hover:bg-gray-50 transition-all duration-200 ${b===0?"":"border-t dark:border-gray-700/50 border-gray-200"}`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${y.isMaster?"bg-purple-100 dark:bg-purple-900/20":"bg-gray-100 dark:bg-gray-700"}`,children:i.jsx(vr,{className:`w-5 h-5 ${y.isMaster?"text-purple-600 dark:text-purple-400":"text-gray-600 dark:text-gray-400"}`})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold dark:text-white text-gray-900",children:y.hostname}),y.isMaster&&i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800 
                                         dark:bg-purple-900/20 dark:text-purple-200`,children:"Master"})]})})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[uNe(y.monitorRegion),i.jsx("span",{className:"font-medium dark:text-gray-300 text-gray-700",children:JD(y.monitorRegion)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${y.listTasks>0?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-200"}`,children:[y.listTasks," ",y.listTasks===1?"task":"tasks"]})})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"font-mono text-sm dark:text-gray-300 text-gray-700",children:["v",y.version]})})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${y.listTasks>0?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200"}`,children:[i.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${y.listTasks>0?"bg-green-500":"bg-yellow-500"}`}),y.listTasks>0?"Active":"Idle"]})})]},y.id))})]})})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-2xl dark:bg-gray-800 bg-white rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700 border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/20 rounded-lg",children:i.jsx(N6,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900",children:"Monitor Manager"})]}),i.jsx("button",{onClick:()=>u(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6 leading-relaxed",children:"The Monitor Manager system distributes monitoring tasks across multiple agents for optimal performance and reliability."}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-semibold dark:text-white text-gray-900 mb-3",children:"How It Works"}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:[i.jsx("strong",{children:"Scenario with 600 items to monitor:"})," The Monitor Master fetches the list, checks which monitors are online, and distributes the tasks among them:"]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Master:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 1:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 2:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 3:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 4:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 5:"})," 100 tasks"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),i.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[i.jsx("strong",{children:"Monitor Child 6:"})," 100 tasks"]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium dark:text-white text-gray-900 mb-1",children:"Master Failover"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"If the master monitor goes offline, one of the child agents automatically assumes the master role."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium dark:text-white text-gray-900 mb-1",children:"Dynamic Redistribution"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"If any child monitor goes offline, the 600 tasks are automatically redistributed among the remaining active agents."})]})]})]})]}),i.jsx("div",{className:"flex justify-end p-6 border-t dark:border-gray-700 border-gray-200",children:i.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-medium transition-colors duration-200",children:"Got it"})})]})})]})}class pd{static instance;static getInstance(){return pd.instance||(pd.instance=new pd),pd.instance}async getNotifications(){return(await hl.get("/api/Notification/SelectNotificationItemList")).data}async getNotificationTypes(){return(await hl.get("/api/NotificationType/GetNotificationType")).data}async createNotification(t){try{return{success:!0,data:(await hl.post("/api/Notification/createNotificationItem",t)).data}}catch(r){return{success:!1,error:r}}}async updateNotification(t){try{const r={id:t.id,monitorGroupId:t.monitorGroupId,name:t.name,notificationTypeId:t.notificationTypeId,description:t.description,notificationSlack:{notificationId:0,channel:t.notificationSlack?.channel||"",webHookUrl:t.notificationSlack?.webHookUrl||""},notificationEmail:{notificationId:0,fromEmail:t.notificationEmail?.fromEmail||"",toEmail:t.notificationEmail?.toEmail||"",hostname:t.notificationEmail?.hostname||"",port:t.notificationEmail?.port||0,username:t.notificationEmail?.username||"",password:t.notificationEmail?.password||"",toCCEmail:t.notificationEmail?.toCCEmail||"",toBCCEmail:t.notificationEmail?.toCCEmail,enableSsl:t.notificationEmail?.enableSsl,subject:t.notificationEmail?.subject||"",body:t.notificationEmail?.body||"",isHtmlBody:t.notificationEmail?.isHtmlBody||!1},notificationTeams:{notificationId:0,webHookUrl:t.notificationTeams?.webHookUrl||""},notificationTelegram:{notificationId:0,chatId:t.notificationTelegram?.chatId||0,telegramBotToken:t.notificationTelegram?.telegramBotToken||""},notificationWebHook:{notificationId:0,message:t.notificationWebHook?.message,webHookUrl:t.notificationWebHook?.webHookUrl,body:t.notificationWebHook?.body,headersJson:t.notificationWebHook?.headersJson,headers:[{item1:t.notificationWebHook?.headers?.item1||"",item2:t.notificationWebHook?.headers?.item2||""}]}};return{success:!0,data:(await hl.put("/api/Notification/UpdateNotificationItem",r)).data}}catch(r){return{success:!1,error:r}}}async deleteNotification(t){try{return await hl.delete(`/api/Notification/DeleteNotificationItem?id=${t}`),{success:!0}}catch(r){return{success:!1,error:r}}}}const Gi=pd.getInstance();function fNe({onClose:e,onSave:t,notification:r,monitorGroups:n}){const[a,s]=x.useState(r?.name||""),[l,u]=x.useState(r?.description||""),[d,f]=x.useState(r?.notificationTypeId||1),[m,g]=x.useState([]),[y,b]=x.useState({teams:{webHookUrl:r?.notificationTeams?.webHookUrl||""},slack:{webHookUrl:r?.notificationSlack?.webHookUrl||"",channel:r?.notificationSlack?.channel||""},telegram:{chatId:r?.notificationTelegram?.chatId||"",telegramBotToken:r?.notificationTelegram?.telegramBotToken||""},webhook:{message:r?.notificationWebHook?.message||"",webHookUrl:r?.notificationWebHook?.webHookUrl||"",body:r?.notificationWebHook?.body||"",headers:r?.notificationWebHook?.headersJson||""},email:{fromEmail:r?.notificationEmail?.fromEmail||"",hostname:r?.notificationEmail?.hostname||"",port:r?.notificationEmail?.port||"",username:r?.notificationEmail?.username||"",password:r?.notificationEmail?.password||"",toEmail:r?.notificationEmail?.toEmail||"",toCCEmail:r?.notificationEmail?.toCCEmail||"",toBCCEmail:r?.notificationEmail?.toBCCEmail||"",enableSsl:r?.notificationEmail?.enableSsl||!1,subject:r?.notificationEmail?.subject||"",isHtmlBody:r?.notificationEmail?.isHtmlBody||!1,body:r?.notificationEmail?.body||""}}),[v,S]=x.useState(!1),[k,N]=x.useState(r?.monitorGroupId||n[0]?.id||1);x.useEffect(()=>{(async()=>{try{const A=await Gi.getNotificationTypes();g(A)}catch(A){console.error("Failed to fetch notification types:",A),xe.error("Failed to load notification types",{position:"bottom-right"})}})()},[]);const E=(j,A,R)=>{b(U=>({...U,[j]:{...U[j],[A]:R}}))},_=async j=>{j.preventDefault(),S(!0);try{const A={id:r?.id||0,monitorGroupId:k,name:a,notificationTypeId:d,description:l,notificationSlack:{notificationId:0,channel:"",webHookUrl:""},notificationEmail:{notificationId:0,fromEmail:"",toEmail:"",hostname:"",port:0,username:"",password:"",toCCEmail:"",toBCCEmail:"",enableSsl:!0,subject:"",body:"",isHtmlBody:!0},notificationTeams:{notificationId:0,webHookUrl:""},notificationTelegram:{notificationId:0,chatId:0,telegramBotToken:""},notificationWebHook:{notificationId:0,message:"",webHookUrl:"",body:"",headersJson:"",headers:[{item1:"",item2:""}]}};switch(d){case 1:A.notificationEmail={notificationId:0,fromEmail:y.email.fromEmail,toEmail:y.email.toEmail,hostname:y.email.hostname,port:Number(y.email.port),username:y.email.username,password:y.email.password,toCCEmail:y.email.toCCEmail,toBCCEmail:y.email.toBCCEmail,enableSsl:y.email.enableSsl,subject:y.email.subject,body:y.email.body,isHtmlBody:y.email.isHtmlBody};break;case 2:A.notificationTeams={notificationId:0,webHookUrl:y.teams.webHookUrl};break;case 3:A.notificationTelegram={notificationId:0,chatId:Number(y.telegram.chatId),telegramBotToken:y.telegram.telegramBotToken};break;case 4:A.notificationSlack={notificationId:0,channel:y.slack.channel,webHookUrl:y.slack.webHookUrl};break;case 5:A.notificationWebHook={notificationId:0,message:y.webhook.message,webHookUrl:y.webhook.webHookUrl,body:y.webhook.body,headersJson:y.webhook.headers,headers:[{item1:y.webhook.headers.item1,item2:y.webhook.headers.item2}]};break;case 6:break}(await t(A)).success?(xe.success(r?"Notification updated successfully":"Notification created successfully",{position:"bottom-right"}),e()):xe.error(r?"Failed to update notification":"Failed to create notification",{position:"bottom-right"})}catch{xe.error(r?"Failed to update notification":"Failed to create notification",{position:"bottom-right"})}finally{S(!1)}},O=()=>{switch(d){case 2:return i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Webhook URL"}),i.jsx("input",{type:"text",value:y.teams.webHookUrl,onChange:j=>E("teams","webHookUrl",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter Teams webhook URL"})]});case 4:return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Webhook URL"}),i.jsx("input",{type:"text",value:y.slack.webHookUrl,onChange:j=>E("slack","webHookUrl",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter Slack webhook URL"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Channel Name"}),i.jsx("input",{type:"text",value:y.slack.channel,onChange:j=>E("slack","channel",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter channel name"})]})]});case 3:return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Chat ID"}),i.jsx("input",{type:"number",value:y.telegram.chatId,onChange:j=>{const A=parseInt(j.target.value);E("telegram","chatId",isNaN(A)?"":A.toString())},className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter chat ID (numbers only)",step:"1",onKeyDown:j=>{(j.key==="."||j.key==="e")&&j.preventDefault()}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Telegram Bot Token"}),i.jsx("input",{type:"text",value:y.telegram.telegramBotToken,onChange:j=>E("telegram","telegramBotToken",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter bot token"})]})]});case 5:return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Message"}),i.jsx("input",{type:"text",value:y.webhook.message,onChange:j=>E("webhook","message",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter message"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Webhook URL"}),i.jsx("input",{type:"text",value:y.webhook.webHookUrl,onChange:j=>E("webhook","webHookUrl",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter webhook URL"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Body"}),i.jsx("textarea",{value:y.webhook.body,onChange:j=>E("webhook","body",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter body",rows:4})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Headers (JSON)"}),i.jsx("textarea",{value:y.webhook.headers,onChange:j=>E("webhook","headers",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter headers in JSON format",rows:4})]})]});case 1:return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"From Email"}),i.jsx("input",{type:"email",value:y.email.fromEmail,onChange:j=>E("email","fromEmail",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter from email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"SMTP Server (Hostname)"}),i.jsx("input",{type:"text",value:y.email.hostname,onChange:j=>E("email","hostname",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter SMTP server hostname"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Port"}),i.jsx("input",{type:"number",value:y.email.port,onChange:j=>E("email","port",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter port"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Username"}),i.jsx("input",{type:"text",value:y.email.username,onChange:j=>E("email","username",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter username"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Password"}),i.jsx("input",{type:"password",value:y.email.password,onChange:j=>E("email","password",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter password",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"To Email"}),i.jsx("input",{type:"email",value:y.email.toEmail,onChange:j=>E("email","toEmail",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"To email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"CC Email"}),i.jsx("input",{type:"email",value:y.email.toCCEmail,onChange:j=>E("email","toCCEmail",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"CC email"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"BCC Email"}),i.jsx("input",{type:"email",value:y.email.toBCCEmail,onChange:j=>E("email","toBCCEmail",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                         dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"BCC email"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:y.email.enableSsl,onChange:j=>E("email","enableSsl",j.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded-sm focus:ring-blue-500"}),i.jsx("label",{className:"ml-2 text-sm font-medium dark:text-gray-300",children:"Enable SSL"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:y.email.isHtmlBody,onChange:j=>E("email","isHtmlBody",j.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded-sm focus:ring-blue-500"}),i.jsx("label",{className:"ml-2 text-sm font-medium dark:text-gray-300",children:"HTML Body"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Subject"}),i.jsx("input",{type:"text",value:y.email.subject,onChange:j=>E("email","subject",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter subject"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Body"}),i.jsx("textarea",{value:y.email.body,onChange:j=>E("email","body",j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter email body",rows:4})]})]});default:return null}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-[70%] dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg p-6 relative",children:[i.jsx("button",{onClick:e,className:`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700
                   transition-colors duration-200 text-gray-500 dark:text-gray-400`,title:"Close",children:i.jsx(Dt,{className:"w-5 h-5"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:r?"Edit Notification":"Create Notification"}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto px-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Name"}),i.jsx("input",{type:"text",value:a,onChange:j=>s(j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                     dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter notification name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                     dark:text-white focus:ring-2 focus:ring-blue-500`,placeholder:"Enter description"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Notification Type"}),i.jsx("select",{value:d,onChange:j=>f(Number(j.target.value)),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                     dark:text-white focus:ring-2 focus:ring-blue-500`,children:m.map(j=>i.jsx("option",{value:j.id,children:j.name},j.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Monitor Group"}),i.jsx("select",{value:k,onChange:j=>N(Number(j.target.value)),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`,children:n.map(j=>i.jsx("option",{value:j.id,children:j.name},j.id))})]}),O(),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                     dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:_,disabled:v,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                       disabled:opacity-50 flex items-center gap-2`,children:v?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),r?"Updating...":"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gc,{className:"w-4 h-4"}),r?"Update":"Create"]})})]})]})]})})}const hNe=e=>{const t="w-4 h-4 dark:text-gray-300 text-gray-600";switch(e){case 1:return i.jsx(Yx,{className:t});case 2:return i.jsx(hf,{className:t});case 3:return i.jsx(C6,{className:t});case 4:return i.jsx(une,{className:t});case 5:return i.jsx(xE,{className:t});case 6:return i.jsx(C6,{className:t});default:return i.jsx(ff,{className:t})}};function mNe({notification:e,onConfirm:t,onCancel:r,isDeleting:n}){return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg p-6 relative",children:[i.jsx("button",{onClick:r,className:`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700
                   transition-colors duration-200 text-gray-500 dark:text-gray-400`,title:"Close",children:i.jsx(Dt,{className:"w-5 h-5"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Delete Notification"}),i.jsxs("p",{className:"dark:text-gray-300 text-gray-600 mb-6",children:['Are you sure you want to delete the notification "',e.name,'"? This action cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:r,className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                     dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsxs("button",{onClick:t,disabled:n,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                     disabled:opacity-50 flex items-center gap-2`,children:[n?i.jsx(Je,{size:"sm"}):i.jsx(Ks,{className:"w-4 h-4"}),n?"Deleting...":"Delete"]})]})]})})}function gNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(!1),[l]=x.useState(null),[u,d]=x.useState([]),[f,m]=x.useState(null),[g,y]=x.useState(!1),[b,v]=x.useState(null),[S,k]=x.useState(!1),[N,E]=x.useState([]);x.useEffect(()=>{(async()=>{try{n(!0);const[R,U,V]=await Promise.all([Gi.getNotifications(),Gi.getNotificationTypes(),He.getMonitorGroupListByUser()]);t(R),d(U),E(V)}catch(R){console.error("Failed to fetch data:",R),xe.error("Failed to load data",{position:"bottom-right"})}finally{n(!1)}})()},[]);const _=A=>u.find(U=>U.id===A)?.name||"Unknown",O=async A=>{try{if(f){const R={id:f.id,monitorGroupId:A.monitorGroupId||f.monitorGroupId,name:A.name||f.name,notificationTypeId:A.notificationTypeId||f.notificationTypeId,description:A.description||f.description,notificationSlack:A.notificationSlack||{notificationId:0,channel:"",webHookUrl:""},notificationEmail:A.notificationEmail||{notificationId:0,fromEmail:"",toEmail:"",hostname:"",port:0,username:"",password:"",toCCEmail:"",toBCCEmail:"",enableSsl:!0,subject:"",body:"",isHtmlBody:!0},notificationTeams:A.notificationTeams||{notificationId:0,webHookUrl:""},notificationTelegram:A.notificationTelegram||{notificationId:0,chatId:0,telegramBotToken:""},notificationWebHook:A.notificationWebHook||{notificationId:0,message:"",webHookUrl:"",body:"",headersJson:"",headers:[{item1:"",item2:""}]}};if((await Gi.updateNotification(R)).success){const V=await Gi.getNotifications();return t(V),{success:!0}}}else{await Gi.createNotification(A);const R=await Gi.getNotifications();return t(R),{success:!0}}return{success:!1}}catch(R){return console.error("Failed to save notification:",R),{success:!1,error:R}}},j=A=>N.find(U=>U.id===A)?.name||"Unknown Group";return r?i.jsx("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen flex items-center justify-center",children:i.jsx(Je,{text:"Loading notifications..."})}):i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen transition-colors duration-200",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"Notification Management"}),i.jsx("p",{className:"dark:text-gray-400 text-gray-600",children:"Configure and manage notification channels"})]}),i.jsxs("button",{onClick:()=>{m(null),s(!0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 
                     text-white transition-colors duration-200`,children:[i.jsx(Gc,{className:"w-5 h-5"}),"Add Notification"]})]}),l&&i.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center gap-2 ${l.type==="success"?"dark:bg-green-900/20 bg-green-50 dark:text-green-200 text-green-800":"dark:bg-red-900/20 bg-red-50 dark:text-red-200 text-red-800"}`,children:[l.type==="success"?i.jsx(hi,{className:"w-5 h-5"}):i.jsx(qt,{className:"w-5 h-5"}),l.message]}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"dark:bg-gray-700 bg-gray-50",children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Description"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Type"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Group"}),i.jsx("th",{className:"w-10 px-4 py-3"})]})}),i.jsx("tbody",{children:e.map(A=>i.jsxs("tr",{className:`dark:hover:bg-gray-700 hover:bg-gray-50 border-t 
                                             dark:border-gray-700 border-gray-200 transition-colors duration-200`,children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[hNe(A.notificationTypeId),i.jsx("span",{className:"dark:text-white text-gray-900 font-medium",children:A.name})]})}),i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-700",children:A.description}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                                     bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200`,children:_(A.notificationTypeId)})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                                     bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`,children:j(A.monitorGroupId)})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>{m(A),s(!0)},className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                   transition-colors duration-200 text-blue-500 dark:text-blue-400`,title:"Edit Notification",children:i.jsx(pE,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>{v(A),y(!0)},className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                 transition-colors duration-200 text-red-500 dark:text-red-400`,title:"Delete Notification",children:i.jsx(Ks,{className:"w-5 h-5"})})]})})]},A.id))})]})})})]}),a&&i.jsx(fNe,{onClose:()=>{s(!1),m(null)},onSave:O,notification:f,monitorGroups:N}),g&&b&&i.jsx(mNe,{notification:b,onConfirm:async()=>{k(!0);try{if((await Gi.deleteNotification(b.id)).success){xe.success("Notification deleted successfully",{position:"bottom-right"}),y(!1),v(null);const R=await Gi.getNotifications();t(R)}else xe.error("Failed to delete notification",{position:"bottom-right"})}catch{xe.error("Failed to delete notification",{position:"bottom-right"})}finally{k(!1)}},onCancel:()=>{y(!1),v(null)},isDeleting:S})]})}function pNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("all"),[d,f]=x.useState(null),[m,g]=x.useState(1),y=10,[b,v]=x.useState(!1),[S,k]=x.useState(null),[N,E]=x.useState(!1),[_,O]=x.useState(!1),[j,A]=x.useState(null),[R,U]=x.useState([]),[V,W]=x.useState([]),[G,$]=x.useState(!1),[z,Y]=x.useState(new Set),[le,H]=x.useState(!1),[ee,q]=x.useState(null),[te,D]=x.useState(null),[M,L]=x.useState(!1),[J,se]=x.useState(null),[je,Re]=x.useState([]),[Le,Ce]=x.useState([]),[Q,Ee]=x.useState(new Set),[we,ae]=x.useState(!1),[nt,De]=x.useState(!1),[Ve,Ze]=x.useState(null);x.useEffect(()=>{(async()=>{try{n(!0);const F=await zn.getAllUsers();t(F)}catch(F){console.error("Failed to fetch users:",F),f({type:"error",message:"Failed to load users"})}finally{n(!1)}})()},[]);const ce=x.useMemo(()=>e.filter(I=>{const F=I.username.toLowerCase().includes(a.toLowerCase())||I.email.toLowerCase().includes(a.toLowerCase()),B=l==="all"||l==="admin"&&I.isAdmin||l==="user"&&!I.isAdmin;return F&&B}),[e,a,l]),Ae=x.useMemo(()=>[...ce].sort((I,F)=>I.username.localeCompare(F.username)),[ce]),Z=Math.ceil(Ae.length/y),me=Ae.slice((m-1)*y,m*y);x.useEffect(()=>{g(1)},[a,l]);const Pe=async I=>{A(I),O(!0),$(!0);try{const[F,B]=await Promise.all([zn.getUserGroups(I.id),He.getMonitorGroupList()]);Y(new Set(F.map(ne=>ne.groupMonitorId))),U(F),W(B)}catch(F){console.error("Failed to load user groups:",F),xe.error("Failed to load user groups",{position:"bottom-right"})}finally{$(!1)}},Te=async I=>{se(I),L(!0),ae(!0);try{const[F,B]=await Promise.all([zn.getUserClusters(I.id),sr.getClusters()]);Ee(new Set(F.map(ne=>ne.clusterName))),Ce(F),Re(B)}catch(F){console.error("Failed to load user clusters:",F),xe.error("Failed to load user clusters",{position:"bottom-right"})}finally{ae(!1)}},Ye=I=>{k(I),v(!0)},Be=()=>{const I=ir.map(F=>Number(F.id));Y(new Set(I))},Zt=()=>{Y(new Set)},Sn=()=>{Ee(new Set(je))},dn=()=>{Ee(new Set)},ir=x.useMemo(()=>[...V].sort((I,F)=>I.name.localeCompare(F.name)),[V]);return r?i.jsx("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen flex items-center justify-center",children:i.jsx(Je,{text:"Loading users..."})}):i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"User Management"}),i.jsx("p",{className:"dark:text-gray-400 text-gray-600",children:"Manage users and their permissions"})]}),i.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(iu,{className:"absolute left-3 top-2.5 w-5 h-5 dark:text-gray-400 text-gray-500"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:a,onChange:I=>s(I.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 
                     border-gray-300 dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500 
                     dark:focus:ring-blue-400 transition-colors duration-200`})]}),i.jsx("div",{children:i.jsxs("select",{value:l,onChange:I=>u(I.target.value),className:`w-full rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 border-gray-300 
                     dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                     transition-colors duration-200`,children:[i.jsx("option",{value:"all",children:"All Roles"}),i.jsx("option",{value:"admin",children:"Admins Only"}),i.jsx("option",{value:"user",children:"Users Only"})]})})]}),d&&i.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center gap-2 ${d.type==="success"?"dark:bg-green-900/20 bg-green-50 dark:text-green-200 text-green-800":"dark:bg-red-900/20 bg-red-50 dark:text-red-200 text-red-800"}`,children:[d.type==="success"?i.jsx(hi,{className:"w-5 h-5"}):i.jsx(qt,{className:"w-5 h-5"}),d.message]}),i.jsxs("div",{className:"flex flex-col h-[calc(100vh-280px)]",children:[" ",i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs overflow-hidden flex-1",children:i.jsx("div",{className:"overflow-y-auto h-full",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"sticky top-0 z-10",children:i.jsxs("tr",{className:"dark:bg-gray-700 bg-gray-50 border-b dark:border-gray-600",children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"User"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium dark:text-gray-300 text-gray-700",children:"Role"}),i.jsx("th",{className:"w-20 px-4 py-3"})]})}),i.jsx("tbody",{children:me.map(I=>i.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("td",{className:"px-4 py-3 dark:text-white text-gray-900",children:I.username}),i.jsx("td",{className:"px-4 py-3 dark:text-gray-300 text-gray-700",children:I.email}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ii,{checked:I.isAdmin,onCheckedChange:async F=>{q(I.id);try{if(await zn.updateUser({...I,isAdmin:F})){xe.success("User role updated successfully",{position:"bottom-right"});const ne=await zn.getAllUsers();t(ne)}else xe.error("Failed to update user role",{position:"bottom-right"})}catch{xe.error("Failed to update user role",{position:"bottom-right"})}finally{q(null)}},disabled:ee===I.id}),i.jsxs("span",{className:"flex items-center gap-2",children:[ee===I.id?i.jsx(Je,{size:"sm"}):null,i.jsx("span",{className:`text-sm font-medium ${I.isAdmin?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:I.isAdmin?"Admin":"User"})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>Pe(I),className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                   transition-colors duration-200 text-blue-500 dark:text-blue-400`,title:"Edit User Groups",children:i.jsx(U0,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Te(I),className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                   transition-colors duration-200 text-purple-500 dark:text-purple-400`,title:"Edit User Clusters",children:i.jsx(vr,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Ye(I),className:`p-2 rounded-lg dark:hover:bg-gray-600 hover:bg-gray-100
                                   transition-colors duration-200 text-red-500 dark:text-red-400`,title:"Delete User",children:i.jsx(Ks,{className:"w-5 h-5"})})]})})]},I.id))})]})})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between px-4",children:[i.jsxs("div",{className:"text-sm dark:text-gray-400 text-gray-500",children:["Showing ",Math.min(y*(m-1)+1,Ae.length)," to"," ",Math.min(y*m,Ae.length)," of ",Ae.length," users"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>g(I=>Math.max(1,I-1)),disabled:m===1,className:`px-3 py-1 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 
                       border-gray-300 dark:text-gray-300 text-gray-700 disabled:opacity-50
                       hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`,children:"Previous"}),i.jsx("button",{onClick:()=>g(I=>Math.min(Z,I+1)),disabled:m===Z,className:`px-3 py-1 rounded-lg dark:bg-gray-800 bg-white border dark:border-gray-700 
                       border-gray-300 dark:text-gray-300 text-gray-700 disabled:opacity-50
                       hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200`,children:"Next"})]})]})]}),b&&S&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6 relative",children:[i.jsx("button",{onClick:()=>{v(!1),k(null)},className:`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700
                       transition-colors duration-200 text-gray-500 dark:text-gray-400`,title:"Close",children:i.jsx(Dt,{className:"w-5 h-5"})}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Delete User"}),i.jsxs("p",{className:"dark:text-gray-300 text-gray-600 mb-6",children:['Are you sure you want to delete the user "',S.username,'"? This action cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{v(!1),k(null)},className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:async()=>{if(S){E(!0);try{if(await zn.deleteUser(S.id)){xe.success("User deleted successfully",{position:"bottom-right"});const F=await zn.getAllUsers();t(F)}else xe.error("Failed to delete user",{position:"bottom-right"})}catch{xe.error("Failed to delete user",{position:"bottom-right"})}finally{E(!1),v(!1),k(null)}}},disabled:N,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                         disabled:opacity-50 flex items-center gap-2`,children:N?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ks,{className:"w-4 h-4"}),"Delete"]})})]})]})}),_&&j&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-2xl dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6 relative max-h-[80vh] flex flex-col",children:[i.jsx("button",{onClick:()=>{O(!1),A(null)},className:`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700
                       transition-colors duration-200 text-gray-500 dark:text-gray-400`,title:"Close",children:i.jsx(Dt,{className:"w-5 h-5"})}),i.jsxs("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:["Edit User Groups - ",j.username]}),G?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Je,{size:"lg"})}):i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[i.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[i.jsx("button",{type:"button",onClick:Be,className:`px-3 py-1.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600
                               transition-colors duration-200 flex items-center gap-2`,children:"Select All"}),i.jsx("button",{type:"button",onClick:Zt,className:`px-3 py-1.5 text-sm bg-gray-500 text-white rounded-lg hover:bg-gray-600
                               transition-colors duration-200 flex items-center gap-2`,children:"Remove All"})]}),i.jsx("div",{className:"space-y-2",children:ir.map(I=>{const F=z.has(Number(I.id)),B=()=>{Y(ne=>{const ve=new Set(ne);return F?ve.delete(Number(I.id)):ve.add(Number(I.id)),ve})};return i.jsxs("div",{onClick:B,className:`flex items-center justify-between p-4 rounded-lg dark:bg-gray-700/50 
                                   bg-gray-50 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer
                                   transition-colors duration-200`,children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium dark:text-white text-gray-900",children:I.name}),i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600",children:I.description})]}),i.jsx("div",{className:"flex items-center",children:i.jsx("input",{type:"checkbox",checked:F,onChange:B,onClick:ne=>{ne.stopPropagation(),B()},className:`w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500
                                       cursor-pointer`})})]},I.id)})})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-4 pt-4 border-t dark:border-gray-700",children:[te&&i.jsx("div",{className:"text-sm text-red-500 dark:text-red-400 mb-2",children:te}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{O(!1),A(null),D(null)},className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                               dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:async()=>{if(j){if(D(null),z.size===0){D("Please select at least one group");return}H(!0);try{await zn.updateUserGroups(j.id,Array.from(z))?(xe.success("User groups updated successfully",{position:"bottom-right"}),O(!1),A(null),D(null)):xe.error("Failed to update user groups",{position:"bottom-right"})}catch{xe.error("Failed to update user groups",{position:"bottom-right"})}finally{H(!1)}}},disabled:le||z.size===0,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                               disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:le?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hi,{className:"w-4 h-4"}),"Save Changes"]})})]})]})]})]})}),M&&J&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-2xl dark:bg-gray-900 bg-gray-50 rounded-lg shadow-lg p-6 relative max-h-[80vh] flex flex-col",children:[i.jsx("button",{onClick:()=>{L(!1),se(null),Ze(null)},className:`absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700
                       transition-colors duration-200 text-gray-500 dark:text-gray-400`,title:"Close",children:i.jsx(Dt,{className:"w-5 h-5"})}),i.jsxs("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:["Edit User Clusters - ",J.username]}),we?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Je,{size:"lg"})}):i.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[i.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[i.jsx("button",{type:"button",onClick:Sn,className:`px-3 py-1.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600
                               transition-colors duration-200 flex items-center gap-2`,children:"Select All"}),i.jsx("button",{type:"button",onClick:dn,className:`px-3 py-1.5 text-sm bg-gray-500 text-white rounded-lg hover:bg-gray-600
                               transition-colors duration-200 flex items-center gap-2`,children:"Remove All"})]}),i.jsx("div",{className:"space-y-2",children:je.map(I=>{const F=Q.has(I),B=()=>{Ee(ne=>{const ve=new Set(ne);return F?ve.delete(I):ve.add(I),ve})};return i.jsxs("div",{onClick:B,className:`flex items-center justify-between p-4 rounded-lg dark:bg-gray-700/50 
                                   bg-gray-50 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer
                                   transition-colors duration-200`,children:[i.jsx("div",{children:i.jsx("h4",{className:"font-medium dark:text-white text-gray-900",children:I})}),i.jsx("div",{className:"flex items-center",children:i.jsx("input",{type:"checkbox",checked:F,onChange:B,onClick:ne=>{ne.stopPropagation(),B()},className:`w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500
                                       cursor-pointer`})})]},I)})})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-4 pt-4 border-t dark:border-gray-700",children:[Ve&&i.jsx("div",{className:"text-sm text-red-500 dark:text-red-400 mb-2",children:Ve}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{L(!1),se(null),Ze(null)},className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                               dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsx("button",{onClick:async()=>{if(J){Ze(null),De(!0);try{await zn.updateUserClusters(J.id,Array.from(Q))?(xe.success("User clusters updated successfully",{position:"bottom-right"}),L(!1),se(null),Ze(null)):xe.error("Failed to update user clusters",{position:"bottom-right"})}catch{xe.error("Failed to update user clusters",{position:"bottom-right"})}finally{De(!1)}}},disabled:nt,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                               disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:nt?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hi,{className:"w-4 h-4"}),"Save Changes"]})})]})]})]})]})})]})}const _S=e=>{const t=new Date(e),r=t.getUTCFullYear(),n=String(t.getUTCMonth()+1).padStart(2,"0"),a=String(t.getUTCDate()).padStart(2,"0"),s=String(t.getUTCHours()).padStart(2,"0"),l=String(t.getUTCMinutes()).padStart(2,"0");return`${r}-${n}-${a} ${s}:${l}`},QD=({value:e,onChange:t,required:r,className:n})=>{const a=l=>{let u=l.target.value;u=u.replace(/[^\d:]/g,""),u.length===1&&parseInt(u)>2?u="0"+u+":":u.length===2&&!u.includes(":")?parseInt(u)>23?u="23:":u=u+":":u.length===3&&!u.includes(":")?u=u.slice(0,2)+":"+u.slice(2):u.length>5&&(u=u.slice(0,5));const d=/^([01]\d|2[0-3]):([0-5]\d)$/;u.length===5&&!d.test(u)||t(u)},s=l=>{const u=l.target.value;u&&!/^([01]\d|2[0-3]):([0-5]\d)$/.test(u)&&t("")};return i.jsx("input",{type:"text",value:e,onChange:a,onBlur:s,placeholder:"HH:MM",pattern:"^([01]\\d|2[0-3]):([0-5]\\d)$",required:r,maxLength:5,className:n})};function yNe(){const[e,t]=x.useState(0),[r,n]=x.useState(!1),[a,s]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(!1),[v,S]=x.useState(null),[k,N]=x.useState(!0),[E,_]=x.useState(7),[O,j]=x.useState(!1),[A,R]=x.useState(!1),[U,V]=x.useState(!1),[W,G]=x.useState(!1),[$,z]=x.useState(!1),[Y,le]=x.useState({startUtc:null,endUtc:null,isInMaintenanceWindow:!1}),[H,ee]=x.useState(!1),[q,te]=x.useState(!1),[D,M]=x.useState(!1),[L,J]=x.useState(""),[se,je]=x.useState(""),[Re,Le]=x.useState(""),[Ce,Q]=x.useState("");x.useEffect(()=>{const Z=async()=>{try{N(!0);const Te=await He.getMonitorHistoryRetention();t(Te)}catch(Te){console.error("Failed to load retention days:",Te),xe.error("Failed to load retention settings",{position:"bottom-right"})}finally{N(!1)}},me=async()=>{try{const Te=await He.getMonitorExecutionStatus();V(Te.isDisabled)}catch(Te){console.error("Failed to load monitor execution status:",Te),xe.error("Failed to load monitor execution status",{position:"bottom-right"})}},Pe=async()=>{ee(!0);try{const Te=await He.getMaintenanceWindow();le({startUtc:Te.startUtc,endUtc:Te.endUtc,isInMaintenanceWindow:Te.isInMaintenanceWindow})}catch(Te){console.error("Failed to load maintenance window:",Te),xe.error("Failed to load maintenance window",{position:"bottom-right"})}finally{ee(!1)}};Z(),me(),Pe()},[]);const Ee=async()=>{u(!0);try{const Z=await He.getMonitorJsonBackup(),me=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),Pe=window.URL.createObjectURL(me),Te=document.createElement("a");Te.href=Pe,Te.download=`monitor-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),window.URL.revokeObjectURL(Pe),document.body.removeChild(Te),xe.success("Backup exported successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to export backup:",Z),xe.error("Failed to export backup",{position:"bottom-right"})}finally{u(!1)}},we=async Z=>{const me=Z.target.files?.[0];if(me)try{if(!me.type.includes("json")){xe.error("Please select a JSON file",{position:"bottom-right"});return}S(me),n(!0)}catch{xe.error("Invalid backup file",{position:"bottom-right"})}},ae=async()=>{try{s(!0),await He.setMonitorHistoryRetention(e),xe.success("Retention settings updated successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to update retention days:",Z),xe.error("Failed to update retention settings",{position:"bottom-right"})}finally{s(!1)}},nt=async()=>{g(!0);try{await He.clearAllStatistics(),f(!1),xe.success("All statistics cleared successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to clear statistics:",Z),xe.error("Failed to clear statistics",{position:"bottom-right"})}finally{g(!1)}},De=async()=>{j(!0);try{const Z=E||0;await xn.delete(`/api/metrics/cleanup?days=${Z}`),R(!1);const me=Z===0?"All metrics data cleared successfully":`Metrics data older than ${Z} days cleared successfully`;xe.success(me,{position:"bottom-right"})}catch(Z){console.error("Failed to clear metrics:",Z),xe.error("Failed to clear metrics",{position:"bottom-right"})}finally{j(!1)}},Ve=async()=>{G(!0);try{const Z=!U;if(await He.setMonitorExecutionDisabled(Z),V(Z),!Z)try{await He.setMaintenanceWindow(null,null);const me=await He.getMaintenanceWindow();le({startUtc:me.startUtc,endUtc:me.endUtc,isInMaintenanceWindow:me.isInMaintenanceWindow}),window.dispatchEvent(new CustomEvent("maintenanceWindowUpdated"))}catch(me){console.error("Failed to clear maintenance window:",me)}window.dispatchEvent(new CustomEvent("monitorExecutionStatusUpdated")),xe.success(`Monitor execution has been ${Z?"disabled":"enabled"}${Z?"":" and maintenance window cleared"}`,{position:"bottom-right"})}catch(Z){console.error("Failed to toggle monitor execution:",Z),xe.error("Failed to update monitor execution status",{position:"bottom-right"})}finally{G(!1)}},Ze=()=>{if(Y.startUtc&&Y.endUtc){const Z=new Date(Y.startUtc),me=new Date(Y.endUtc),Pe=Z.getUTCFullYear(),Te=String(Z.getUTCMonth()+1).padStart(2,"0"),Ye=String(Z.getUTCDate()).padStart(2,"0"),Be=String(Z.getUTCHours()).padStart(2,"0"),Zt=String(Z.getUTCMinutes()).padStart(2,"0"),Sn=me.getUTCFullYear(),dn=String(me.getUTCMonth()+1).padStart(2,"0"),ir=String(me.getUTCDate()).padStart(2,"0"),I=String(me.getUTCHours()).padStart(2,"0"),F=String(me.getUTCMinutes()).padStart(2,"0");J(`${Pe}-${Te}-${Ye}`),je(`${Be}:${Zt}`),Le(`${Sn}-${dn}-${ir}`),Q(`${I}:${F}`)}else J(""),je(""),Le(""),Q("");M(!0)},ce=async()=>{if(!L||!se||!Re||!Ce){xe.error("Please fill in all date and time fields",{position:"bottom-right"});return}te(!0);try{const[Z,me,Pe]=L.split("-").map(Number),[Te,Ye]=se.split(":").map(Number),Be=new Date(Date.UTC(Z,me-1,Pe,Te,Ye,0)),[Zt,Sn,dn]=Re.split("-").map(Number),[ir,I]=Ce.split(":").map(Number),F=new Date(Date.UTC(Zt,Sn-1,dn,ir,I,0));if(isNaN(Be.getTime())||isNaN(F.getTime())){xe.error("Invalid date/time format",{position:"bottom-right"}),te(!1);return}if(F<=Be){xe.error("End time must be after start time",{position:"bottom-right"}),te(!1);return}const B=Be.toISOString(),ne=F.toISOString();await He.setMaintenanceWindow(B,ne);const ve=await He.getMaintenanceWindow();le({startUtc:ve.startUtc,endUtc:ve.endUtc,isInMaintenanceWindow:ve.isInMaintenanceWindow}),window.dispatchEvent(new CustomEvent("maintenanceWindowUpdated")),M(!1),xe.success(B&&ne?"Maintenance window set successfully":"Maintenance window cleared successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to save maintenance window:",Z),xe.error("Failed to save maintenance window",{position:"bottom-right"})}finally{te(!1)}},Ae=async()=>{te(!0);try{await He.setMaintenanceWindow(null,null);const Z=await He.getMaintenanceWindow();le({startUtc:Z.startUtc,endUtc:Z.endUtc,isInMaintenanceWindow:Z.isInMaintenanceWindow}),window.dispatchEvent(new CustomEvent("maintenanceWindowUpdated")),xe.success("Maintenance window cleared successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to clear maintenance window:",Z),xe.error("Failed to clear maintenance window",{position:"bottom-right"})}finally{te(!1)}};return k?i.jsx("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen flex items-center justify-center",children:i.jsx(Je,{text:"Loading settings..."})}):i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen transition-colors duration-200",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"Administration"}),i.jsx("p",{className:"dark:text-gray-400 text-gray-600",children:"System backup and maintenance settings"})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Backup"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"dark:text-gray-300 text-gray-700 mb-3",children:"You can backup all monitors into a JSON file."}),i.jsxs("button",{onClick:Ee,disabled:l,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 
                       text-white transition-colors duration-200 disabled:opacity-50`,children:[l?i.jsx(Je,{size:"sm"}):i.jsx(D7,{className:"w-4 h-4"}),l?"Exporting...":"Export Backup"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"dark:text-gray-300 text-gray-700 mb-3",children:"You can import your JSON backup file - ALL EXISTING DATA WILL BE LOST!"}),i.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 
                            text-white transition-colors duration-200 cursor-pointer w-fit`,children:[i.jsx(Nne,{className:"w-5 h-5"}),"Import Backup",i.jsx("input",{type:"file",accept:".json",onChange:we,className:"hidden"})]})]})]})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Monitor History"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Retention Period (Days)"}),i.jsx("input",{type:"number",min:"1",value:e,onChange:Z=>t(Number(Z.target.value)),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white focus:ring-2 focus:ring-blue-500`})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:ae,disabled:a,className:`px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600
                       disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2`,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Saving..."]}):"Save Changes"})})]}),i.jsx("div",{children:i.jsxs("button",{onClick:()=>f(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 
                     text-white transition-colors duration-200`,children:[i.jsx(Vt,{className:"w-4 h-4"}),"Clear All Statistics"]})})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Monitor Execution"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",children:i.jsx("p",{className:"dark:text-blue-200 text-blue-800 text-sm mb-3",children:U?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4 inline mr-2"}),i.jsx("strong",{children:"Monitor execution is currently disabled."})," All monitor runners (HTTP, TCP, K8s) are paused. This is typically used for system maintenance."]}):i.jsxs(i.Fragment,{children:["Monitor execution is currently ",i.jsx("strong",{children:"enabled"}),". All monitors are running normally."]})})}),i.jsx("div",{children:i.jsxs("button",{onClick:()=>z(!0),disabled:W,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-white transition-colors duration-200
                       disabled:opacity-50 disabled:cursor-not-allowed ${U?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:[i.jsx(Vt,{className:"w-4 h-4"}),U?"Enable Monitor Execution":"Disable Monitor Execution"]})})]})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Maintenance Window"}),i.jsx("div",{className:"space-y-4",children:H?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsx(Je,{size:"sm"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`p-4 rounded-lg border ${Y.isInMaintenanceWindow?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800":Y.startUtc&&Y.endUtc?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600"}`,children:i.jsx("p",{className:`text-sm ${Y.isInMaintenanceWindow?"dark:text-yellow-200 text-yellow-800":Y.startUtc&&Y.endUtc?"dark:text-blue-200 text-blue-800":"dark:text-gray-300 text-gray-600"}`,children:Y.isInMaintenanceWindow?i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4 inline mr-2"}),i.jsx("strong",{children:"Currently in maintenance window."}),Y.endUtc&&i.jsxs(i.Fragment,{children:[" Scheduled until ",_S(Y.endUtc)," UTC"]})]}):Y.startUtc&&Y.endUtc?i.jsxs(i.Fragment,{children:[i.jsx(yy,{className:"w-4 h-4 inline mr-2"}),i.jsx("strong",{children:"Maintenance window scheduled:"}),i.jsx("br",{}),"From ",_S(Y.startUtc)," UTC",i.jsx("br",{}),"To ",_S(Y.endUtc)," UTC"]}):i.jsx(i.Fragment,{children:"No maintenance window is currently set. Monitors will run continuously."})})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:Ze,disabled:q,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 
                           text-white transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:[i.jsx(yy,{className:"w-4 h-4"}),Y.startUtc&&Y.endUtc?"Edit Maintenance Window":"Set Maintenance Window"]}),Y.startUtc&&Y.endUtc&&i.jsxs("button",{onClick:Ae,disabled:q,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 
                             text-white transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:[i.jsx(Dt,{className:"w-4 h-4"}),"Clear Maintenance Window"]})]})]})})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Metrics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Cleanup Days"}),i.jsx("input",{type:"number",min:"0",value:E,onChange:Z=>_(Number(Z.target.value)),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                       dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`,placeholder:"Enter number of days (0 to truncate all)"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:E===0?"Setting to 0 will truncate all metrics tables":`Metrics older than ${E} days will be deleted`})]}),i.jsx("div",{children:i.jsxs("button",{onClick:()=>R(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 
                       text-white transition-colors duration-200`,children:[i.jsx(Vt,{className:"w-4 h-4"}),E===0?"Truncate All Metrics":`Clear Metrics Older Than ${E} Days`]})})]})]}),r&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Confirm Import"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:`p-4 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 
                            text-yellow-800 dark:text-yellow-200 flex items-start gap-3`,children:[i.jsx(Vt,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Warning: All existing data will be lost"}),i.jsx("p",{className:"text-sm",children:"This action will replace all current monitors and settings with the data from your backup file. This cannot be undone."})]})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>n(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-200
                         transition-colors duration-200`,children:"Cancel"}),i.jsxs("button",{onClick:async()=>{if(v){b(!0);try{await He.uploadMonitorBackup(v),n(!1),S(null),xe.success("Backup imported successfully",{position:"bottom-right"})}catch(Z){console.error("Failed to import backup:",Z),xe.error("Failed to import backup",{position:"bottom-right"})}finally{b(!1)}}},disabled:y,className:`px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white
                         transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed 
                         flex items-center gap-2`,children:[y?i.jsx(Je,{size:"sm"}):i.jsx(Vt,{className:"w-4 h-4"}),y?"Importing...":"Import and Replace"]})]})]})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Clear All Statistics"}),i.jsxs("p",{className:"dark:text-gray-300 text-gray-600 mb-6",children:["Are you sure you want to delete all statistics?",i.jsx("br",{}),i.jsx("span",{className:"text-red-500 font-medium",children:"Please be aware that this operation cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>f(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsxs("button",{onClick:nt,disabled:m,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                         disabled:opacity-50 flex items-center gap-2`,children:[m?i.jsx(Je,{size:"sm"}):i.jsx(Vt,{className:"w-4 h-4"}),m?"Clearing...":"Clear All"]})]})]})}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:E===0?"Truncate All Metrics":"Clear Metrics Data"}),i.jsx("p",{className:"dark:text-gray-300 text-gray-600 mb-6",children:E===0?i.jsxs(i.Fragment,{children:["Are you sure you want to ",i.jsx("span",{className:"text-red-500 font-medium",children:"truncate all metrics tables"}),"?",i.jsx("br",{}),i.jsx("span",{className:"text-red-500 font-medium",children:"This will delete ALL metrics data and cannot be undone."})]}):i.jsxs(i.Fragment,{children:["Are you sure you want to delete metrics data older than ",i.jsxs("span",{className:"font-medium",children:[E," days"]}),"?",i.jsx("br",{}),i.jsx("span",{className:"text-red-500 font-medium",children:"This operation cannot be undone."})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>R(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600`,children:"Cancel"}),i.jsxs("button",{onClick:De,disabled:O,className:`px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600
                         disabled:opacity-50 flex items-center gap-2`,children:[O?i.jsx(Je,{size:"sm"}):i.jsx(Vt,{className:"w-4 h-4"}),O?"Clearing...":E===0?"Truncate All":"Clear Metrics"]})]})]})}),$&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:U?"Enable Monitor Execution":"Disable Monitor Execution"}),i.jsx("div",{className:"mb-6",children:U?i.jsxs("p",{className:"dark:text-gray-300 text-gray-600",children:["Are you sure you want to ",i.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"enable"})," monitor execution?",i.jsx("br",{}),i.jsx("br",{}),"This will resume all monitor runners (HTTP, TCP, K8s) and monitoring will continue normally."]}):i.jsxs("div",{className:`p-4 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 
                            text-yellow-800 dark:text-yellow-200 flex items-start gap-3`,children:[i.jsx(Vt,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium mb-1",children:"Warning: This will pause all monitors"}),i.jsx("p",{className:"text-sm",children:"Disabling monitor execution will pause all monitor runners (HTTP, TCP, K8s). This is typically used for system maintenance. Monitors will not execute until execution is re-enabled."})]})]})}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>z(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-200
                         transition-colors duration-200`,children:"Cancel"}),i.jsx("button",{onClick:async()=>{z(!1),await Ve()},disabled:W,className:`px-4 py-2 rounded-lg text-white transition-colors duration-200
                         disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 ${U?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:W?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),U?"Enabling...":"Disabling..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vt,{className:"w-4 h-4"}),U?"Enable":"Disable"]})})]})]})}),D&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Set Maintenance Window"}),i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:`p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 
                            text-blue-800 dark:text-blue-200 text-sm`,children:[i.jsx("p",{className:"font-medium mb-1",children:"Maintenance Window Information"}),i.jsx("p",{children:"During the maintenance window, monitor execution will be automatically disabled. All times should be entered in UTC."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-2",children:["Start Date & Time (UTC) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"date",value:L,onChange:Z=>J(Z.target.value),required:!0,className:`px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`}),i.jsx(QD,{value:se,onChange:Z=>je(Z),required:!0,className:`px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-2",children:["End Date & Time (UTC) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"date",value:Re,onChange:Z=>Le(Z.target.value),required:!0,className:`px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`}),i.jsx(QD,{value:Ce,onChange:Z=>Q(Z),required:!0,className:`px-3 py-2 rounded-lg dark:bg-gray-700 border dark:border-gray-600
                             dark:text-white text-gray-900 focus:ring-2 focus:ring-blue-500`})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>M(!1),className:`px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100
                         dark:text-white text-gray-900 dark:hover:bg-gray-600 hover:bg-gray-200
                         transition-colors duration-200`,children:"Cancel"}),i.jsx("button",{onClick:ce,disabled:q||!L||!se||!Re||!Ce,className:`px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white
                         transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed 
                         flex items-center gap-2`,children:q?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(i0,{className:"w-4 h-4"}),"Save Maintenance Window"]})})]})]})})]})}const ZD=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Sao_Paulo","Europe/London","Europe/Paris","Europe/Moscow","Asia/Dubai","Asia/Singapore","Asia/Tokyo","Australia/Sydney"];function xNe(){const[e,t]=x.useState(()=>localStorage.getItem("userTimezone")||Intl.DateTimeFormat().resolvedOptions().timeZone),[r,n]=x.useState(!1),[a,s]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(null),{accounts:m,instance:g}=qx(),b=Intl.supportedValuesOf!==void 0?Intl.supportedValuesOf("timeZone"):ZD,v=()=>{localStorage.setItem("userTimezone",e),n(!0),setTimeout(()=>n(!1),3e3)},S=async()=>{u(!0),f(null);try{await Ta.delete("/api/user/delete"),localStorage.removeItem("authToken"),localStorage.removeItem("userInfo"),m.length>0?await g.logoutRedirect():window.location.href="/login"}catch(k){f(k?.response?.data?.message||"Failed to delete account."),u(!1)}};return i.jsxs("div",{className:"p-6 dark:bg-gray-900 bg-gray-50 min-h-screen transition-colors duration-200",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold dark:text-white text-gray-900 mb-2",children:"Settings"}),i.jsx("p",{className:"dark:text-gray-400 text-gray-600",children:"Customize your monitoring experience"})]}),i.jsxs("div",{className:"max-w-2xl",children:[i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Time Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 text-gray-700 mb-2",children:"Timezone"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:ZD.map(k=>i.jsx("button",{onClick:()=>t(k),className:`px-3 py-2 rounded-lg text-sm text-left transition-colors
                                ${e===k?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"hover:bg-gray-50 dark:hover:bg-gray-700 dark:text-gray-300 text-gray-700"}`,children:k.replace("_"," ")},k))}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm dark:text-gray-400 text-gray-600 mb-1",children:"Or select from all timezones:"}),i.jsx("select",{value:e,onChange:k=>t(k.target.value),className:`w-full rounded-lg dark:bg-gray-700 bg-white border dark:border-gray-600 border-gray-300
                             dark:text-white text-gray-900 p-2 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400
                             transition-colors duration-200`,children:b.map(k=>i.jsx("option",{value:k,children:k.replace("_"," ")},k))})]})]})]}),i.jsxs("div",{className:"text-sm dark:text-gray-400 text-gray-600",children:["Current time: ",new Date().toLocaleTimeString("default",{timeZone:e})]})]}),i.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[i.jsxs("button",{onClick:v,className:`flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500 text-white
                       hover:bg-blue-600 transition-colors duration-200`,children:[i.jsx(i0,{className:"w-4 h-4"}),"Save Settings"]}),r&&i.jsx("span",{className:"text-green-500 dark:text-green-400",children:"Settings saved successfully!"})]})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mt-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"About"}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm dark:text-gray-400 text-gray-600",children:"Version"}),i.jsx("span",{className:"text-sm font-medium dark:text-white text-gray-900",children:"3.0.62"})]})})]}),i.jsxs("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6 mt-6",children:[i.jsx("h2",{className:"text-lg font-medium dark:text-white text-gray-900 mb-4",children:"Danger Zone"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Deleting your account is irreversible. All your data will be permanently removed."}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors duration-200",children:[i.jsx(Ks,{className:"w-4 h-4"}),"Delete Account"]})]})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg p-6 relative",children:[i.jsxs("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 text-gray-500 dark:text-gray-400",title:"Close",children:[i.jsx("span",{className:"sr-only",children:"Close"}),""]}),i.jsx("h3",{className:"text-xl font-semibold dark:text-white text-gray-900 mb-4",children:"Delete Account"}),i.jsx("p",{className:"dark:text-gray-300 text-gray-700 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone."}),d&&i.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400",children:d}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100 dark:text-white text-gray-900 hover:bg-gray-200 dark:hover:bg-gray-600",disabled:l,children:"Cancel"}),i.jsx("button",{onClick:S,disabled:l,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 disabled:opacity-50 flex items-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(Je,{size:"sm"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ks,{className:"w-4 h-4"}),"Delete Account"]})})]})]})})]})}const bNe="https://monitoring.alerthawk.net/monitoring/",vNe="apikey",wNe=Jt.create({baseURL:bNe,headers:{ApiKey:vNe,"Content-Type":"application/json"}}),kNe={getUptimeReport:async(e,t)=>{try{return(await wNe.get(`/api/MonitorReport/Uptime/${e}/${t}`)).data}catch(r){throw console.error("Failed to fetch uptime report:",r),r}}},jS=e=>{const t=Math.floor(e/60),r=e%60;return t===0?`${r}m`:`${t}h ${r}m`},eP=e=>e?"text-green-500 dark:text-green-400":"text-red-500 dark:text-red-400";function SNe(){const{monitorId:e="1",hours:t="24"}=Gx(),[r,n]=x.useState([]),[a,s]=x.useState(!0),[l,u]=x.useState(null);return x.useEffect(()=>{const d=async()=>{try{s(!0),u(null);const m=await kNe.getUptimeReport(parseInt(e),parseInt(t));n(m)}catch(m){console.error("Failed to fetch uptime data:",m),u("Failed to load uptime data. Please try again later."),xe.error("Failed to load uptime data",{position:"bottom-right"})}finally{s(!1)}};d();const f=setInterval(d,300*1e3);return()=>clearInterval(f)},[e,t]),a?i.jsx("div",{className:"min-h-screen dark:bg-gray-900 bg-gray-50 p-6 flex items-center justify-center",children:i.jsx(Je,{size:"lg",text:"Loading status data..."})}):l?i.jsx("div",{className:"min-h-screen dark:bg-gray-900 bg-gray-50 p-6 flex items-center justify-center",children:i.jsx("div",{className:"text-red-500 dark:text-red-400",children:l})}):i.jsxs("div",{className:"min-h-screen dark:bg-gray-900 bg-gray-50 p-6 flex flex-col",children:[i.jsxs("div",{className:"max-w-7xl mx-auto w-full flex-1",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold dark:text-white text-gray-900 mb-2",children:"System Status"}),i.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Last ",t," hours uptime report for all services"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(wr,{className:"w-6 h-6 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600",children:"Services Monitored"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:r.length})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(Dn,{className:"w-6 h-6 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600",children:"Healthy Services"}),i.jsx("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:r.filter(d=>d.monitorStatus).length})]})]})}),i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 dark:bg-gray-700 bg-gray-100 rounded-lg",children:i.jsx(mi,{className:"w-6 h-6 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600",children:"Time Period"}),i.jsxs("p",{className:"text-2xl font-bold dark:text-white text-gray-900",children:[t," Hours"]})]})]})})]}),i.jsx("div",{className:"grid gap-6",children:r.map(d=>i.jsx("div",{className:"dark:bg-gray-800 bg-white rounded-lg shadow-xs p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 dark:bg-gray-700 bg-gray-100 rounded-lg ${eP(d.monitorStatus)}`,children:d.monitorStatus?i.jsx(Dn,{className:"w-5 h-5"}):i.jsx(ma,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold dark:text-white text-gray-900",children:d.monitorName}),i.jsx("p",{className:`text-sm ${eP(d.monitorStatus)}`,children:d.monitorStatus?"Healthy":"Unhealthy"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100",children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600 mb-1",children:"Online"}),i.jsx("p",{className:"font-semibold dark:text-green-400 text-green-500",children:jS(d.totalOnlineMinutes)})]}),i.jsxs("div",{className:"text-center px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100",children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600 mb-1",children:"Offline"}),i.jsx("p",{className:"font-semibold dark:text-red-400 text-red-500",children:jS(d.totalOfflineMinutes)})]}),i.jsxs("div",{className:"text-center px-4 py-2 rounded-lg dark:bg-gray-700 bg-gray-100 col-span-2 md:col-span-1",children:[i.jsx("p",{className:"text-sm dark:text-gray-400 text-gray-600 mb-1",children:"Total Time"}),i.jsx("p",{className:"font-semibold dark:text-blue-400 text-blue-500",children:jS(d.totalOnlineMinutes+d.totalOfflineMinutes)})]})]})]})},d.monitorName))})]}),i.jsx("div",{className:"mt-12 py-6 border-t dark:border-gray-700 border-gray-200",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("img",{src:"/assets/logo.png",alt:"AlertHawk Logo",className:"h-8 w-auto"}),i.jsx("span",{className:"text-sm font-medium dark:text-gray-400 text-gray-600",children:"Powered by AlertHawk"})]})})]})}function tP(){return i.jsx(SNe,{})}function CNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(null),[l,u]=x.useState(6),[d,f]=x.useState("daysToExpire"),[m,g]=x.useState("asc");x.useEffect(()=>{y()},[l]);const y=async()=>{try{n(!0),s(null);const R=(await He.getDashboardGroups(l)).flatMap(U=>U.monitors.filter(V=>V.monitorTypeId===1&&V.urlToCheck&&V.checkCertExpiry===!0&&V.paused===!1));t(R)}catch(A){console.error("Failed to fetch SSL certificates:",A),s("Failed to load SSL certificate data")}finally{n(!1)}},b=A=>A<=0?"expired":A<=7?"critical":A<=30?"warning":"healthy",v=A=>{switch(A){case"expired":return i.jsx(Vt,{className:"w-5 h-5 text-red-500"});case"critical":return i.jsx(Vt,{className:"w-5 h-5 text-red-500"});case"warning":return i.jsx(mi,{className:"w-5 h-5 text-yellow-500"});case"healthy":return i.jsx(Dn,{className:"w-5 h-5 text-green-500"});default:return i.jsx(mi,{className:"w-5 h-5 text-gray-500"})}},S=A=>{switch(A){case"expired":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-300";case"critical":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-300";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-300";case"healthy":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-300";default:return"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-600 text-gray-800 dark:text-gray-300"}},k=A=>{switch(A){case"expired":return"Expired";case"critical":return"Critical";case"warning":return"Warning";case"healthy":return"Healthy";default:return"Unknown"}},N=A=>A<=0?"Expired":A===1?"1 day":`${A} days`,E=A=>{window.open(A,"_blank","noopener,noreferrer")},_=A=>{d===A?g(m==="asc"?"desc":"asc"):(f(A),g("asc"))},O=()=>[...e].sort((A,R)=>{let U,V;switch(d){case"name":U=A.name.toLowerCase(),V=R.name.toLowerCase();break;case"url":U=A.urlToCheck.toLowerCase(),V=R.urlToCheck.toLowerCase();break;case"daysToExpire":U=A.daysToExpireCert,V=R.daysToExpireCert;break;case"status":U=b(A.daysToExpireCert),V=b(R.daysToExpireCert);const W={expired:0,critical:1,warning:2,healthy:3};U=W[U]??4,V=W[V]??4;break;default:return 0}return U<V?m==="asc"?-1:1:U>V?m==="asc"?1:-1:0}),j=A=>d!==A?i.jsx(xy,{className:"w-4 h-4 text-gray-400"}):m==="asc"?i.jsx(xy,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}):i.jsx(qc,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"});return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Je,{size:"lg",text:"Loading SSL certificates..."})}):a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Vt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:a}),i.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})}):i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(pi,{className:"w-8 h-8 text-blue-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"SSL Certificate Monitor"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{htmlFor:"environment",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Environment:"}),i.jsxs("select",{id:"environment",value:l,onChange:A=>u(Number(A.target.value)),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[i.jsx("option",{value:1,children:"Development"}),i.jsx("option",{value:2,children:"Staging"}),i.jsx("option",{value:3,children:"QA"}),i.jsx("option",{value:4,children:"Testing"}),i.jsx("option",{value:5,children:"PreProd"}),i.jsx("option",{value:6,children:"Production"})]})]})]}),e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(pi,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Active SSL Monitors Found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active HTTP monitors with SSL certificate monitoring enabled found for the selected environment."}),i.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx("p",{children:"Only monitors with:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Certificate monitoring enabled (checkCertExpiry = true)"}),i.jsx("li",{children:"Monitor not paused"}),i.jsx("li",{children:"HTTP monitor type"})]})]})]}):i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Active SSL Certificate Status (",e.length," monitors)"]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Showing only active HTTP monitors with certificate monitoring enabled"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none",onClick:()=>_("status"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["Status",j("status")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none",onClick:()=>_("name"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["Monitor Name",j("name")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none",onClick:()=>_("url"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["URL",j("url")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none",onClick:()=>_("daysToExpire"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["Days to Expire",j("daysToExpire")]})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:O().map(A=>{const R=b(A.daysToExpireCert);return i.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[v(R),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${S(R)}`,children:k(R)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:A.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-900 dark:text-white break-all",children:A.urlToCheck})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N(A.daysToExpireCert)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("button",{onClick:()=>E(A.urlToCheck),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 flex items-center gap-1",children:[i.jsx(bre,{className:"w-4 h-4"}),"Open URL"]})})]},A.id)})})]})})]})]})}function rP({children:e,requireAdmin:t=!1}){const r=JSON.parse(localStorage.getItem("userInfo")||"{}");return t&&!r?.isAdmin?i.jsx(f2,{to:"/dashboard",replace:!0}):i.jsx(i.Fragment,{children:e})}function nP(){const e=bE();return i.jsxs(nte,{children:[i.jsx(mr,{path:"/status",element:i.jsx(tP,{})}),i.jsx(mr,{path:"/status/:monitorId/:hours",element:i.jsx(tP,{})}),i.jsx(mr,{path:"/",element:i.jsx(f2,{to:"/dashboard",replace:!0})}),i.jsx(mr,{path:"/dashboard",element:i.jsx(jCe,{})}),i.jsx(mr,{path:"/dashboard-builder",element:i.jsx(VD,{})}),i.jsx(mr,{path:"/dashboard-builder/:dashboardId",element:i.jsx(VD,{})}),i.jsx(mr,{path:"/dashboard/:monitorId",element:i.jsx(rNe,{})}),e&&i.jsxs(i.Fragment,{children:[i.jsx(mr,{path:"/metrics",element:i.jsx(GCe,{})}),i.jsx(mr,{path:"/application-metrics",element:i.jsx(VCe,{})}),i.jsx(mr,{path:"/clusters-diagram",element:i.jsx(YCe,{})}),i.jsx(mr,{path:"/cluster-events",element:i.jsx(XCe,{})}),i.jsx(mr,{path:"/cluster-prices",element:i.jsx(ZCe,{})}),i.jsx(mr,{path:"/volume-metrics",element:i.jsx(tNe,{})})]}),i.jsx(mr,{path:"/alerts",element:i.jsx(XD,{})}),i.jsx(mr,{path:"/ssl-certificates",element:i.jsx(CNe,{})}),i.jsx(mr,{path:"/groups",element:i.jsx(cNe,{})}),i.jsx(mr,{path:"/agents",element:i.jsx(dNe,{})}),i.jsx(mr,{path:"/notifications",element:i.jsx(gNe,{})}),i.jsx(mr,{path:"/users",element:i.jsx(rP,{requireAdmin:!0,children:i.jsx(pNe,{})})}),i.jsx(mr,{path:"/admin",element:i.jsx(rP,{requireAdmin:!0,children:i.jsx(yNe,{})})}),i.jsx(mr,{path:"/settings",element:i.jsx(xNe,{})}),i.jsx(mr,{path:"/monitor/:monitorId/alerts",element:i.jsx(XD,{})}),i.jsx(mr,{path:"*",element:i.jsx(f2,{to:"/dashboard",replace:!0})})]})}function NNe({onClose:e,onLogin:t}){const[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(""),[m,g]=x.useState(!1),[y,b]=x.useState(null),v=()=>r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?a?l.length<8?(b({field:"password",message:"Password must be at least 8 characters"}),!1):l!==d?(b({field:"repeatPassword",message:"Passwords do not match"}),!1):!0:(b({field:"username",message:"Name is required"}),!1):(b({field:"email",message:"Please enter a valid email address"}),!1):(b({field:"email",message:"Email is required"}),!1),S=async k=>{if(k.preventDefault(),b(null),!!v())try{g(!0),await Ta.post("/api/user/create",{userEmail:r,username:a,password:l,repeatPassword:d});const N=await Ta.post("/api/auth/login",{username:r,password:l});localStorage.setItem("authToken",N.data.token);const E=await Ta.get(`/api/user/${r}`);localStorage.setItem("userInfo",JSON.stringify(E.data)),xe.success("Registration successful!",{position:"bottom-right"}),t(),e()}catch(N){console.error("Registration error:",N),b({field:"general",message:N.response?.data?.message||"Failed to register. Please try again."})}finally{g(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Create Account"}),i.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),y?.field==="general"&&i.jsxs("div",{className:`mx-4 mt-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 
                       text-red-700 dark:text-red-400 flex items-center gap-2`,children:[i.jsx(qt,{className:"w-5 h-5"}),i.jsx("span",{children:y.message})]}),i.jsxs("form",{onSubmit:S,className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Email"}),i.jsx("input",{type:"email",value:r,onChange:k=>n(k.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                       ${y?.field==="email"?"border-red-500":"dark:border-gray-600"} 
                       dark:text-white focus:ring-2 focus:ring-blue-500`,disabled:m}),y?.field==="email"&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Name"}),i.jsx("input",{type:"text",value:a,onChange:k=>s(k.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                       ${y?.field==="username"?"border-red-500":"dark:border-gray-600"} 
                       dark:text-white focus:ring-2 focus:ring-blue-500`,disabled:m}),y?.field==="username"&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Password"}),i.jsx("input",{type:"password",value:l,onChange:k=>u(k.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                       ${y?.field==="password"?"border-red-500":"dark:border-gray-600"} 
                       dark:text-white focus:ring-2 focus:ring-blue-500`,disabled:m}),y?.field==="password"&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Repeat Password"}),i.jsx("input",{type:"password",value:d,onChange:k=>f(k.target.value),className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                       ${y?.field==="repeatPassword"?"border-red-500":"dark:border-gray-600"} 
                       dark:text-white focus:ring-2 focus:ring-blue-500`,disabled:m}),y?.field==="repeatPassword"&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.message})]}),i.jsx("button",{type:"submit",disabled:m,className:`w-full px-4 py-2 rounded-lg bg-blue-500 text-white font-medium
                     hover:bg-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 
                     disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200
                     flex items-center justify-center`,children:m?i.jsx(Je,{size:"sm"}):"Create Account"})]})]})})}function ENe({onClose:e}){const[t,r]=x.useState(""),[n,a]=x.useState(!1),[s,l]=x.useState(null),[u,d]=x.useState(!1),f=async m=>{if(m.preventDefault(),l(null),!t){l("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){l("Please enter a valid email address");return}try{a(!0),await Ta.post(`/api/user/resetpassword/${t}`),d(!0)}catch(g){console.error("Password reset error:",g),l("Failed to reset password. Please try again.")}finally{a(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"w-full max-w-md dark:bg-gray-800 bg-white rounded-lg shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-semibold dark:text-white",children:"Reset Password"}),i.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Dt,{className:"w-5 h-5"})})]}),s&&i.jsxs("div",{className:`mx-4 mt-4 p-3 rounded-lg bg-red-50 dark:bg-red-900/20 
                       text-red-700 dark:text-red-400 flex items-center gap-2`,children:[i.jsx(qt,{className:"w-5 h-5"}),i.jsx("span",{children:s})]}),u?i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 
                           flex items-center justify-center text-green-600 dark:text-green-400`,children:i.jsx(Dn,{className:"w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-medium text-center dark:text-white",children:"Password Reset Email Sent"}),i.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400",children:["Instructions to reset your password have been sent to:",i.jsx("br",{}),i.jsx("span",{className:"font-medium dark:text-gray-300",children:t})]})]}),i.jsx("button",{onClick:e,className:`w-full px-4 py-2 rounded-lg bg-[#5CD4E2] hover:bg-[#4BC3D1] 
                       text-white font-medium transition-colors duration-200`,children:"Close"})]}):i.jsxs("form",{onSubmit:f,className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium dark:text-gray-300 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:t,onChange:m=>r(m.target.value),placeholder:"Enter your email address",className:`w-full px-3 py-2 rounded-lg dark:bg-gray-700 border 
                         dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500`,disabled:n}),i.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"We'll send password reset instructions to this email address."})]}),i.jsx("button",{type:"submit",disabled:n,className:`w-full px-4 py-2 rounded-lg bg-[#5CD4E2] hover:bg-[#4BC3D1] text-white 
                       font-medium focus:ring-2 focus:ring-[#5CD4E2] focus:ring-offset-2 
                       dark:focus:ring-offset-gray-800 disabled:opacity-50 
                       disabled:cursor-not-allowed transition-all duration-200
                       flex items-center justify-center`,children:n?i.jsx(Je,{size:"sm"}):"Reset Password"})]})]})})}function _Ne({onLogin:e}){const{instance:t}=qx(),[r,n]=x.useState(!1),[a,s]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(!1),[m,g]=x.useState(!1),[y,b]=x.useState(null),[v,S]=x.useState(!1),[k,N]=x.useState(!1);x.useEffect(()=>{(async()=>{try{await t.initialize(),n(!0)}catch(A){console.error("Failed to initialize MSAL:",A),b({field:"general",message:"Failed to initialize Microsoft authentication"})}})()},[t]),x.useEffect(()=>{(async()=>{if(r)try{const A=await t.handleRedirectPromise();if(A){localStorage.setItem("authToken",A.accessToken);const R=A.account?.username;if(R)try{const U=await Jt.get(`https://auth.alerthawk.net/auth/api/user/${R}`,{headers:{Authorization:`Bearer ${A.accessToken}`}});localStorage.setItem("userInfo",JSON.stringify(U.data)),e()}catch(U){console.error("Error fetching user info:",U),b({field:"general",message:"Failed to fetch user information"})}else b({field:"general",message:"No email found in Microsoft account"})}}catch(A){console.error("Error handling redirect:",A),b({field:"general",message:"Failed to complete Microsoft authentication"})}})()},[t,r,e]);const E=j=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),_=async j=>{if(j.preventDefault(),b(null),!a){b({field:"email",message:"Email is required"});return}if(!E(a)){b({field:"email",message:"Please enter a valid email address"});return}if(!l){b({field:"password",message:"Password is required"});return}if(l.length<8){b({field:"password",message:"Password must be at least 8 characters"});return}try{g(!0);const A=await Jt.post("https://auth.alerthawk.net/auth/api/auth/login",{username:a,password:l});localStorage.setItem("authToken",A.data.token);try{const R=await Jt.get(`https://auth.alerthawk.net/auth/api/user/${a}`,{headers:{Authorization:`Bearer ${A.data.token}`}});localStorage.setItem("userInfo",JSON.stringify(R.data))}catch(R){console.error("Error fetching user info:",R)}e()}catch(A){b({field:"general",message:"Invalid email or password"}),console.error("Login error:",A)}finally{g(!1)}},O=async()=>{if(!r){b({field:"general",message:"Microsoft authentication is not ready yet"});return}try{g(!0),b(null),await t.loginRedirect(Hh)}catch(j){console.error("Microsoft login error:",j),b({field:"general",message:"Failed to start Microsoft authentication"}),g(!1)}};return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 dark:bg-gray-900 bg-gradient-to-br from-gray-50 via-blue-50 to-cyan-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-900 transition-colors duration-500 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-[#5CD4E2]/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-cyan-400/10 rounded-full blur-3xl animate-pulse delay-2000"})]}),i.jsx("div",{className:"w-full max-w-md relative z-10",children:i.jsxs("div",{className:"backdrop-blur-xl bg-white/80 dark:bg-gray-800/80 rounded-2xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-6 md:p-8 transform transition-all duration-500 hover:shadow-3xl",children:[i.jsxs("div",{className:"flex flex-col items-center mb-6 animate-fade-in",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-0 bg-[#5CD4E2]/20 rounded-full blur-xl animate-pulse"}),i.jsx("img",{src:"../assets/logo.png",alt:"AlertHawk Logo",className:"w-20 h-20 md:w-24 md:h-24 object-contain relative z-10 transform transition-transform duration-300 hover:scale-110"})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold dark:text-white text-gray-900 mb-1 bg-gradient-to-r from-[#5CD4E2] to-blue-600 bg-clip-text text-transparent",children:"AlertHawk"}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(gE,{className:"w-4 h-4 text-[#5CD4E2] animate-pulse"}),i.jsx("p",{className:"text-base md:text-lg dark:text-gray-300 text-gray-700 font-medium",children:"Keep an eye on your infrastructure"})]}),i.jsx("p",{className:"text-xs dark:text-gray-400 text-gray-600 text-center max-w-sm leading-relaxed",children:"AlertHawk is a self-hosted monitoring tool that allows you keep track of service uptime, alerts, infrastructure metrics and more."})]}),y?.field==="general"&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-200 flex items-center gap-2 animate-slide-down shadow-lg",children:[i.jsx(qt,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{className:"text-sm font-medium",children:y.message})]}),i.jsxs("form",{onSubmit:_,className:"space-y-4 mb-5",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx(Yx,{className:"w-5 h-5"})}),i.jsx("input",{id:"email",type:"email",value:a,onChange:j=>s(j.target.value),className:`w-full pl-12 pr-4 py-2.5 rounded-xl dark:bg-gray-700/50 bg-white/90 border-2 
                           ${y?.field==="email"?"border-red-500 dark:border-red-500 focus:border-red-500":"dark:border-gray-600 border-gray-200 focus:border-[#5CD4E2]"} 
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-[#5CD4E2]/20 
                           dark:focus:ring-[#5CD4E2]/30 transition-all duration-200 outline-none
                           placeholder:text-gray-400 dark:placeholder:text-gray-500`,placeholder:"you@example.com",disabled:m})]}),y?.field==="email"&&i.jsxs("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400 flex items-center gap-1.5 animate-slide-down",children:[i.jsx(qt,{className:"w-4 h-4"}),y.message]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold dark:text-gray-300 text-gray-700",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500",children:i.jsx(Dre,{className:"w-5 h-5"})}),i.jsx("input",{id:"password",type:d?"text":"password",value:l,onChange:j=>u(j.target.value),className:`w-full pl-12 pr-12 py-2.5 rounded-xl dark:bg-gray-700/50 bg-white/90 border-2 
                           ${y?.field==="password"?"border-red-500 dark:border-red-500 focus:border-red-500":"dark:border-gray-600 border-gray-200 focus:border-[#5CD4E2]"} 
                           dark:text-white text-gray-900 focus:ring-2 focus:ring-[#5CD4E2]/20 
                           dark:focus:ring-[#5CD4E2]/30 transition-all duration-200 outline-none
                           placeholder:text-gray-400 dark:placeholder:text-gray-500`,placeholder:"Enter your password",disabled:m}),i.jsx("button",{type:"button",onClick:()=>f(!d),className:`absolute right-4 top-1/2 transform -translate-y-1/2 dark:text-gray-400 text-gray-500 
                           hover:text-[#5CD4E2] dark:hover:text-[#5CD4E2] transition-colors duration-200 
                           p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700`,disabled:m,"aria-label":d?"Hide password":"Show password",children:d?i.jsx(wre,{className:"w-5 h-5"}):i.jsx(P7,{className:"w-5 h-5"})})]}),y?.field==="password"&&i.jsxs("p",{className:"mt-1.5 text-sm text-red-600 dark:text-red-400 flex items-center gap-1.5 animate-slide-down",children:[i.jsx(qt,{className:"w-4 h-4"}),y.message]})]}),i.jsx("button",{type:"submit",disabled:m,className:`w-full px-6 py-2.5 rounded-xl bg-gradient-to-r from-blue-600 to-blue-700 
                       hover:from-blue-700 hover:to-blue-800 text-white font-semibold text-base
                       focus:ring-4 focus:ring-blue-500/30 focus:ring-offset-2 dark:focus:ring-offset-gray-800
                       disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 
                       transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl
                       flex items-center justify-center gap-2`,children:m?i.jsxs(i.Fragment,{children:[i.jsx(y2,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Sign In"}),i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 text-sm gap-2",children:[i.jsxs("span",{className:"dark:text-gray-400 text-gray-600",children:["Don't have an account?"," ",i.jsx("button",{onClick:()=>S(!0),className:"text-[#5CD4E2] hover:text-[#4BC3D1] font-semibold hover:underline transition-colors duration-200",children:"Register"})]}),i.jsx("button",{onClick:()=>N(!0),className:"text-[#5CD4E2] hover:text-[#4BC3D1] font-semibold hover:underline transition-colors duration-200",children:"Forgot Password?"})]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t dark:border-gray-700 border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 dark:bg-gray-800/80 bg-white/80 dark:text-gray-400 text-gray-500 font-medium",children:"Or continue with"})})]}),i.jsx("button",{onClick:O,disabled:m,className:`w-full px-6 py-2.5 rounded-xl bg-[#2F2F2F] hover:bg-[#404040] text-white font-semibold
                     flex items-center justify-center gap-3 focus:ring-4 focus:ring-[#2F2F2F]/30 
                     focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 
                     disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-[1.02] 
                     active:scale-[0.98] shadow-lg hover:shadow-xl border border-gray-600/50`,children:m?i.jsxs(i.Fragment,{children:[i.jsx(y2,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{children:"Connecting..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M10 0H0V10H10V0Z",fill:"#F25022"}),i.jsx("path",{d:"M21 0H11V10H21V0Z",fill:"#7FBA00"}),i.jsx("path",{d:"M10 11H0V21H10V11Z",fill:"#00A4EF"}),i.jsx("path",{d:"M21 11H11V21H21V11Z",fill:"#FFB900"})]}),i.jsx("span",{children:"Login with SSO (Microsoft)"})]})}),i.jsx("p",{className:"text-center mt-5 text-xs dark:text-gray-500 text-gray-500",children:"AlertHawk  2025"})]})}),v&&i.jsx(NNe,{onClose:()=>S(!1),onLogin:e}),k&&i.jsx(ENe,{onClose:()=>N(!1)}),i.jsx("style",{children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slide-down {
          from {
            opacity: 0;
            transform: translateY(-5px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in {
          animation: fade-in 0.6s ease-out;
        }
        
        .animate-slide-down {
          animation: slide-down 0.3s ease-out;
        }
        
        .delay-1000 {
          animation-delay: 1s;
        }
        
        .delay-2000 {
          animation-delay: 2s;
        }
      `})]})}function jNe(){const{accounts:e}=qx(),[t,r]=x.useState(()=>localStorage.getItem("authToken")!==null),[n]=x.useState(()=>{const f=localStorage.getItem("sidebarCollapsed");return f!==null?JSON.parse(f):!0}),[a,s]=x.useState(()=>{const f=localStorage.getItem("theme");return f==="light"||f==="dark"||f==="darcula"||f==="monokai"||f==="github-dark"?f:"dark"}),u=wi().pathname.startsWith("/status");x.useEffect(()=>{t&&(async()=>{const m=localStorage.getItem("authToken"),g=localStorage.getItem("userInfo");if(m&&!g)try{let y=e[0]?.username;if(!y)try{const b=JSON.parse(atob(m.split(".")[1]));y=b.email||b.unique_name||b.preferred_username}catch(b){console.error("Failed to decode token:",b);return}if(y){const b=await Jt.get(`https://auth.alerthawk.net/auth/api/user/${y}`,{headers:{Authorization:`Bearer ${m}`}});localStorage.setItem("userInfo",JSON.stringify(b.data))}}catch(y){console.error("Failed to fetch user info:",y)}})()},[t,e]),x.useEffect(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(n))},[n]),x.useEffect(()=>{localStorage.setItem("theme",a),document.documentElement.classList.remove("dark","darcula","monokai","github-dark"),a!=="light"&&document.documentElement.classList.add(a)},[a]);const d=()=>{r(!0)};return u?i.jsx("div",{className:a!=="light"?a:"",children:i.jsx(nP,{})}):t?i.jsx("div",{className:a!=="light"?a:"",children:i.jsx(xse,{theme:a,onThemeChange:s,children:i.jsx(nP,{})})}):i.jsx(_Ne,{onLogin:d})}function ANe(){return i.jsxs(jte,{children:[i.jsx(jNe,{}),i.jsx(iie,{position:"bottom-right",toastOptions:{className:"dark:bg-gray-800 dark:text-white"}})]})}const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,vt=globalThis,Rc="10.36.0";function cu(){return Wb(vt),vt}function Wb(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Rc,t[Rc]=t[Rc]||{}}function Ef(e,t,r=vt){const n=r.__SENTRY__=r.__SENTRY__||{},a=n[Rc]=n[Rc]||{};return a[e]||(a[e]=t())}const TNe=["debug","info","warn","error","log","assert","trace"],INe="Sentry Logger ",fx={};function uu(e){if(!("console"in vt))return e();const t=vt.console,r={},n=Object.keys(fx);n.forEach(a=>{const s=fx[a];r[a]=t[a],t[a]=s});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}function ONe(){Sj().enabled=!0}function MNe(){Sj().enabled=!1}function z$(){return Sj().enabled}function RNe(...e){kj("log",...e)}function DNe(...e){kj("warn",...e)}function PNe(...e){kj("error",...e)}function kj(e,...t){We&&z$()&&uu(()=>{vt.console[e](`${INe}[${e}]:`,...t)})}function Sj(){return We?Ef("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Me={enable:ONe,disable:MNe,isEnabled:z$,log:RNe,warn:DNe,error:PNe},$$=50,tu="?",aP=/\(error: (.*)\)/,sP=/captureMessage|captureException/;function H$(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const s=[],l=r.split(`
`);for(let u=n;u<l.length;u++){let d=l[u];d.length>1024&&(d=d.slice(0,1024));const f=aP.test(d)?d.replace(aP,"$1"):d;if(!f.match(/\S*Error: /)){for(const m of t){const g=m(f);if(g){s.push(g);break}}if(s.length>=$$+a)break}}return UNe(s.slice(a))}}function LNe(e){return Array.isArray(e)?H$(...e):e}function UNe(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(mp(t).function||"")&&t.pop(),t.reverse(),sP.test(mp(t).function||"")&&(t.pop(),sP.test(mp(t).function||"")&&t.pop()),t.slice(0,$$).map(r=>({...r,filename:r.filename||mp(t).filename,function:r.function||tu}))}function mp(e){return e[e.length-1]||{}}const AS="<anonymous>";function yo(e){try{return!e||typeof e!="function"?AS:e.name||AS}catch{return AS}}function iP(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}function q$(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const $p={},oP={};function $l(e,t){$p[e]=$p[e]||[],$p[e].push(t)}function Hl(e,t){if(!oP[e]){oP[e]=!0;try{t()}catch(r){We&&Me.error(`Error while instrumenting ${e}`,r)}}}function ps(e,t){const r=e&&$p[e];if(r)for(const n of r)try{n(t)}catch(a){We&&Me.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${yo(n)}
Error:`,a)}}let TS=null;function K$(e){const t="error";$l(t,e),Hl(t,FNe)}function FNe(){TS=vt.onerror,vt.onerror=function(e,t,r,n,a){return ps("error",{column:n,error:a,line:r,msg:e,url:t}),TS?TS.apply(this,arguments):!1},vt.onerror.__SENTRY_INSTRUMENTED__=!0}let IS=null;function G$(e){const t="unhandledrejection";$l(t,e),Hl(t,BNe)}function BNe(){IS=vt.onunhandledrejection,vt.onunhandledrejection=function(e){return ps("unhandledrejection",e),IS?IS.apply(this,arguments):!0},vt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const W$=Object.prototype.toString;function Vb(e){switch(W$.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return xo(e,Error)}}function _f(e,t){return W$.call(e)===`[object ${t}]`}function V$(e){return _f(e,"ErrorEvent")}function lP(e){return _f(e,"DOMError")}function zNe(e){return _f(e,"DOMException")}function no(e){return _f(e,"String")}function Cj(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Vd(e){return e===null||Cj(e)||typeof e!="object"&&typeof e!="function"}function S0(e){return _f(e,"Object")}function Yb(e){return typeof Event<"u"&&xo(e,Event)}function $Ne(e){return typeof Element<"u"&&xo(e,Element)}function HNe(e){return _f(e,"RegExp")}function jf(e){return!!(e?.then&&typeof e.then=="function")}function qNe(e){return S0(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function xo(e,t){try{return e instanceof t}catch{return!1}}function Y$(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Nj(e){return typeof Request<"u"&&xo(e,Request)}const Ej=vt,KNe=80;function xa(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let s=0,l=0;const u=" > ",d=u.length;let f;const m=Array.isArray(t)?t:t.keyAttrs,g=!Array.isArray(t)&&t.maxStringLength||KNe;for(;r&&s++<n&&(f=GNe(r,m),!(f==="html"||s>1&&l+a.length*d+f.length>=g));)a.push(f),l+=f.length,r=r.parentNode;return a.reverse().join(u)}catch{return"<unknown>"}}function GNe(e,t){const r=e,n=[];if(!r?.tagName)return"";if(Ej.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t?.length?t.filter(l=>r.getAttribute(l)).map(l=>[l,r.getAttribute(l)]):null;if(a?.length)a.forEach(l=>{n.push(`[${l[0]}="${l[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const l=r.className;if(l&&no(l)){const u=l.split(/\s+/);for(const d of u)n.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const l of s){const u=r.getAttribute(l);u&&n.push(`[${l}="${u}"]`)}return n.join("")}function Af(){try{return Ej.document.location.href}catch{return""}}function X$(e){if(!Ej.HTMLElement)return null;let t=e;const r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function da(e,t,r){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const a=r(n);typeof a=="function"&&J$(a,n);try{e[t]=a}catch{We&&Me.log(`Failed to replace method "${t}" in object`,e)}}function ba(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{We&&Me.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function J$(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,ba(e,"__sentry_original__",t)}catch{}}function _j(e){return e.__sentry_original__}function Q$(e){if(Vb(e))return{message:e.message,name:e.name,stack:e.stack,...uP(e)};if(Yb(e)){const t={type:e.type,target:cP(e.target),currentTarget:cP(e.currentTarget),...uP(e)};return typeof CustomEvent<"u"&&xo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function cP(e){try{return $Ne(e)?xa(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function uP(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function WNe(e){const t=Object.keys(Q$(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let nd;function dm(e){if(nd!==void 0)return nd?nd(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),r=vt;return t in r&&typeof r[t]=="function"?(nd=r[t],nd(e)):(nd=null,e())}function Cl(){return dm(()=>Math.random())}function fm(){return dm(()=>Date.now())}function kC(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function dP(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{Y$(a)?r.push(q$(a)):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Hp(e,t,r=!1){return no(e)?HNe(t)?t.test(e):no(t)?r?e===t:e.includes(t):!1:!1}function ao(e,t=[],r=!1){return t.some(n=>Hp(e,n,r))}function VNe(){const e=vt;return e.crypto||e.msCrypto}let OS;function YNe(){return Cl()*16}function Fa(e=VNe()){try{if(e?.randomUUID)return dm(()=>e.randomUUID()).replace(/-/g,"")}catch{}return OS||(OS="10000000100040008000"+1e11),OS.replace(/[018]/g,t=>(t^(YNe()&15)>>t/4).toString(16))}function Z$(e){return e.exception?.values?.[0]}function xc(e){const{message:t,event_id:r}=e;if(t)return t;const n=Z$(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function SC(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],s=a[0]=a[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Yd(e,t){const r=Z$(e);if(!r)return;const n={type:"generic",handled:!0},a=r.mechanism;if(r.mechanism={...n,...a,...t},t&&"data"in t){const s={...a?.data,...t.data};r.mechanism.data=s}}function fP(e){if(XNe(e))return!0;try{ba(e,"__sentry_captured__",!0)}catch{}return!1}function XNe(e){try{return e.__sentry_captured__}catch{}}const eH=1e3;function du(){return fm()/eH}function JNe(){const{performance:e}=vt;if(!e?.now||!e.timeOrigin)return du;const t=e.timeOrigin;return()=>(t+dm(()=>e.now()))/eH}let hP;function ln(){return(hP??(hP=JNe()))()}let MS=null;function QNe(){const{performance:e}=vt;if(!e?.now)return;const t=3e5,r=dm(()=>e.now()),n=fm(),a=e.timeOrigin;if(typeof a=="number"&&Math.abs(a+r-n)<t)return a;const s=e.timing?.navigationStart;return typeof s=="number"&&Math.abs(s+r-n)<t?s:n-r}function wa(){return MS===null&&(MS=QNe()),MS}function ZNe(e){const t=ln(),r={sid:Fa(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>tEe(r)};return e&&Xd(r,e),r}function Xd(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ln(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Fa()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function eEe(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),Xd(e,r)}function tEe(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function hm(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=hm(n[a],t[a],r-1));return n}function bo(){return Fa()}function so(){return Fa().substring(16)}const CC="_sentrySpan";function Jd(e,t){t?ba(e,CC,t):delete e[CC]}function hx(e){return e[CC]}const rEe=100;class vi{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:bo(),sampleRand:Cl()}}clone(){const t=new vi;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Jd(t,hx(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Xd(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this.setTags({[t]:r})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,r){return this.setAttributes({[t]:r})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof vi?r.getScopeData():S0(r)?t:void 0,{tags:a,attributes:s,extra:l,user:u,contexts:d,level:f,fingerprint:m=[],propagationContext:g}=n||{};return this._tags={...this._tags,...a},this._attributes={...this._attributes,...s},this._extra={...this._extra,...l},this._contexts={...this._contexts,...d},u&&Object.keys(u).length&&(this._user=u),f&&(this._level=f),m.length&&(this._fingerprint=m),g&&(this._propagationContext=g),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Jd(this,void 0),this._attachments=[],this.setPropagationContext({traceId:bo(),sampleRand:Cl()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:rEe;if(n<=0)return this;const a={timestamp:du(),...t,message:t.message?kC(t.message,2048):t.message};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:hx(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=hm(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r?.event_id||Fa();if(!this._client)return We&&Me.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=n?.event_id||Fa();if(!this._client)return We&&Me.warn("No client configured on scope - will not capture message!"),a;const s=n?.syntheticException??new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:s,...n,event_id:a},this),a}captureEvent(t,r){const n=r?.event_id||Fa();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(We&&Me.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function nEe(){return Ef("defaultCurrentScope",()=>new vi)}function aEe(){return Ef("defaultIsolationScope",()=>new vi)}class sEe{constructor(t,r){let n;t?n=t:n=new vi;let a;r?a=r:a=new vi,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return jf(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Qd(){const e=cu(),t=Wb(e);return t.stack=t.stack||new sEe(nEe(),aEe())}function iEe(e){return Qd().withScope(e)}function oEe(e,t){const r=Qd();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function mP(e){return Qd().withScope(()=>e(Qd().getIsolationScope()))}function lEe(){return{withIsolationScope:mP,withScope:iEe,withSetScope:oEe,withSetIsolationScope:(e,t)=>mP(t),getCurrentScope:()=>Qd().getScope(),getIsolationScope:()=>Qd().getIsolationScope()}}function Tf(e){const t=Wb(e);return t.acs?t.acs:lEe()}function Bt(){const e=cu();return Tf(e).getCurrentScope()}function Ci(){const e=cu();return Tf(e).getIsolationScope()}function cEe(){return Ef("globalScope",()=>new vi)}function Xb(...e){const t=cu(),r=Tf(t);if(e.length===2){const[n,a]=e;return n?r.withSetScope(n,a):r.withScope(a)}return r.withScope(e[0])}function wt(){return Bt().getClient()}function uEe(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:a}=t,s={trace_id:r,span_id:a||so()};return n&&(s.parent_span_id=n),s}const Us="sentry.source",jj="sentry.sample_rate",tH="sentry.previous_trace_sample_rate",vo="sentry.op",Vr="sentry.origin",C0="sentry.idle_span_finish_reason",mm="sentry.measurement_unit",gm="sentry.measurement_value",gP="sentry.custom_span_name",Aj="sentry.profile_id",If="sentry.exclusive_time",dEe="sentry.link.type",fEe=0,Tj=1,qr=2;function hEe(e){if(e<400&&e>=100)return{code:Tj};if(e>=400&&e<500)switch(e){case 401:return{code:qr,message:"unauthenticated"};case 403:return{code:qr,message:"permission_denied"};case 404:return{code:qr,message:"not_found"};case 409:return{code:qr,message:"already_exists"};case 413:return{code:qr,message:"failed_precondition"};case 429:return{code:qr,message:"resource_exhausted"};case 499:return{code:qr,message:"cancelled"};default:return{code:qr,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:qr,message:"unimplemented"};case 503:return{code:qr,message:"unavailable"};case 504:return{code:qr,message:"deadline_exceeded"};default:return{code:qr,message:"internal_error"}}return{code:qr,message:"internal_error"}}function rH(e,t){e.setAttribute("http.response.status_code",t);const r=hEe(t);r.message!=="unknown_error"&&e.setStatus(r)}const nH="_sentryScope",aH="_sentryIsolationScope";function mEe(e){try{const t=vt.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function gEe(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function pEe(e,t,r){e&&(ba(e,aH,mEe(r)),ba(e,nH,t))}function mx(e){const t=e;return{scope:t[nH],isolationScope:gEe(t[aH])}}const Ij="sentry-",yEe=/^sentry-/,xEe=8192;function sH(e){const t=vEe(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,s])=>{if(a.match(yEe)){const l=a.slice(Ij.length);n[l]=s}return n},{});if(Object.keys(r).length>0)return r}function bEe(e){if(!e)return;const t=Object.entries(e).reduce((r,[n,a])=>(a&&(r[`${Ij}${n}`]=a),r),{});return wEe(t)}function vEe(e){if(!(!e||!no(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{const n=pP(r);return Object.entries(n).forEach(([a,s])=>{t[a]=s}),t},{}):pP(e)}function pP(e){return e.split(",").map(t=>{const r=t.indexOf("=");if(r===-1)return[];const n=t.slice(0,r),a=t.slice(r+1);return[n,a].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}function wEe(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],a)=>{const s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,l=a===0?s:`${t},${s}`;return l.length>xEe?(We&&Me.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):l},"")}const kEe=/^o(\d+)\./,SEe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function CEe(e){return e==="http"||e==="https"}function Of(e,t=!1){const{host:r,path:n,pass:a,port:s,projectId:l,protocol:u,publicKey:d}=e;return`${u}://${d}${t&&a?`:${a}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${l}`}function NEe(e){const t=SEe.exec(e);if(!t){uu(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,a="",s="",l="",u=""]=t.slice(1);let d="",f=u;const m=f.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),f=m.pop()),f){const g=f.match(/^\d+/);g&&(f=g[0])}return iH({host:s,pass:a,path:d,projectId:f,port:l,protocol:r,publicKey:n})}function iH(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function EEe(e){if(!We)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(l=>e[l]?!1:(Me.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:r.match(/^\d+$/)?CEe(n)?t&&isNaN(parseInt(t,10))?(Me.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Me.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Me.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function _Ee(e){return e.match(kEe)?.[1]}function jEe(e){const t=e.getOptions(),{host:r}=e.getDsn()||{};let n;return t.orgId?n=String(t.orgId):r&&(n=_Ee(r)),n}function AEe(e){const t=typeof e=="string"?NEe(e):iH(e);if(!(!t||!EEe(t)))return t}function ru(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const oH=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function TEe(e){if(!e)return;const t=e.match(oH);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function IEe(e,t){const r=TEe(e),n=sH(t);if(!r?.traceId)return{traceId:bo(),sampleRand:Cl()};const a=OEe(r,n);n&&(n.sample_rand=a.toString());const{traceId:s,parentSpanId:l,parentSampled:u}=r;return{traceId:s,parentSpanId:l,sampled:u,dsc:n||{},sampleRand:a}}function lH(e=bo(),t=so(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}function cH(e=bo(),t=so(),r){return`00-${e}-${t}-${r?"01":"00"}`}function OEe(e,t){const r=ru(t?.sample_rand);if(r!==void 0)return r;const n=ru(t?.sample_rate);return n&&e?.parentSampled!==void 0?e.parentSampled?Cl()*n:n+Cl()*(1-n):Cl()}const uH=0,Oj=1;let yP=!1;function MEe(e){const{spanId:t,traceId:r}=e.spanContext(),{data:n,op:a,parent_span_id:s,status:l,origin:u,links:d}=Nt(e);return{parent_span_id:s,span_id:t,trace_id:r,data:n,op:a,status:l,origin:u,links:d}}function REe(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext(),a=n?t:Nt(e).parent_span_id,s=mx(e).scope,l=n?s?.getPropagationContext().propagationSpanId||so():t;return{parent_span_id:a,span_id:l,trace_id:r}}function DEe(e){const{traceId:t,spanId:r}=e.spanContext(),n=ql(e);return lH(t,r,n)}function PEe(e){const{traceId:t,spanId:r}=e.spanContext(),n=ql(e);return cH(t,r,n)}function dH(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:r,traceFlags:n,...a},attributes:s})=>({span_id:t,trace_id:r,sampled:n===Oj,attributes:s,...a}))}function Dc(e){return typeof e=="number"?xP(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xP(e.getTime()):ln()}function xP(e){return e>9999999999?e/1e3:e}function Nt(e){if(UEe(e))return e.getSpanJSON();const{spanId:t,traceId:r}=e.spanContext();if(LEe(e)){const{attributes:n,startTime:a,name:s,endTime:l,status:u,links:d}=e,f="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:r,data:n,description:s,parent_span_id:f,start_timestamp:Dc(a),timestamp:Dc(l)||void 0,status:fH(u),op:n[vo],origin:n[Vr],links:dH(d)}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function LEe(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function UEe(e){return typeof e.getSpanJSON=="function"}function ql(e){const{traceFlags:t}=e.spanContext();return t===Oj}function fH(e){if(!(!e||e.code===fEe))return e.code===Tj?"ok":e.message||"internal_error"}const Pc="_sentryChildSpans",NC="_sentryRootSpan";function hH(e,t){const r=e[NC]||e;ba(t,NC,r),e[Pc]?e[Pc].add(t):ba(e,Pc,new Set([t]))}function FEe(e,t){e[Pc]&&e[Pc].delete(t)}function qp(e){const t=new Set;function r(n){if(!t.has(n)&&ql(n)){t.add(n);const a=n[Pc]?Array.from(n[Pc]):[];for(const s of a)r(s)}}return r(e),Array.from(t)}function Rn(e){return e[NC]||e}function Xn(){const e=cu(),t=Tf(e);return t.getActiveSpan?t.getActiveSpan():hx(Bt())}function EC(){yP||(uu(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),yP=!0)}let bP=!1;function BEe(){if(bP)return;function e(){const t=Xn(),r=t&&Rn(t);if(r){const n="internal_error";We&&Me.log(`[Tracing] Root span: ${n} -> Global error occurred`),r.setStatus({code:qr,message:n})}}e.tag="sentry_tracingErrorCallback",bP=!0,K$(e),G$(e)}function zs(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||wt()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function vP(e){Me.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function gx(e,t){if(!t?.length||!e.description)return!1;for(const r of t){if($Ee(r)){if(Hp(e.description,r))return We&&vP(e),!0;continue}if(!r.name&&!r.op)continue;const n=r.name?Hp(e.description,r.name):!0,a=r.op?e.op&&Hp(e.op,r.op):!0;if(n&&a)return We&&vP(e),!0}return!1}function zEe(e,t){const r=t.parent_span_id,n=t.span_id;if(r)for(const a of e)a.parent_span_id===n&&(a.parent_span_id=r)}function $Ee(e){return typeof e=="string"||e instanceof RegExp}const Mj="production",mH="_frozenDsc";function Kp(e,t){ba(e,mH,t)}function gH(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a={environment:r.environment||Mj,release:r.release,public_key:n,trace_id:e,org_id:jEe(t)};return t.emit("createDsc",a),a}function pH(e,t){const r=t.getPropagationContext();return r.dsc||gH(r.traceId,e)}function wo(e){const t=wt();if(!t)return{};const r=Rn(e),n=Nt(r),a=n.data,s=r.spanContext().traceState,l=s?.get("sentry.sample_rate")??a[jj]??a[tH];function u(v){return(typeof l=="number"||typeof l=="string")&&(v.sample_rate=`${l}`),v}const d=r[mH];if(d)return u(d);const f=s?.get("sentry.dsc"),m=f&&sH(f);if(m)return u(m);const g=gH(e.spanContext().traceId,t),y=a[Us],b=n.description;return y!=="url"&&b&&(g.transaction=b),zs()&&(g.sampled=String(ql(r)),g.sample_rand=s?.get("sentry.sample_rand")??mx(r).scope?.getPropagationContext().sampleRand.toString()),u(g),t.emit("createDsc",g,r),g}class Rl{constructor(t={}){this._traceId=t.traceId||bo(),this._spanId=t.spanId||so()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:uH}}end(t){}setAttribute(t,r){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,r,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,r){}}function Ms(e,t=100,r=1/0){try{return _C("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function yH(e,t=3,r=100*1024){const n=Ms(e,t);return GEe(n)>r?yH(e,t-1,r):n}function _C(e,t,r=1/0,n=1/0,a=WEe()){const[s,l]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const u=HEe(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;const d=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(d===0)return u.replace("object ","");if(s(t))return"[Circular ~]";const f=t;if(f&&typeof f.toJSON=="function")try{const b=f.toJSON();return _C("",b,d-1,n,a)}catch{}const m=Array.isArray(t)?[]:{};let g=0;const y=Q$(t);for(const b in y){if(!Object.prototype.hasOwnProperty.call(y,b))continue;if(g>=n){m[b]="[MaxProperties ~]";break}const v=y[b];m[b]=_C(b,v,d-1,n,a),g++}return l(t),m}function HEe(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Y$(t))return q$(t);if(qNe(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${yo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=qEe(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function qEe(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function KEe(e){return~-encodeURI(e).split(/%..|./).length}function GEe(e){return KEe(JSON.stringify(e))}function WEe(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function r(n){e.delete(n)}return[t,r]}function Kl(e,t=[]){return[e,t]}function VEe(e,t){const[r,n]=e;return[r,[...n,t]]}function jC(e,t){const r=e[1];for(const n of r){const a=n[0].type;if(t(n,a))return!0}return!1}function YEe(e,t){return jC(e,(r,n)=>t.includes(n))}function AC(e){const t=Wb(vt);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function XEe(e){const[t,r]=e;let n=JSON.stringify(t);function a(s){typeof n=="string"?n=typeof s=="string"?n+s:[AC(n),s]:n.push(typeof s=="string"?AC(s):s)}for(const s of r){const[l,u]=s;if(a(`
${JSON.stringify(l)}
`),typeof u=="string"||u instanceof Uint8Array)a(u);else{let d;try{d=JSON.stringify(u)}catch{d=JSON.stringify(Ms(u))}a(d)}}return typeof n=="string"?n:JEe(n)}function JEe(e){const t=e.reduce((a,s)=>a+s.length,0),r=new Uint8Array(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return r}function QEe(e){return[{type:"span"},e]}function ZEe(e){const t=typeof e.data=="string"?AC(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const e_e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function wP(e){return e_e[e]}function Rj(e){if(!e?.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function xH(e,t,r,n){const a=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:Of(n)},...a&&{trace:a}}}function t_e(e,t){if(!t)return e;const r=e.sdk||{};return e.sdk={...r,name:r.name||t.name,version:r.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function r_e(e,t,r,n){const a=Rj(r),s={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!n&&t&&{dsn:Of(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Kl(s,[l])}function n_e(e,t,r,n){const a=Rj(r),s=e.type&&e.type!=="replay_event"?e.type:"event";t_e(e,r?.sdk);const l=xH(e,a,n,t);return delete e.sdkProcessingMetadata,Kl(l,[[{type:s},e]])}function a_e(e,t){function r(b){return!!b.trace_id&&!!b.public_key}const n=wo(e[0]),a=t?.getDsn(),s=t?.getOptions().tunnel,l={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!s&&a&&{dsn:Of(a)}},{beforeSendSpan:u,ignoreSpans:d}=t?.getOptions()||{},f=d?.length?e.filter(b=>!gx(Nt(b),d)):e,m=e.length-f.length;m&&t?.recordDroppedEvent("before_send","span",m);const g=u?b=>{const v=Nt(b),S=u(v);return S||(EC(),v)}:Nt,y=[];for(const b of f){const v=g(b);v&&y.push(QEe(v))}return Kl(l,y)}function s_e(e){if(!We)return;const{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Nt(e),{spanId:a}=e.spanContext(),s=ql(e),l=Rn(e),u=l===e,d=`[Tracing] Starting ${s?"sampled":"unsampled"} ${u?"root ":""}span`,f=[`op: ${r}`,`name: ${t}`,`ID: ${a}`];if(n&&f.push(`parent ID: ${n}`),!u){const{op:m,description:g}=Nt(l);f.push(`root ID: ${l.spanContext().spanId}`),m&&f.push(`root op: ${m}`),g&&f.push(`root description: ${g}`)}Me.log(`${d}
  ${f.join(`
  `)}`)}function i_e(e){if(!We)return;const{description:t="< unknown name >",op:r="< unknown op >"}=Nt(e),{spanId:n}=e.spanContext(),s=Rn(e)===e,l=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${t}" with ID ${n}`;Me.log(l)}function o_e(e,t,r,n=Xn()){const a=n&&Rn(n);a&&(We&&Me.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${r}`),a.addEvent(e,{[gm]:t,[mm]:r}))}function kP(e){if(!e||e.length===0)return;const t={};return e.forEach(r=>{const n=r.attributes||{},a=n[mm],s=n[gm];typeof a=="string"&&typeof s=="number"&&(t[r.name]={value:s,unit:a})}),t}const SP=1e3;class Jb{constructor(t={}){this._traceId=t.traceId||bo(),this._spanId=t.spanId||so(),this._startTime=t.startTimestamp||ln(),this._links=t.links,this._attributes={},this.setAttributes({[Vr]:"manual",[vo]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,r){}spanContext(){const{_spanId:t,_traceId:r,_sampled:n}=this;return{spanId:t,traceId:r,traceFlags:n?Oj:uH}}setAttribute(t,r){return r===void 0?delete this._attributes[t]:this._attributes[t]=r,this}setAttributes(t){return Object.keys(t).forEach(r=>this.setAttribute(r,t[r])),this}updateStartTime(t){this._startTime=Dc(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Us,"custom"),this}end(t){this._endTime||(this._endTime=Dc(t),i_e(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[vo],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:fH(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Vr],profile_id:this._attributes[Aj],exclusive_time:this._attributes[If],measurements:kP(this._events),is_segment:this._isStandaloneSpan&&Rn(this)===this||void 0,segment_id:this._isStandaloneSpan?Rn(this).spanContext().spanId:void 0,links:dH(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,r,n){We&&Me.log("[Tracing] Adding an event to span:",t);const a=CP(r)?r:n||ln(),s=CP(r)?{}:r||{},l={name:t,time:Dc(a),attributes:s};return this._events.push(l),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=wt();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Rn(this)))return;if(this._isStandaloneSpan){this._sampled?c_e(a_e([this],t)):(We&&Me.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const n=this._convertSpanToTransaction();n&&(mx(this).scope||Bt()).captureEvent(n)}_convertSpanToTransaction(){if(!NP(Nt(this)))return;this._name||(We&&Me.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:r}=mx(this),n=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=qp(this).filter(m=>m!==this&&!l_e(m)).map(m=>Nt(m)).filter(NP),l=this._attributes[Us];delete this._attributes[gP],s.forEach(m=>{delete m.data[gP]});const u={contexts:{trace:MEe(this)},spans:s.length>SP?s.sort((m,g)=>m.start_timestamp-g.start_timestamp).slice(0,SP):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:r,dynamicSamplingContext:wo(this)},request:n,...l&&{transaction_info:{source:l}}},d=kP(this._events);return d&&Object.keys(d).length&&(We&&Me.log("[Measurements] Adding measurements to transaction event",JSON.stringify(d,void 0,2)),u.measurements=d),u}}function CP(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function NP(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function l_e(e){return e instanceof Jb&&e.isStandaloneSpan()}function c_e(e){const t=wt();if(!t)return;const r=e[1];if(!r||r.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function u_e(e,t,r=()=>{},n=()=>{}){let a;try{a=e()}catch(s){throw t(s),r(),s}return d_e(a,t,r,n)}function d_e(e,t,r,n){return jf(e)?e.then(a=>(r(),n(a),a),a=>{throw t(a),r(),a}):(r(),n(e),e)}function f_e(e,t,r){if(!zs(e))return[!1];let n,a;typeof e.tracesSampler=="function"?(a=e.tracesSampler({...t,inheritOrSampleWith:u=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):u}),n=!0):t.parentSampled!==void 0?a=t.parentSampled:typeof e.tracesSampleRate<"u"&&(a=e.tracesSampleRate,n=!0);const s=ru(a);if(s===void 0)return We&&Me.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!s)return We&&Me.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,n];const l=r<s;return l||We&&Me.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[l,s,n]}const bH="__SENTRY_SUPPRESS_TRACING__";function h_e(e,t){const r=Pj();if(r.startSpan)return r.startSpan(e,t);const n=wH(e),{forceTransaction:a,parentSpan:s,scope:l}=e,u=l?.clone();return Xb(u,()=>g_e(s)(()=>{const f=Bt(),m=kH(f,s),y=e.onlyIfParent&&!m?new Rl:vH({parentSpan:m,spanArguments:n,forceTransaction:a,scope:f});return Jd(f,y),u_e(()=>t(y),()=>{const{status:b}=Nt(y);y.isRecording()&&(!b||b==="ok")&&y.setStatus({code:qr,message:"internal_error"})},()=>{y.end()})}))}function Mf(e){const t=Pj();if(t.startInactiveSpan)return t.startInactiveSpan(e);const r=wH(e),{forceTransaction:n,parentSpan:a}=e;return(e.scope?l=>Xb(e.scope,l):a!==void 0?l=>Dj(a,l):l=>l())(()=>{const l=Bt(),u=kH(l,a);return e.onlyIfParent&&!u?new Rl:vH({parentSpan:u,spanArguments:r,forceTransaction:n,scope:l})})}function Dj(e,t){const r=Pj();return r.withActiveSpan?r.withActiveSpan(e,t):Xb(n=>(Jd(n,e||void 0),t(n)))}function vH({parentSpan:e,spanArguments:t,forceTransaction:r,scope:n}){if(!zs()){const l=new Rl;if(r||!e){const u={sampled:"false",sample_rate:"0",transaction:t.name,...wo(l)};Kp(l,u)}return l}const a=Ci();let s;if(e&&!r)s=m_e(e,n,t),hH(e,s);else if(e){const l=wo(e),{traceId:u,spanId:d}=e.spanContext(),f=ql(e);s=EP({traceId:u,parentSpanId:d,...t},n,f),Kp(s,l)}else{const{traceId:l,dsc:u,parentSpanId:d,sampled:f}={...a.getPropagationContext(),...n.getPropagationContext()};s=EP({traceId:l,parentSpanId:d,...t},n,f),u&&Kp(s,u)}return s_e(s),pEe(s,n,a),s}function wH(e){const r={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...r};return n.startTimestamp=Dc(e.startTime),delete n.startTime,n}return r}function Pj(){const e=cu();return Tf(e)}function EP(e,t,r){const n=wt(),a=n?.getOptions()||{},{name:s=""}=e,l={spanAttributes:{...e.attributes},spanName:s,parentSampled:r};n?.emit("beforeSampling",l,{decision:!1});const u=l.parentSampled??r,d=l.spanAttributes,f=t.getPropagationContext(),[m,g,y]=t.getScopeData().sdkProcessingMetadata[bH]?[!1]:f_e(a,{name:s,parentSampled:u,attributes:d,parentSampleRate:ru(f.dsc?.sample_rate)},f.sampleRand),b=new Jb({...e,attributes:{[Us]:"custom",[jj]:g!==void 0&&y?g:void 0,...d},sampled:m});return!m&&n&&(We&&Me.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),n.recordDroppedEvent("sample_rate","transaction")),n&&n.emit("spanStart",b),b}function m_e(e,t,r){const{spanId:n,traceId:a}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[bH]?!1:ql(e),l=s?new Jb({...r,parentSpanId:n,traceId:a,sampled:s}):new Rl({traceId:a});hH(e,l);const u=wt();return u&&(u.emit("spanStart",l),r.endTimestamp&&u.emit("spanEnd",l)),l}function kH(e,t){if(t)return t;if(t===null)return;const r=hx(e);if(!r)return;const n=wt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Rn(r):r}function g_e(e){return e!==void 0?t=>Dj(e,t):t=>t()}const Gp={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},p_e="heartbeatFailed",y_e="idleTimeout",x_e="finalTimeout",b_e="externalFinish";function SH(e,t={}){const r=new Map;let n=!1,a,s=b_e,l=!t.disableAutoFinish;const u=[],{idleTimeout:d=Gp.idleTimeout,finalTimeout:f=Gp.finalTimeout,childSpanTimeout:m=Gp.childSpanTimeout,beforeSpanEnd:g,trimIdleSpanEndTimestamp:y=!0}=t,b=wt();if(!b||!zs()){const R=new Rl,U={sample_rate:"0",sampled:"false",...wo(R)};return Kp(R,U),R}const v=Bt(),S=Xn(),k=v_e(e);k.end=new Proxy(k.end,{apply(R,U,V){if(g&&g(k),U instanceof Rl)return;const[W,...G]=V,$=W||ln(),z=Dc($),Y=qp(k).filter(D=>D!==k),le=Nt(k);if(!Y.length||!y)return A(z),Reflect.apply(R,U,[z,...G]);const H=b.getOptions().ignoreSpans,ee=Y?.reduce((D,M)=>{const L=Nt(M);return!L.timestamp||H&&gx(L,H)?D:D?Math.max(D,L.timestamp):L.timestamp},void 0),q=le.start_timestamp,te=Math.min(q?q+f/1e3:1/0,Math.max(q||-1/0,Math.min(z,ee||1/0)));return A(te),Reflect.apply(R,U,[te,...G])}});function N(){a&&(clearTimeout(a),a=void 0)}function E(R){N(),a=setTimeout(()=>{!n&&r.size===0&&l&&(s=y_e,k.end(R))},d)}function _(R){a=setTimeout(()=>{!n&&l&&(s=p_e,k.end(R))},m)}function O(R){N(),r.set(R,!0);const U=ln();_(U+m/1e3)}function j(R){if(r.has(R)&&r.delete(R),r.size===0){const U=ln();E(U+d/1e3)}}function A(R){n=!0,r.clear(),u.forEach(Y=>Y()),Jd(v,S);const U=Nt(k),{start_timestamp:V}=U;if(!V)return;U.data[C0]||k.setAttribute(C0,s);const G=U.status;(!G||G==="unknown")&&k.setStatus({code:Tj}),Me.log(`[Tracing] Idle span "${U.op}" finished`);const $=qp(k).filter(Y=>Y!==k);let z=0;$.forEach(Y=>{Y.isRecording()&&(Y.setStatus({code:qr,message:"cancelled"}),Y.end(R),We&&Me.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Y,void 0,2)));const le=Nt(Y),{timestamp:H=0,start_timestamp:ee=0}=le,q=ee<=R,te=(f+d)/1e3,D=H-ee<=te;if(We){const M=JSON.stringify(Y,void 0,2);q?D||Me.log("[Tracing] Discarding span since it finished after idle span final timeout",M):Me.log("[Tracing] Discarding span since it happened after idle span was finished",M)}(!D||!q)&&(FEe(k,Y),z++)}),z>0&&k.setAttribute("sentry.idle_span_discarded_spans",z)}return u.push(b.on("spanStart",R=>{if(n||R===k||Nt(R).timestamp||R instanceof Jb&&R.isStandaloneSpan())return;qp(k).includes(R)&&O(R.spanContext().spanId)})),u.push(b.on("spanEnd",R=>{n||j(R.spanContext().spanId)})),u.push(b.on("idleSpanEnableAutoFinish",R=>{R===k&&(l=!0,E(),r.size&&_())})),t.disableAutoFinish||E(),setTimeout(()=>{n||(k.setStatus({code:qr,message:"deadline_exceeded"}),s=x_e,k.end())},f),k}function v_e(e){const t=Mf(e);return Jd(Bt(),t),We&&Me.log("[Tracing] Started span is an idle span"),t}const RS=0,_P=1,jP=2;function Qb(e){return new N0(t=>{t(e)})}function Lj(e){return new N0((t,r)=>{r(e)})}class N0{constructor(t){this._state=RS,this._handlers=[],this._runExecutor(t)}then(t,r){return new N0((n,a)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(l){a(l)}},s=>{if(!r)a(s);else try{n(r(s))}catch(l){a(l)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new N0((r,n)=>{let a,s;return this.then(l=>{s=!1,a=l,t&&t()},l=>{s=!0,a=l,t&&t()}).then(()=>{if(s){n(a);return}r(a)})})}_executeHandlers(){if(this._state===RS)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===_P&&r[1](this._value),this._state===jP&&r[2](this._value),r[0]=!0)})}_runExecutor(t){const r=(s,l)=>{if(this._state===RS){if(jf(l)){l.then(n,a);return}this._state=s,this._value=l,this._executeHandlers()}},n=s=>{r(_P,s)},a=s=>{r(jP,s)};try{t(n,a)}catch(s){a(s)}}}function w_e(e,t,r,n=0){try{const a=TC(t,r,e,n);return jf(a)?a:Qb(a)}catch(a){return Lj(a)}}function TC(e,t,r,n){const a=r[n];if(!e||!a)return e;const s=a({...e},t);return We&&s===null&&Me.log(`Event processor "${a.id||"?"}" dropped event`),jf(s)?s.then(l=>TC(l,t,r,n+1)):TC(s,t,r,n+1)}let dc,AP,TP,rl;function k_e(e){const t=vt._sentryDebugIds,r=vt._debugIds;if(!t&&!r)return{};const n=t?Object.keys(t):[],a=r?Object.keys(r):[];if(rl&&n.length===AP&&a.length===TP)return rl;AP=n.length,TP=a.length,rl={},dc||(dc={});const s=(l,u)=>{for(const d of l){const f=u[d],m=dc?.[d];if(m&&rl&&f)rl[m[0]]=f,dc&&(dc[d]=[m[0],f]);else if(f){const g=e(d);for(let y=g.length-1;y>=0;y--){const v=g[y]?.filename;if(v&&rl&&dc){rl[v]=f,dc[d]=[v,f];break}}}}};return t&&s(n,t),r&&s(a,r),rl}function S_e(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:s}=t;N_e(e,t),n&&j_e(e,n),A_e(e,r),E_e(e,a),__e(e,s)}function IP(e,t){const{extra:r,tags:n,attributes:a,user:s,contexts:l,level:u,sdkProcessingMetadata:d,breadcrumbs:f,fingerprint:m,eventProcessors:g,attachments:y,propagationContext:b,transactionName:v,span:S}=t;Bh(e,"extra",r),Bh(e,"tags",n),Bh(e,"attributes",a),Bh(e,"user",s),Bh(e,"contexts",l),e.sdkProcessingMetadata=hm(e.sdkProcessingMetadata,d,2),u&&(e.level=u),v&&(e.transactionName=v),S&&(e.span=S),f.length&&(e.breadcrumbs=[...e.breadcrumbs,...f]),m.length&&(e.fingerprint=[...e.fingerprint,...m]),g.length&&(e.eventProcessors=[...e.eventProcessors,...g]),y.length&&(e.attachments=[...e.attachments,...y]),e.propagationContext={...e.propagationContext,...b}}function Bh(e,t,r){e[t]=hm(e[t],r,1)}function C_e(e,t){const r=cEe().getScopeData();return e&&IP(r,e.getScopeData()),t&&IP(r,t.getScopeData()),r}function N_e(e,t){const{extra:r,tags:n,user:a,contexts:s,level:l,transactionName:u}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(a).length&&(e.user={...a,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),l&&(e.level=l),u&&e.type!=="transaction"&&(e.transaction=u)}function E_e(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function __e(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function j_e(e,t){e.contexts={trace:REe(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:wo(t),...e.sdkProcessingMetadata};const r=Rn(t),n=Nt(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function A_e(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function CH(e,t,r,n,a,s){const{normalizeDepth:l=3,normalizeMaxBreadth:u=1e3}=e,d={...t,event_id:t.event_id||r.event_id||Fa(),timestamp:t.timestamp||du()},f=r.integrations||e.integrations.map(k=>k.name);T_e(d,e),M_e(d,f),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&I_e(d,e.stackParser);const m=D_e(n,r.captureContext);r.mechanism&&Yd(d,r.mechanism);const g=a?a.getEventProcessors():[],y=C_e(s,m),b=[...r.attachments||[],...y.attachments];b.length&&(r.attachments=b),S_e(d,y);const v=[...g,...y.eventProcessors];return w_e(v,d,r).then(k=>(k&&O_e(k),typeof l=="number"&&l>0?R_e(k,l,u):k))}function T_e(e,t){const{environment:r,release:n,dist:a,maxValueLength:s}=t;e.environment=e.environment||r||Mj,!e.release&&n&&(e.release=n),!e.dist&&a&&(e.dist=a);const l=e.request;l?.url&&s&&(l.url=kC(l.url,s)),s&&e.exception?.values?.forEach(u=>{u.value&&(u.value=kC(u.value,s))})}function I_e(e,t){const r=k_e(t);e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(a=>{a.filename&&(a.debug_id=r[a.filename])})})}function O_e(e){const t={};if(e.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(a=>{a.debug_id&&(a.abs_path?t[a.abs_path]=a.debug_id:a.filename&&(t[a.filename]=a.debug_id),delete a.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach(([n,a])=>{r.push({type:"sourcemap",code_file:n,debug_id:a})})}function M_e(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function R_e(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(a=>({...a,...a.data&&{data:Ms(a.data,t,r)}}))},...e.user&&{user:Ms(e.user,t,r)},...e.contexts&&{contexts:Ms(e.contexts,t,r)},...e.extra&&{extra:Ms(e.extra,t,r)}};return e.contexts?.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Ms(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(a=>({...a,...a.data&&{data:Ms(a.data,t,r)}}))),e.contexts?.flags&&n.contexts&&(n.contexts.flags=Ms(e.contexts.flags,3,r)),n}function D_e(e,t){if(!t)return e;const r=e?e.clone():new vi;return r.update(t),r}function P_e(e){if(e)return L_e(e)?{captureContext:e}:F_e(e)?{captureContext:e}:e}function L_e(e){return e instanceof vi||typeof e=="function"}const U_e=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function F_e(e){return Object.keys(e).some(t=>U_e.includes(t))}function NH(e,t){return Bt().captureException(e,P_e(t))}function EH(e,t){return Bt().captureEvent(e,t)}function _H(e,t){Ci().setContext(e,t)}function B_e(){const e=wt();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function z_e(e){Ci().addEventProcessor(e)}function OP(e){const t=Ci(),r=Bt(),{userAgent:n}=vt.navigator||{},a=ZNe({user:r.getUser()||t.getUser(),...n&&{userAgent:n},...e}),s=t.getSession();return s?.status==="ok"&&Xd(s,{status:"exited"}),jH(),t.setSession(a),a}function jH(){const e=Ci(),r=Bt().getSession()||e.getSession();r&&eEe(r),AH(),e.setSession()}function AH(){const e=Ci(),t=wt(),r=e.getSession();r&&t&&t.captureSession(r)}function MP(e=!1){if(e){jH();return}AH()}const $_e="7";function H_e(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function q_e(e){return`${H_e(e)}${e.projectId}/envelope/`}function K_e(e,t){const r={sentry_version:$_e};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function G_e(e,t,r){return t||`${q_e(e)}?${K_e(e,r)}`}const RP=[];function W_e(e){const t={};return e.forEach(r=>{const{name:n}=r,a=t[n];a&&!a.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.values(t)}function V_e(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...t,...r];else if(typeof r=="function"){const a=r(t);n=Array.isArray(a)?a:[a]}else n=t;return W_e(n)}function Y_e(e,t){const r={};return t.forEach(n=>{n&&TH(e,n,r)}),r}function DP(e,t){for(const r of t)r?.afterAllSetup&&r.afterAllSetup(e)}function TH(e,t,r){if(r[t.name]){We&&Me.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,!RP.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),RP.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,s)=>n(a,s,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((s,l)=>n(s,l,e),{id:t.name});e.addEventProcessor(a)}We&&Me.log(`Integration installed: ${t.name}`)}function X_e(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function J_e(e,t,r,n){const a={};return t?.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(a.dsn=Of(n)),Kl(a,[X_e(e)])}function IH(e,t){const r=t??Q_e(e)??[];if(r.length===0)return;const n=e.getOptions(),a=J_e(r,n._metadata,n.tunnel,e.getDsn());OH().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(a)}function Q_e(e){return OH().get(e)}function OH(){return Ef("clientToLogBufferMap",()=>new WeakMap)}function Z_e(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function eje(e,t,r,n){const a={};return t?.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(a.dsn=Of(n)),Kl(a,[Z_e(e)])}function MH(e,t){const r=t??tje(e)??[];if(r.length===0)return;const n=e.getOptions(),a=eje(r,n._metadata,n.tunnel,e.getDsn());RH().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(a)}function tje(e){return RH().get(e)}function RH(){return Ef("clientToMetricBufferMap",()=>new WeakMap)}const Uj=Symbol.for("SentryBufferFullError");function Fj(e=100){const t=new Set;function r(){return t.size<e}function n(l){t.delete(l)}function a(l){if(!r())return Lj(Uj);const u=l();return t.add(u),u.then(()=>n(u),()=>n(u)),u}function s(l){if(!t.size)return Qb(!0);const u=Promise.allSettled(Array.from(t)).then(()=>!0);if(!l)return u;const d=[u,new Promise(f=>setTimeout(()=>f(!1),l))];return Promise.race(d)}return{get $(){return Array.from(t)},add:a,drain:s}}const rje=60*1e3;function nje(e,t=fm()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?rje:n-t}function aje(e,t){return e[t]||e.all||0}function DH(e,t,r=fm()){return aje(e,t)>r}function PH(e,{statusCode:t,headers:r},n=fm()){const a={...e},s=r?.["x-sentry-rate-limits"],l=r?.["retry-after"];if(s)for(const u of s.trim().split(",")){const[d,f,,,m]=u.split(":",5),g=parseInt(d,10),y=(isNaN(g)?60:g)*1e3;if(!f)a.all=n+y;else for(const b of f.split(";"))b==="metric_bucket"?(!m||m.split(";").includes("custom"))&&(a[b]=n+y):a[b]=n+y}else l?a.all=n+nje(l,n):t===429&&(a.all=n+60*1e3);return a}const LH=64;function sje(e,t,r=Fj(e.bufferSize||LH)){let n={};const a=l=>r.drain(l);function s(l){const u=[];if(jC(l,(g,y)=>{const b=wP(y);DH(n,b)?e.recordDroppedEvent("ratelimit_backoff",b):u.push(g)}),u.length===0)return Promise.resolve({});const d=Kl(l[0],u),f=g=>{if(YEe(d,["client_report"])){We&&Me.warn(`Dropping client report. Will not send outcomes (reason: ${g}).`);return}jC(d,(y,b)=>{e.recordDroppedEvent(g,wP(b))})},m=()=>t({body:XEe(d)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&We&&Me.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),n=PH(n,g),g),g=>{throw f("network_error"),We&&Me.error("Encountered error running transport request:",g),g});return r.add(m).then(g=>g,g=>{if(g===Uj)return We&&Me.error("Skipped sending event because buffer is full."),f("queue_overflow"),Promise.resolve({});throw g})}return{send:s,flush:a}}function ije(e,t,r){const n=[{type:"client_report"},{timestamp:du(),discarded_events:e}];return Kl(t?{dsn:t}:{},[n])}function UH(e){const t=[];e.message&&t.push(e.message);try{const r=e.exception.values[e.exception.values.length-1];r?.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}function oje(e){const{trace_id:t,parent_span_id:r,span_id:n,status:a,origin:s,data:l,op:u}=e.contexts?.trace??{};return{data:l??{},description:e.transaction,op:u,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:a,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:l?.[Aj],exclusive_time:l?.[If],measurements:e.measurements,is_segment:!0}}function lje(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Aj]:e.profile_id},...e.exclusive_time&&{[If]:e.exclusive_time}}}},measurements:e.measurements}}const PP="Not capturing exception because it's already been captured.",LP="Discarded session because of missing or non-string release",FH=Symbol.for("SentryInternalError"),BH=Symbol.for("SentryDoNotSendEventError"),cje=5e3;function Wp(e){return{message:e,[FH]:!0}}function DS(e){return{message:e,[BH]:!0}}function UP(e){return!!e&&typeof e=="object"&&FH in e}function FP(e){return!!e&&typeof e=="object"&&BH in e}function BP(e,t,r,n,a){let s=0,l,u=!1;e.on(r,()=>{s=0,clearTimeout(l),u=!1}),e.on(t,d=>{s+=n(d),s>=8e5?a(e):u||(u=!0,l=setTimeout(()=>{a(e)},cje))}),e.on("flush",()=>{a(e)})}class uje{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Fj(t.transportOptions?.bufferSize??LH),t.dsn?this._dsn=AEe(t.dsn):We&&Me.warn("No DSN provided, client will not send events."),this._dsn){const n=G_e(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&BP(this,"afterCaptureLog","flushLogs",mje,IH),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&BP(this,"afterCaptureMetric","flushMetrics",hje,MH)}captureException(t,r,n){const a=Fa();if(fP(t))return We&&Me.log(PP),a;const s={event_id:a,...r};return this._process(()=>this.eventFromException(t,s).then(l=>this._captureEvent(l,s,n)).then(l=>l),"error"),s.event_id}captureMessage(t,r,n,a){const s={event_id:Fa(),...n},l=Cj(t)?t:String(t),u=Vd(t),d=u?this.eventFromMessage(l,r,s):this.eventFromException(t,s);return this._process(()=>d.then(f=>this._captureEvent(f,s,a)),u?"unknown":"error"),s.event_id}captureEvent(t,r,n){const a=Fa();if(r?.originalException&&fP(r.originalException))return We&&Me.log(PP),a;const s={event_id:a,...r},l=t.sdkProcessingMetadata||{},u=l.capturedSpanScope,d=l.capturedSpanIsolationScope,f=zP(t.type);return this._process(()=>this._captureEvent(t,s,u||n,d),f),s.event_id}captureSession(t){this.sendSession(t),Xd(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const r=this._transport;if(!r)return!0;this.emit("flush");const n=await this._isClientDoneProcessing(t),a=await r.flush(t);return n&&a}async close(t){const r=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),r}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];TH(this,t,this._integrations),r||DP(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=n_e(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=VEe(n,ZEe(a));this.sendEnvelope(n).then(a=>this.emit("afterSendEvent",t,a))}sendSession(t){const{release:r,environment:n=Mj}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!r){We&&Me.warn(LP);return}s.release=s.release||r,s.environment=s.environment||n,t.attrs=s}else{if(!t.release&&!r){We&&Me.warn(LP);return}t.release=t.release||r,t.environment=t.environment||n}this.emit("beforeSendSession",t);const a=r_e(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(a)}recordDroppedEvent(t,r,n=1){if(this._options.sendClientReports){const a=`${t}:${r}`;We&&Me.log(`Recording outcome: "${a}"${n>1?` (${n} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+n}}on(t,r){const n=this._hooks[t]=this._hooks[t]||new Set,a=(...s)=>r(...s);return n.add(a),()=>{n.delete(a)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(r){return We&&Me.error("Error while sending envelope:",r),{}}return We&&Me.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Y_e(this,t),DP(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",a=!1;const s=r.exception?.values;if(s){a=!0,n=!1;for(const d of s)if(d.mechanism?.handled===!1){n=!0;break}}const l=t.status==="ok";(l&&t.errors===0||l&&n)&&(Xd(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}async _isClientDoneProcessing(t){let r=0;for(;!t||r<t;){if(await new Promise(n=>setTimeout(n,1)),!this._numProcessing)return!0;r++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,a){const s=this.getOptions(),l=Object.keys(this._integrations);return!r.integrations&&l?.length&&(r.integrations=l),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),CH(s,t,r,n,this,a).then(u=>{if(u===null)return u;this.emit("postprocessEvent",u,r),u.contexts={trace:uEe(n),...u.contexts};const d=pH(this,n);return u.sdkProcessingMetadata={dynamicSamplingContext:d,...u.sdkProcessingMetadata},u})}_captureEvent(t,r={},n=Bt(),a=Ci()){return We&&IC(t)&&Me.log(`Captured error event \`${UH(t)[0]||"<unknown>"}\``),this._processEvent(t,r,n,a).then(s=>s.event_id,s=>{We&&(FP(s)?Me.log(s.message):UP(s)?Me.warn(s.message):Me.warn(s))})}_processEvent(t,r,n,a){const s=this.getOptions(),{sampleRate:l}=s,u=zH(t),d=IC(t),m=`before send for type \`${t.type||"error"}\``,g=typeof l>"u"?void 0:ru(l);if(d&&typeof g=="number"&&Cl()>g)return this.recordDroppedEvent("sample_rate","error"),Lj(DS(`Discarding event because it's not included in the random sample (sampling rate = ${l})`));const y=zP(t.type);return this._prepareEvent(t,r,n,a).then(b=>{if(b===null)throw this.recordDroppedEvent("event_processor",y),DS("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return b;const S=fje(this,s,b,r);return dje(S,m)}).then(b=>{if(b===null){if(this.recordDroppedEvent("before_send",y),u){const N=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",N)}throw DS(`${m} returned \`null\`, will not send event.`)}const v=n.getSession()||a.getSession();if(d&&v&&this._updateSessionFromEvent(v,b),u){const k=b.sdkProcessingMetadata?.spanCountBeforeProcessing||0,N=b.spans?b.spans.length:0,E=k-N;E>0&&this.recordDroppedEvent("before_send","span",E)}const S=b.transaction_info;if(u&&S&&b.transaction!==t.transaction){const k="custom";b.transaction_info={...S,source:k}}return this.sendEvent(b,r),b}).then(null,b=>{throw FP(b)||UP(b)?b:(this.captureException(b,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:b}),Wp(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${b}`))})}_process(t,r){this._numProcessing++,this._promiseBuffer.add(t).then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n===Uj&&this.recordDroppedEvent("queue_overflow",r),n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,s]=r.split(":");return{reason:a,category:s,quantity:n}})}_flushOutcomes(){We&&Me.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){We&&Me.log("No outcomes to send");return}if(!this._dsn){We&&Me.log("No dsn provided, will not send outcomes");return}We&&Me.log("Sending outcomes:",t);const r=ije(t,this._options.tunnel&&Of(this._dsn));this.sendEnvelope(r)}}function zP(e){return e==="replay_event"?"replay":e||"error"}function dje(e,t){const r=`${t} must return \`null\` or a valid event.`;if(jf(e))return e.then(n=>{if(!S0(n)&&n!==null)throw Wp(r);return n},n=>{throw Wp(`${t} rejected with ${n}`)});if(!S0(e)&&e!==null)throw Wp(r);return e}function fje(e,t,r,n){const{beforeSend:a,beforeSendTransaction:s,beforeSendSpan:l,ignoreSpans:u}=t;let d=r;if(IC(d)&&a)return a(d,n);if(zH(d)){if(l||u){const f=oje(d);if(u?.length&&gx(f,u))return null;if(l){const m=l(f);m?d=hm(r,lje(m)):EC()}if(d.spans){const m=[],g=d.spans;for(const b of g){if(u?.length&&gx(b,u)){zEe(g,b);continue}if(l){const v=l(b);v?m.push(v):(EC(),m.push(b))}else m.push(b)}const y=d.spans.length-m.length;y&&e.recordDroppedEvent("before_send","span",y),d.spans=m}}if(s){if(d.spans){const f=d.spans.length;d.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:f}}return s(d,n)}}return d}function IC(e){return e.type===void 0}function zH(e){return e.type==="transaction"}function hje(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+$H(e.attributes)}function mje(e){let t=0;return e.message&&(t+=e.message.length*2),t+$H(e.attributes)}function $H(e){if(!e)return 0;let t=0;return Object.values(e).forEach(r=>{Array.isArray(r)?t+=r.length*$P(r[0]):Vd(r)?t+=$P(r):t+=100}),t}function $P(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function gje(e){return Vb(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function HP(e){return gje(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function pje(e,t){t.debug===!0&&(We?Me.enable():uu(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Bt().update(t.initialScope);const n=new e(t);return yje(n),n.init(),n}function yje(e){Bt().setClient(e)}const xje="thismessage:/";function Bj(e){return"isRelative"in e}function zj(e,t){const r=e.indexOf("://")<=0&&e.indexOf("//")!==0,n=r?xje:void 0;try{if("canParse"in URL&&!URL.canParse(e,n))return;const a=new URL(e,n);return r?{isRelative:r,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch{}}function bje(e){if(Bj(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Lc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function vje(e){return e.split(/[?#]/,1)[0]}function Nl(e,t=!0){if(e.startsWith("data:")){const r=e.match(/^data:([^;,]+)/),n=r?r[1]:"text/plain",a=e.includes(";base64,"),s=e.indexOf(",");let l="";if(t&&s!==-1){const u=e.slice(s+1);l=u.length>10?`${u.slice(0,10)}... [truncated]`:u}return`data:${n}${a?",base64":""}${l?`,${l}`:""}`}return e}function wje(e,t){const r=t?.getDsn(),n=t?.getOptions().tunnel;return Sje(e,r)||kje(e,n)}function kje(e,t){return t?qP(e)===qP(t):!1}function Sje(e,t){const r=zj(e);return!r||Bj(r)?!1:t?r.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(r.search):!1}function qP(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Cje(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function HH(e,t,r=[t],n="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:Rc})),version:Rc}),e._metadata=a}function qH(e={}){const t=e.client||wt();if(!B_e()||!t)return{};const r=cu(),n=Tf(r);if(n.getTraceData)return n.getTraceData(e);const a=e.scope||Bt(),s=e.span||Xn(),l=s?DEe(s):Nje(a),u=s?wo(s):pH(t,a),d=bEe(u);if(!oH.test(l))return Me.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const m={"sentry-trace":l,baggage:d};return e.propagateTraceparent&&(m.traceparent=s?PEe(s):Eje(a)),m}function Nje(e){const{traceId:t,sampled:r,propagationSpanId:n}=e.getPropagationContext();return lH(t,n,r)}function Eje(e){const{traceId:t,sampled:r,propagationSpanId:n}=e.getPropagationContext();return cH(t,n,r)}function _je(e,t,r){let n,a,s;const l=r?.maxWait?Math.max(r.maxWait,t):0,u=r?.setTimeoutImpl||setTimeout;function d(){return f(),n=e(),n}function f(){a!==void 0&&clearTimeout(a),s!==void 0&&clearTimeout(s),a=s=void 0}function m(){return a!==void 0||s!==void 0?d():n}function g(){return a&&clearTimeout(a),a=u(d,t),l&&s===void 0&&(s=u(d,l)),n}return g.cancel=f,g.flush=m,g}const jje=100;function Dl(e,t){const r=wt(),n=Ci();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:s=jje}=r.getOptions();if(s<=0)return;const u={timestamp:du(),...e},d=a?uu(()=>a(u,t)):u;d!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",d,t),n.addBreadcrumb(d,s))}let KP;const Aje="FunctionToString",GP=new WeakMap,Tje=(()=>({name:Aje,setupOnce(){KP=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=_j(this),r=GP.has(wt())&&t!==void 0?t:this;return KP.apply(r,e)}}catch{}},setup(e){GP.set(e,!0)}})),Ije=Tje,Oje=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Mje="EventFilters",Rje=(e={})=>{let t;return{name:Mje,setup(r){const n=r.getOptions();t=WP(e,n)},processEvent(r,n,a){if(!t){const s=a.getOptions();t=WP(e,s)}return Pje(r,t)?null:r}}},Dje=((e={})=>({...Rje(e),name:"InboundFilters"}));function WP(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Oje],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Pje(e,t){if(e.type){if(e.type==="transaction"&&Uje(e,t.ignoreTransactions))return We&&Me.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${xc(e)}`),!0}else{if(Lje(e,t.ignoreErrors))return We&&Me.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${xc(e)}`),!0;if($je(e))return We&&Me.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${xc(e)}`),!0;if(Fje(e,t.denyUrls))return We&&Me.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${xc(e)}.
Url: ${px(e)}`),!0;if(!Bje(e,t.allowUrls))return We&&Me.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${xc(e)}.
Url: ${px(e)}`),!0}return!1}function Lje(e,t){return t?.length?UH(e).some(r=>ao(r,t)):!1}function Uje(e,t){if(!t?.length)return!1;const r=e.transaction;return r?ao(r,t):!1}function Fje(e,t){if(!t?.length)return!1;const r=px(e);return r?ao(r,t):!1}function Bje(e,t){if(!t?.length)return!0;const r=px(e);return r?ao(r,t):!0}function zje(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function px(e){try{const r=[...e.exception?.values??[]].reverse().find(n=>n.mechanism?.parent_id===void 0&&n.stacktrace?.frames?.length)?.stacktrace?.frames;return r?zje(r):null}catch{return We&&Me.error(`Cannot extract url for event ${xc(e)}`),null}}function $je(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Hje(e,t,r,n,a,s){if(!a.exception?.values||!s||!xo(s.originalException,Error))return;const l=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;l&&(a.exception.values=OC(e,t,n,s.originalException,r,a.exception.values,l,0))}function OC(e,t,r,n,a,s,l,u){if(s.length>=r+1)return s;let d=[...s];if(xo(n[a],Error)){VP(l,u);const f=e(t,n[a]),m=d.length;YP(f,a,m,u),d=OC(e,t,r,n[a],a,[f,...d],f,m)}return Array.isArray(n.errors)&&n.errors.forEach((f,m)=>{if(xo(f,Error)){VP(l,u);const g=e(t,f),y=d.length;YP(g,`errors[${m}]`,y,u),d=OC(e,t,r,f,a,[g,...d],g,y)}}),d}function VP(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function YP(e,t,r,n){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function qje(e){const t="console";$l(t,e),Hl(t,Kje)}function Kje(){"console"in vt&&TNe.forEach(function(e){e in vt.console&&da(vt.console,e,function(t){return fx[e]=t,function(...r){ps("console",{args:r,level:e}),fx[e]?.apply(vt.console,r)}})})}function KH(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Gje="Dedupe",Wje=(()=>{let e;return{name:Gje,processEvent(t){if(t.type)return t;try{if(Yje(t,e))return We&&Me.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Vje=Wje;function Yje(e,t){return t?!!(Xje(e,t)||Jje(e,t)):!1}function Xje(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!WH(e,t)||!GH(e,t))}function Jje(e,t){const r=XP(t),n=XP(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!WH(e,t)||!GH(e,t))}function GH(e,t){let r=iP(e),n=iP(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let a=0;a<n.length;a++){const s=n[a],l=r[a];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function WH(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function XP(e){return e.exception?.values?.[0]}function Qje(e,t,r,n,a){if(!e.fetchData)return;const{method:s,url:l}=e.fetchData,u=zs()&&t(l);if(e.endTimestamp&&u){const b=e.fetchData.__span;if(!b)return;const v=n[b];v&&(tAe(v,e),Zje(v,e,a),delete n[b]);return}const{spanOrigin:d="auto.http.browser",propagateTraceparent:f=!1}=typeof a=="object"?a:{spanOrigin:a},m=!!Xn(),g=u&&m?Mf(nAe(l,s,d)):new Rl;if(e.fetchData.__span=g.spanContext().spanId,n[g.spanContext().spanId]=g,r(e.fetchData.url)){const b=e.args[0],v={...e.args[1]||{}},S=eAe(b,v,zs()&&m?g:void 0,f);S&&(e.args[1]=v,v.headers=S)}const y=wt();if(y){const b={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};y.emit("beforeOutgoingRequestSpan",g,b)}return g}function Zje(e,t,r){(typeof r=="object"&&r!==null?r.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function eAe(e,t,r,n){const a=qH({span:r,propagateTraceparent:n}),s=a["sentry-trace"],l=a.baggage,u=a.traceparent;if(!s)return;const d=t.headers||(Nj(e)?e.headers:void 0);if(d)if(rAe(d)){const f=new Headers(d);if(f.get("sentry-trace")||f.set("sentry-trace",s),n&&u&&!f.get("traceparent")&&f.set("traceparent",u),l){const m=f.get("baggage");m?gp(m)||f.set("baggage",`${m},${l}`):f.set("baggage",l)}return f}else if(Array.isArray(d)){const f=[...d];d.find(g=>g[0]==="sentry-trace")||f.push(["sentry-trace",s]),n&&u&&!d.find(g=>g[0]==="traceparent")&&f.push(["traceparent",u]);const m=d.find(g=>g[0]==="baggage"&&gp(g[1]));return l&&!m&&f.push(["baggage",l]),f}else{const f="sentry-trace"in d?d["sentry-trace"]:void 0,m="traceparent"in d?d.traceparent:void 0,g="baggage"in d?d.baggage:void 0,y=g?Array.isArray(g)?[...g]:[g]:[],b=g&&(Array.isArray(g)?g.find(S=>gp(S)):gp(g));l&&!b&&y.push(l);const v={...d,"sentry-trace":f??s,baggage:y.length>0?y.join(","):void 0};return n&&u&&!m&&(v.traceparent=u),v}else return{...a}}function tAe(e,t){if(t.response){rH(e,t.response.status);const r=t.response?.headers?.get("content-length");if(r){const n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus({code:qr,message:"internal_error"});e.end()}function gp(e){return e.split(",").some(t=>t.trim().startsWith(Ij))}function rAe(e){return typeof Headers<"u"&&xo(e,Headers)}function nAe(e,t,r){if(e.startsWith("data:")){const s=Nl(e);return{name:`${t} ${s}`,attributes:JP(e,void 0,t,r)}}const n=zj(e),a=n?bje(n):e;return{name:`${t} ${a}`,attributes:JP(e,n,t,r)}}function JP(e,t,r,n){const a={url:Nl(e),type:"fetch","http.method":r,[Vr]:n,[vo]:"http.client"};return t&&(Bj(t)||(a["http.url"]=Nl(t.href),a["server.address"]=t.host),t.search&&(a["http.query"]=t.search),t.hash&&(a["http.fragment"]=t.hash)),a}function VH(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const E0=vt;function aAe(){return"history"in E0&&!!E0.history}function sAe(){if(!("fetch"in E0))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function MC(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function iAe(){if(typeof EdgeRuntime=="string")return!0;if(!sAe())return!1;if(MC(E0.fetch))return!0;let e=!1;const t=E0.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow?.fetch&&(e=MC(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){We&&Me.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function YH(e,t){const r="fetch";$l(r,e),Hl(r,()=>XH(void 0,t))}function oAe(e){const t="fetch-body-resolved";$l(t,e),Hl(t,()=>XH(cAe))}function XH(e,t=!1){t&&!iAe()||da(vt,"fetch",function(r){return function(...n){const a=new Error,{method:s,url:l}=uAe(n),u={args:n,fetchData:{method:s,url:l},startTimestamp:ln()*1e3,virtualError:a,headers:dAe(n)};return e||ps("fetch",{...u}),r.apply(vt,n).then(async d=>(e?e(d):ps("fetch",{...u,endTimestamp:ln()*1e3,response:d}),d),d=>{ps("fetch",{...u,endTimestamp:ln()*1e3,error:d}),Vb(d)&&d.stack===void 0&&(d.stack=a.stack,ba(d,"framesToPop",1));const m=wt()?.getOptions().enhanceFetchErrorMessages??"always";if(m!==!1&&d instanceof TypeError&&(d.message==="Failed to fetch"||d.message==="Load failed"||d.message==="NetworkError when attempting to fetch resource."))try{const b=new URL(u.fetchData.url).host;m==="always"?d.message=`${d.message} (${b})`:ba(d,"__sentry_fetch_url_host__",b)}catch{}throw d})}})}async function lAe(e,t){if(e?.body){const r=e.body,n=r.getReader(),a=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let l;try{l=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);const{done:u}=await n.read();clearTimeout(l),u&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(l)}}clearTimeout(a),n.releaseLock(),r.cancel().then(null,()=>{})}}function cAe(e){let t;try{t=e.clone()}catch{return}lAe(t,()=>{ps("fetch-body-resolved",{endTimestamp:ln()*1e3,response:e})})}function Vp(e,t){return!!e&&typeof e=="object"&&!!e[t]}function QP(e){return typeof e=="string"?e:e?Vp(e,"url")?e.url:e.toString?e.toString():"":""}function uAe(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:QP(r),method:Vp(n,"method")?String(n.method).toUpperCase():Nj(r)&&Vp(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:QP(t),method:Vp(t,"method")?String(t.method).toUpperCase():"GET"}}function dAe(e){const[t,r]=e;try{if(typeof r=="object"&&r!==null&&"headers"in r&&r.headers)return new Headers(r.headers);if(Nj(t))return new Headers(t.headers)}catch{}}function fAe(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function hAe(){return"npm"}function mAe(){return!fAe()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function RC(){return typeof window<"u"&&(!mAe()||gAe())}function gAe(){return vt.process?.type==="renderer"}const Et=vt;let DC=0;function JH(){return DC>0}function pAe(){DC++,setTimeout(()=>{DC--})}function Zd(e,t={}){function r(a){return typeof a=="function"}if(!r(e))return e;try{const a=e.__sentry_wrapped__;if(a)return typeof a=="function"?a:e;if(_j(e))return e}catch{return e}const n=function(...a){try{const s=a.map(l=>Zd(l,t));return e.apply(this,s)}catch(s){throw pAe(),Xb(l=>{l.addEventProcessor(u=>(t.mechanism&&(SC(u,void 0),Yd(u,t.mechanism)),u.extra={...u.extra,arguments:a},u)),NH(s)}),s}};try{for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}catch{}J$(n,e),ba(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}function $j(){const e=Af(),{referrer:t}=Et.document||{},{userAgent:r}=Et.navigator||{},n={...t&&{Referer:t},...r&&{"User-Agent":r}};return{url:e,headers:n}}function Hj(e,t){const r=qj(e,t),n={type:wAe(t),value:kAe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function yAe(e,t,r,n){const s=wt()?.getOptions().normalizeDepth,l=_Ae(t),u={__serialized__:yH(t,s)};if(l)return{exception:{values:[Hj(e,l)]},extra:u};const d={exception:{values:[{type:Yb(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:NAe(t,{isUnhandledRejection:n})}]},extra:u};if(r){const f=qj(e,r);f.length&&(d.exception.values[0].stacktrace={frames:f})}return d}function PS(e,t){return{exception:{values:[Hj(e,t)]}}}function qj(e,t){const r=t.stacktrace||t.stack||"",n=bAe(t),a=vAe(t);try{return e(r,n,a)}catch{}return[]}const xAe=/Minified React error #\d+;/i;function bAe(e){return e&&xAe.test(e.message)?1:0}function vAe(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function QH(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function wAe(e){const t=e?.name;return!t&&QH(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function kAe(e){const t=e?.message;return QH(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?HP(t.error):HP(e):"No error message"}function SAe(e,t,r,n){const a=r?.syntheticException||void 0,s=Kj(e,t,a,n);return Yd(s),s.level="error",r?.event_id&&(s.event_id=r.event_id),Qb(s)}function CAe(e,t,r="info",n,a){const s=n?.syntheticException||void 0,l=PC(e,t,s,a);return l.level=r,n?.event_id&&(l.event_id=n.event_id),Qb(l)}function Kj(e,t,r,n,a){let s;if(V$(t)&&t.error)return PS(e,t.error);if(lP(t)||zNe(t)){const l=t;if("stack"in t)s=PS(e,t);else{const u=l.name||(lP(l)?"DOMError":"DOMException"),d=l.message?`${u}: ${l.message}`:u;s=PC(e,d,r,n),SC(s,d)}return"code"in l&&(s.tags={...s.tags,"DOMException.code":`${l.code}`}),s}return Vb(t)?PS(e,t):S0(t)||Yb(t)?(s=yAe(e,t,r,a),Yd(s,{synthetic:!0}),s):(s=PC(e,t,r,n),SC(s,`${t}`),Yd(s,{synthetic:!0}),s)}function PC(e,t,r,n){const a={};if(n&&r){const s=qj(e,r);s.length&&(a.exception={values:[{value:t,stacktrace:{frames:s}}]}),Yd(a,{synthetic:!0})}if(Cj(t)){const{__sentry_template_string__:s,__sentry_template_values__:l}=t;return a.logentry={message:s,params:l},a}return a.message=t,a}function NAe(e,{isUnhandledRejection:t}){const r=WNe(e),n=t?"promise rejection":"exception";return V$(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Yb(e)?`Event \`${EAe(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function EAe(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function _Ae(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}class jAe extends uje{constructor(t){const r=AAe(t),n=Et.SENTRY_SDK_SOURCE||hAe();HH(r,"browser",["browser"],n),r._metadata?.sdk&&(r._metadata.sdk.settings={infer_ip:r.sendDefaultPii?"auto":"never",...r._metadata.sdk.settings}),super(r);const{sendDefaultPii:a,sendClientReports:s,enableLogs:l,_experiments:u,enableMetrics:d}=this._options,f=d??u?.enableMetrics??!0;Et.document&&(s||l||f)&&Et.document.addEventListener("visibilitychange",()=>{Et.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),l&&IH(this),f&&MH(this))}),a&&this.on("beforeSendSession",Cje)}eventFromException(t,r){return SAe(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return CAe(this._options.stackParser,t,r,n,this._options.attachStacktrace)}_prepareEvent(t,r,n,a){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n,a)}}function AAe(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Et.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const nu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ct=vt,TAe=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",pm=(e,t,r,n)=>{let a,s;return l=>{t.value>=0&&(l||n)&&(s=t.value-(a??0),(s||a===void 0)&&(a=t.value,t.delta=s,t.rating=TAe(t.value,r),e(t)))}},ym=(e=!0)=>{const t=ct.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Rf=()=>ym()?.activationStart??0;function El(e,t,r){ct.document&&ct.addEventListener(e,t,r)}function yx(e,t,r){ct.document&&ct.removeEventListener(e,t,r)}let Md=-1;const ZH=new Set,IAe=()=>ct.document?.visibilityState==="hidden"&&!ct.document?.prerendering?0:1/0,Yp=e=>{if(OAe(e)&&Md>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of ZH)t();isFinite(Md)||(Md=e.type==="visibilitychange"?e.timeStamp:0,yx("prerenderingchange",Yp,!0))}},xm=()=>{if(ct.document&&Md<0){const e=Rf();Md=(ct.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>e)[0]?.startTime)??IAe(),El("visibilitychange",Yp,!0),El("pagehide",Yp,!0),El("prerenderingchange",Yp,!0)}return{get firstHiddenTime(){return Md},onHidden(e){ZH.add(e)}}};function OAe(e){return e.type==="pagehide"||ct.document?.visibilityState==="hidden"}const MAe=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,bm=(e,t=-1)=>{const r=ym();let n="navigate";return r&&(ct.document?.prerendering||Rf()>0?n="prerender":ct.document?.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:MAe(),navigationType:n}},LS=new WeakMap;function Gj(e,t){try{return LS.get(e)||LS.set(e,new t),LS.get(e)}catch{return new t}}class xx{constructor(){xx.prototype.__init.call(this),xx.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const r=this._sessionEntries[0],n=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&r&&n&&t.startTime-n.startTime<1e3&&t.startTime-r.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const Df=(e,t,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(a=>{Promise.resolve().then(()=>{t(a.getEntries())})});return n.observe({type:e,buffered:!0,...r}),n}}catch{}},Wj=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Zb=e=>{ct.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},RAe=[1800,3e3],DAe=(e,t={})=>{Zb(()=>{const r=xm(),n=bm("FCP");let a;const l=Df("paint",u=>{for(const d of u)d.name==="first-contentful-paint"&&(l.disconnect(),d.startTime<r.firstHiddenTime&&(n.value=Math.max(d.startTime-Rf(),0),n.entries.push(d),a(!0)))});l&&(a=pm(e,n,RAe,t.reportAllChanges))})},PAe=[.1,.25],LAe=(e,t={})=>{DAe(Wj(()=>{const r=bm("CLS",0);let n;const a=xm(),s=Gj(t,xx),l=d=>{for(const f of d)s._processEntry(f);s._sessionValue>r.value&&(r.value=s._sessionValue,r.entries=s._sessionEntries,n())},u=Df("layout-shift",l);u&&(n=pm(e,r,PAe,t.reportAllChanges),a.onHidden(()=>{l(u.takeRecords()),n(!0)}),ct?.setTimeout?.(n))}))};let eq=0,US=1/0,pp=0;const UAe=e=>{e.forEach(t=>{t.interactionId&&(US=Math.min(US,t.interactionId),pp=Math.max(pp,t.interactionId),eq=pp?(pp-US)/7+1:0)})};let LC;const tq=()=>LC?eq:performance.interactionCount||0,FAe=()=>{"interactionCount"in performance||LC||(LC=Df("event",UAe,{type:"event",buffered:!0,durationThreshold:0}))},FS=10;let rq=0;const BAe=()=>tq()-rq;class bx{constructor(){bx.prototype.__init.call(this),bx.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){rq=tq(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(BAe()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const r=this._longestInteractionList.at(-1);let n=this._longestInteractionMap.get(t.interactionId);if(n||this._longestInteractionList.length<FS||t.duration>r._latency){if(n?t.duration>n._latency?(n.entries=[t],n._latency=t.duration):t.duration===n._latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t):(n={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(n.id,n),this._longestInteractionList.push(n)),this._longestInteractionList.sort((a,s)=>s._latency-a._latency),this._longestInteractionList.length>FS){const a=this._longestInteractionList.splice(FS);for(const s of a)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(n)}}}const nq=e=>{const t=ct.requestIdleCallback||ct.setTimeout;ct.document?.visibilityState==="hidden"?e():(e=Wj(e),El("visibilitychange",e,{once:!0,capture:!0}),El("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),yx("visibilitychange",e,{capture:!0}),yx("pagehide",e,{capture:!0})}))},zAe=[200,500],$Ae=40,HAe=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const r=xm();Zb(()=>{FAe();const n=bm("INP");let a;const s=Gj(t,bx),l=d=>{nq(()=>{for(const m of d)s._processEntry(m);const f=s._estimateP98LongestInteraction();f&&f._latency!==n.value&&(n.value=f._latency,n.entries=f.entries,a())})},u=Df("event",l,{durationThreshold:t.durationThreshold??$Ae});a=pm(e,n,zAe,t.reportAllChanges),u&&(u.observe({type:"first-input",buffered:!0}),r.onHidden(()=>{l(u.takeRecords()),a(!0)}))})};class qAe{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const KAe=[2500,4e3],GAe=(e,t={})=>{Zb(()=>{const r=xm(),n=bm("LCP");let a;const s=Gj(t,qAe),l=d=>{t.reportAllChanges||(d=d.slice(-1));for(const f of d)s._processEntry(f),f.startTime<r.firstHiddenTime&&(n.value=Math.max(f.startTime-Rf(),0),n.entries=[f],a())},u=Df("largest-contentful-paint",l);if(u){a=pm(e,n,KAe,t.reportAllChanges);const d=Wj(()=>{l(u.takeRecords()),u.disconnect(),a(!0)}),f=m=>{m.isTrusted&&(nq(d),yx(m.type,f,{capture:!0}))};for(const m of["keydown","click","visibilitychange"])El(m,f,{capture:!0})}})},WAe=[800,1800],UC=e=>{ct.document?.prerendering?Zb(()=>UC(e)):ct.document?.readyState!=="complete"?addEventListener("load",()=>UC(e),!0):setTimeout(e)},VAe=(e,t={})=>{const r=bm("TTFB"),n=pm(e,r,WAe,t.reportAllChanges);UC(()=>{const a=ym();a&&(r.value=Math.max(a.responseStart-Rf(),0),r.entries=[a],n(!0))})},Xh={},vx={};let aq,sq,iq,oq;function Vj(e,t=!1){return ev("cls",e,XAe,aq,t)}function Yj(e,t=!1){return ev("lcp",e,JAe,sq,t)}function YAe(e){return ev("ttfb",e,QAe,iq)}function lq(e){return ev("inp",e,ZAe,oq)}function au(e,t){return cq(e,t),vx[e]||(eTe(e),vx[e]=!0),uq(e,t)}function vm(e,t){const r=Xh[e];if(r?.length)for(const n of r)try{n(t)}catch(a){nu&&Me.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${yo(n)}
Error:`,a)}}function XAe(){return LAe(e=>{vm("cls",{metric:e}),aq=e},{reportAllChanges:!0})}function JAe(){return GAe(e=>{vm("lcp",{metric:e}),sq=e},{reportAllChanges:!0})}function QAe(){return VAe(e=>{vm("ttfb",{metric:e}),iq=e})}function ZAe(){return HAe(e=>{vm("inp",{metric:e}),oq=e})}function ev(e,t,r,n,a=!1){cq(e,t);let s;return vx[e]||(s=r(),vx[e]=!0),n&&t({metric:n}),uq(e,t,a?s:void 0)}function eTe(e){const t={};e==="event"&&(t.durationThreshold=0),Df(e,r=>{vm(e,{entries:r})},t)}function cq(e,t){Xh[e]=Xh[e]||[],Xh[e].push(t)}function uq(e,t,r){return()=>{r&&r();const n=Xh[e];if(!n)return;const a=n.indexOf(t);a!==-1&&n.splice(a,1)}}function tTe(e){return"duration"in e}const rTe=e=>{const t=r=>{(r.type==="pagehide"||ct.document?.visibilityState==="hidden")&&e(r)};El("visibilitychange",t,{capture:!0,once:!0}),El("pagehide",t,{capture:!0,once:!0})};function BS(e){return typeof e=="number"&&isFinite(e)}function Pl(e,t,r,{...n}){const a=Nt(e).start_timestamp;return a&&a>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Dj(e,()=>{const s=Mf({startTime:t,...n});return s&&s.end(r),s})}function Xj(e){const t=wt();if(!t)return;const{name:r,transaction:n,attributes:a,startTime:s}=e,{release:l,environment:u,sendDefaultPii:d}=t.getOptions(),m=t.getIntegrationByName("Replay")?.getReplayId(),g=Bt(),y=g.getUser(),b=y!==void 0?y.email||y.id||y.ip_address:void 0;let v;try{v=g.getScopeData().contexts.profile.profile_id}catch{}const S={release:l,environment:u,user:b||void 0,profile_id:v||void 0,replay_id:m||void 0,transaction:n,"user_agent.original":ct.navigator?.userAgent,"client.address":d?"{{auto}}":void 0,...a};return Mf({name:r,attributes:S,startTime:s,experimental:{standalone:!0}})}function wm(){return ct.addEventListener&&ct.performance}function jr(e){return e/1e3}function nTe(e){let t="unknown",r="unknown",n="";for(const a of e){if(a==="/"){[t,r]=e.split("/");break}if(!isNaN(Number(a))){t=n==="h"?"http":n,r=e.split(n)[1];break}n+=a}return n===e&&(t=n),{name:t,version:r}}function dq(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function fq(e,t){let r,n=!1;function a(u){!n&&r&&t(u,r),n=!0}rTe(()=>{a("pagehide")});const s=e.on("beforeStartNavigationSpan",(u,d)=>{d?.isRedirect||(a("navigation"),s(),l())}),l=e.on("afterStartPageLoadSpan",u=>{r=u.spanContext().spanId,l()})}function aTe(e){let t=0,r;if(!dq("layout-shift"))return;const n=Vj(({metric:a})=>{const s=a.entries[a.entries.length-1];s&&(t=a.value,r=s)},!0);fq(e,(a,s)=>{sTe(t,r,s,a),n()})}function sTe(e,t,r,n){nu&&Me.log(`Sending CLS span (${e})`);const a=t?jr((wa()||0)+t.startTime):ln(),s=Bt().getScopeData().transactionName,l=t?xa(t.sources[0]?.node):"Layout shift",u={[Vr]:"auto.http.browser.cls",[vo]:"ui.webvital.cls",[If]:0,"sentry.pageload.span_id":r,"sentry.report_event":n};t?.sources&&t.sources.forEach((f,m)=>{u[`cls.source.${m+1}`]=xa(f.node)});const d=Xj({name:l,transaction:s,attributes:u,startTime:a});d&&(d.addEvent("cls",{[mm]:"",[gm]:e}),d.end(a))}function iTe(e){let t=0,r;if(!dq("largest-contentful-paint"))return;const n=Yj(({metric:a})=>{const s=a.entries[a.entries.length-1];s&&(t=a.value,r=s)},!0);fq(e,(a,s)=>{oTe(t,r,s,a),n()})}function oTe(e,t,r,n){nu&&Me.log(`Sending LCP span (${e})`);const a=jr((wa()||0)+(t?.startTime||0)),s=Bt().getScopeData().transactionName,l=t?xa(t.element):"Largest contentful paint",u={[Vr]:"auto.http.browser.lcp",[vo]:"ui.webvital.lcp",[If]:0,"sentry.pageload.span_id":r,"sentry.report_event":n};t&&(t.element&&(u["lcp.element"]=xa(t.element)),t.id&&(u["lcp.id"]=t.id),t.url&&(u["lcp.url"]=t.url),t.loadTime!=null&&(u["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(u["lcp.renderTime"]=t.renderTime),t.size!=null&&(u["lcp.size"]=t.size));const d=Xj({name:l,transaction:s,attributes:u,startTime:a});d&&(d.addEvent("lcp",{[mm]:"millisecond",[gm]:e}),d.end(a))}function as(e){return e&&((wa()||performance.timeOrigin)+e)/1e3}function hq(e){const t={};if(e.nextHopProtocol!=null){const{name:r,version:n}=nTe(e.nextHopProtocol);t["network.protocol.version"]=n,t["network.protocol.name"]=r}return wa()||wm()?.timeOrigin?lTe({...t,"http.request.redirect_start":as(e.redirectStart),"http.request.redirect_end":as(e.redirectEnd),"http.request.worker_start":as(e.workerStart),"http.request.fetch_start":as(e.fetchStart),"http.request.domain_lookup_start":as(e.domainLookupStart),"http.request.domain_lookup_end":as(e.domainLookupEnd),"http.request.connect_start":as(e.connectStart),"http.request.secure_connection_start":as(e.secureConnectionStart),"http.request.connection_end":as(e.connectEnd),"http.request.request_start":as(e.requestStart),"http.request.response_start":as(e.responseStart),"http.request.response_end":as(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function lTe(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const cTe=2147483647;let ZP=0,Rs={},aa,wx;function uTe({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:r}){const n=wm();if(n&&wa()){n.mark&&ct.performance.mark("sentry-tracing-init");const a=t?iTe(r):gTe(),s=pTe(),l=e?aTe(r):mTe();return()=>{a?.(),s(),l?.()}}return()=>{}}function dTe(){au("longtask",({entries:e})=>{const t=Xn();if(!t)return;const{op:r,start_timestamp:n}=Nt(t);for(const a of e){const s=jr(wa()+a.startTime),l=jr(a.duration);r==="navigation"&&n&&s<n||Pl(t,s,s+l,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Vr]:"auto.ui.browser.metrics"}})}})}function fTe(){new PerformanceObserver(t=>{const r=Xn();if(r)for(const n of t.getEntries()){if(!n.scripts[0])continue;const a=jr(wa()+n.startTime),{start_timestamp:s,op:l}=Nt(r);if(l==="navigation"&&s&&a<s)continue;const u=jr(n.duration),d={[Vr]:"auto.ui.browser.metrics"},f=n.scripts[0],{invoker:m,invokerType:g,sourceURL:y,sourceFunctionName:b,sourceCharPosition:v}=f;d["browser.script.invoker"]=m,d["browser.script.invoker_type"]=g,y&&(d["code.filepath"]=y),b&&(d["code.function"]=b),v!==-1&&(d["browser.script.source_char_position"]=v),Pl(r,a,a+u,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:d})}}).observe({type:"long-animation-frame",buffered:!0})}function hTe(){au("event",({entries:e})=>{const t=Xn();if(t){for(const r of e)if(r.name==="click"){const n=jr(wa()+r.startTime),a=jr(r.duration),s={name:xa(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Vr]:"auto.ui.browser.metrics"}},l=X$(r.target);l&&(s.attributes["ui.component_name"]=l),Pl(t,n,n+a,s)}}})}function mTe(){return Vj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rs.cls={value:e.value,unit:""},wx=t)},!0)}function gTe(){return Yj(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rs.lcp={value:e.value,unit:"millisecond"},aa=t)},!0)}function pTe(){return YAe(({metric:e})=>{e.entries[e.entries.length-1]&&(Rs.ttfb={value:e.value,unit:"millisecond"})})}function yTe(e,t){const r=wm(),n=wa();if(!r?.getEntries||!n)return;const a=jr(n),s=r.getEntries(),{op:l,start_timestamp:u}=Nt(e);s.slice(ZP).forEach(d=>{const f=jr(d.startTime),m=jr(Math.max(0,d.duration));if(!(l==="navigation"&&u&&a+f<u))switch(d.entryType){case"navigation":{wTe(e,d,a);break}case"mark":case"paint":case"measure":{bTe(e,d,f,m,a,t.ignorePerformanceApiSpans);const g=xm(),y=d.startTime<g.firstHiddenTime;d.name==="first-paint"&&y&&(Rs.fp={value:d.startTime,unit:"millisecond"}),d.name==="first-contentful-paint"&&y&&(Rs.fcp={value:d.startTime,unit:"millisecond"});break}case"resource":{CTe(e,d,d.name,f,m,a,t.ignoreResourceSpans);break}}}),ZP=Math.max(s.length-1,0),NTe(e),l==="pageload"&&(jTe(Rs),t.recordClsOnPageloadSpan||delete Rs.cls,t.recordLcpOnPageloadSpan||delete Rs.lcp,Object.entries(Rs).forEach(([d,f])=>{o_e(d,f.value,f.unit)}),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",Rf()),ETe(e,t)),aa=void 0,wx=void 0,Rs={}}function xTe(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function bTe(e,t,r,n,a,s){if(xTe(t)||["mark","measure"].includes(t.entryType)&&ao(t.name,s))return;const l=ym(!1),u=jr(l?l.requestStart:0),d=a+Math.max(r,u),f=a+r,m=f+n,g={[Vr]:"auto.resource.browser.metrics"};d!==f&&(g["sentry.browser.measure_happened_before_request"]=!0,g["sentry.browser.measure_start_time"]=d),vTe(g,t),d<=m&&Pl(e,d,m,{name:t.name,op:t.entryType,attributes:g})}function vTe(e,t){try{const r=t.detail;if(!r)return;if(typeof r=="object"){for(const[n,a]of Object.entries(r))if(a&&Vd(a))e[`sentry.browser.measure.detail.${n}`]=a;else if(a!==void 0)try{e[`sentry.browser.measure.detail.${n}`]=JSON.stringify(a)}catch{}return}if(Vd(r)){e["sentry.browser.measure.detail"]=r;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(r)}catch{}}catch{}}function wTe(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{yp(e,t,n,r)}),yp(e,t,"secureConnection",r,"TLS/SSL"),yp(e,t,"fetch",r,"cache"),yp(e,t,"domainLookup",r,"DNS"),STe(e,t,r)}function yp(e,t,r,n,a=r){const s=kTe(r),l=t[s],u=t[`${r}Start`];!u||!l||Pl(e,n+jr(u),n+jr(l),{op:`browser.${a}`,name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics",...r==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function kTe(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function STe(e,t,r){const n=r+jr(t.requestStart),a=r+jr(t.responseEnd),s=r+jr(t.responseStart);t.responseEnd&&(Pl(e,n,a,{op:"browser.request",name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics"}}),Pl(e,s,a,{op:"browser.response",name:t.name,attributes:{[Vr]:"auto.ui.browser.metrics"}}))}function CTe(e,t,r,n,a,s,l){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const u=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(l?.includes(u))return;const d={[Vr]:"auto.resource.browser.metrics"},f=Lc(r);f.protocol&&(d["url.scheme"]=f.protocol.split(":").pop()),f.host&&(d["server.address"]=f.host),d["url.same_origin"]=r.includes(ct.location.origin),_Te(t,d,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const m={...d,...hq(t)},g=s+n,y=g+a;Pl(e,g,y,{name:r.replace(ct.location.origin,""),op:u,attributes:m})}function NTe(e){const t=ct.navigator;if(!t)return;const r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),BS(r.rtt)&&(Rs["connection.rtt"]={value:r.rtt,unit:"millisecond"})),BS(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),BS(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function ETe(e,t){aa&&t.recordLcpOnPageloadSpan&&(aa.element&&e.setAttribute("lcp.element",xa(aa.element)),aa.id&&e.setAttribute("lcp.id",aa.id),aa.url&&e.setAttribute("lcp.url",aa.url.trim().slice(0,200)),aa.loadTime!=null&&e.setAttribute("lcp.loadTime",aa.loadTime),aa.renderTime!=null&&e.setAttribute("lcp.renderTime",aa.renderTime),e.setAttribute("lcp.size",aa.size)),wx?.sources&&t.recordClsOnPageloadSpan&&wx.sources.forEach((r,n)=>e.setAttribute(`cls.source.${n+1}`,xa(r.node)))}function _Te(e,t,r){r.forEach(([n,a])=>{const s=e[n];s!=null&&(typeof s=="number"&&s<cTe||typeof s=="string")&&(t[a]=s)})}function jTe(e){const t=ym(!1);if(!t)return;const{responseStart:r,requestStart:n}=t;n<=r&&(e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}function ATe(){return wm()&&wa()?au("element",TTe):()=>{}}const TTe=({entries:e})=>{const t=Xn(),r=t?Rn(t):void 0,n=r?Nt(r).description:Bt().getScopeData().transactionName;e.forEach(a=>{const s=a;if(!s.identifier)return;const l=s.name,u=s.renderTime,d=s.loadTime,[f,m]=d?[jr(d),"load-time"]:u?[jr(u),"render-time"]:[ln(),"entry-emission"],g=l==="image-paint"?jr(Math.max(0,(u??0)-(d??0))):0,y={[Vr]:"auto.ui.browser.elementtiming",[vo]:"ui.elementtiming",[Us]:"component","sentry.span_start_time_source":m,"sentry.transaction_name":n,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":u,"element.load_time":d,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":l};h_e({name:`element[${s.identifier}]`,attributes:y,startTime:f,onlyIfParent:!0},b=>{b.end(f+g)})})},ITe=1e3;let e8,FC,BC;function mq(e){$l("dom",e),Hl("dom",OTe)}function OTe(){if(!ct.document)return;const e=ps.bind(null,"dom"),t=t8(e,!0);ct.document.addEventListener("click",t,!1),ct.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const a=ct[r]?.prototype;a?.hasOwnProperty?.("addEventListener")&&(da(a,"addEventListener",function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},m=f[l]=f[l]||{refCount:0};if(!m.handler){const g=t8(e);m.handler=g,s.call(this,l,g,d)}m.refCount++}catch{}return s.call(this,l,u,d)}}),da(a,"removeEventListener",function(s){return function(l,u,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},m=f[l];m&&(m.refCount--,m.refCount<=0&&(s.call(this,l,m.handler,d),m.handler=void 0,delete f[l]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,l,u,d)}}))})}function MTe(e){if(e.type!==FC)return!1;try{if(!e.target||e.target._sentryId!==BC)return!1}catch{}return!0}function RTe(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function t8(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=DTe(r);if(RTe(r.type,n))return;ba(r,"_sentryCaptured",!0),n&&!n._sentryId&&ba(n,"_sentryId",Fa());const a=r.type==="keypress"?"input":r.type;MTe(r)||(e({event:r,name:a,global:t}),FC=r.type,BC=n?n._sentryId:void 0),clearTimeout(e8),e8=ct.setTimeout(()=>{BC=void 0,FC=void 0},ITe)}}function DTe(e){try{return e.target}catch{return null}}let xp;function tv(e){const t="history";$l(t,e),Hl(t,PTe)}function PTe(){if(ct.addEventListener("popstate",()=>{const t=ct.location.href,r=xp;if(xp=t,r===t)return;ps("history",{from:r,to:t})}),!aAe())return;function e(t){return function(...r){const n=r.length>2?r[2]:void 0;if(n){const a=xp,s=LTe(String(n));if(xp=s,a===s)return t.apply(this,r);ps("history",{from:a,to:s})}return t.apply(this,r)}}da(ct.history,"pushState",e),da(ct.history,"replaceState",e)}function LTe(e){try{return new URL(e,ct.location.origin).toString()}catch{return e}}const Xp={};function gq(e){const t=Xp[e];if(t)return t;let r=ct[e];if(MC(r))return Xp[e]=r.bind(ct);const n=ct.document;if(n&&typeof n.createElement=="function")try{const a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);const s=a.contentWindow;s?.[e]&&(r=s[e]),n.head.removeChild(a)}catch(a){nu&&Me.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,a)}return r&&(Xp[e]=r.bind(ct))}function UTe(e){Xp[e]=void 0}function km(...e){return gq("setTimeout")(...e)}const Cc="__sentry_xhr_v3__";function pq(e){$l("xhr",e),Hl("xhr",FTe)}function FTe(){if(!ct.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,s=ln()*1e3,l=no(n[0])?n[0].toUpperCase():void 0,u=BTe(n[1]);if(!l||!u)return t.apply(r,n);r[Cc]={method:l,url:u,request_headers:{}},l==="POST"&&u.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const d=()=>{const f=r[Cc];if(f&&r.readyState===4){try{f.status_code=r.status}catch{}const m={endTimestamp:ln()*1e3,startTimestamp:s,xhr:r,virtualError:a};ps("xhr",m)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(f,m,g){return d(),f.apply(m,g)}}):r.addEventListener("readystatechange",d),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(f,m,g){const[y,b]=g,v=m[Cc];return v&&no(y)&&no(b)&&(v.request_headers[y.toLowerCase()]=b),f.apply(m,g)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[Cc];if(!a)return t.apply(r,n);n[0]!==void 0&&(a.body=n[0]);const s={startTimestamp:ln()*1e3,xhr:r};return ps("xhr",s),t.apply(r,n)}})}function BTe(e){if(no(e))return e;try{return e.toString()}catch{}}const zTe=Symbol.for("sentry__originalRequestBody");function yq(e){return new URLSearchParams(e).toString()}function xq(e,t=Me){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[yq(e)];if(!e)return[void 0]}catch(r){return nu&&t.error(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return nu&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function bq(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const r=e[0][zTe];return r!==void 0?r:void 0}}function vq(e){let t;try{t=e.getAllResponseHeaders()}catch(r){return nu&&Me.error(r,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((r,n)=>{const[a,s]=n.split(": ");return s&&(r[a.toLowerCase()]=s),r},{}):{}}const zS=[],Jp=new Map,ad=new Map,$Te=60;function HTe(){if(wm()&&wa()){const t=qTe();return()=>{t()}}return()=>{}}const zC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function qTe(){return lq(KTe)}const KTe=({metric:e})=>{if(e.value==null)return;const t=jr(e.value);if(t>$Te)return;const r=e.entries.find(v=>v.duration===e.value&&zC[v.name]);if(!r)return;const{interactionId:n}=r,a=zC[r.name],s=jr(wa()+r.startTime),l=Xn(),u=l?Rn(l):void 0,d=n!=null?Jp.get(n):void 0,f=d?.span||u,m=f?Nt(f).description:Bt().getScopeData().transactionName,g=d?.elementName||xa(r.target),y={[Vr]:"auto.http.browser.inp",[vo]:`ui.interaction.${a}`,[If]:r.duration},b=Xj({name:g,transaction:m,attributes:y,startTime:s});b&&(b.addEvent("inp",{[mm]:"millisecond",[gm]:e.value}),b.end(s+t))};function GTe(){const e=Object.keys(zC);RC()&&e.forEach(a=>{ct.addEventListener(a,t,{capture:!0,passive:!0})});function t(a){const s=a.target;if(!s)return;const l=xa(s),u=Math.round(a.timeStamp);if(ad.set(u,l),ad.size>50){const d=ad.keys().next().value;d!==void 0&&ad.delete(d)}}function r(a){const s=Math.round(a.startTime);let l=ad.get(s);if(!l)for(let u=-5;u<=5;u++){const d=ad.get(s+u);if(d){l=d;break}}return l||"<unknown>"}const n=({entries:a})=>{const s=Xn(),l=s&&Rn(s);a.forEach(u=>{if(!tTe(u))return;const d=u.interactionId;if(d==null||Jp.has(d))return;const f=u.target?xa(u.target):r(u);if(zS.length>10){const m=zS.shift();Jp.delete(m)}zS.push(d),Jp.set(d,{span:l,elementName:f})})};au("event",n),au("first-input",n)}const WTe=40;function VTe(e,t=gq("fetch")){let r=0,n=0;async function a(s){const l=s.body.length;r+=l,n++;const u={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{const d=await t(e.url,u);return{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}}catch(d){throw UTe("fetch"),d}finally{r-=l,n--}}return sje(e,a,Fj(e.bufferSize||WTe))}const ws=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,YTe=30,XTe=50;function $C(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?tu:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const JTe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,QTe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ZTe=/\((\S*)(?::(\d+))(?::(\d+))\)/,e3e=/at (.+?) ?\(data:(.+?),/,t3e=e=>{const t=e.match(e3e);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const r=JTe.exec(e);if(r){const[,a,s,l]=r;return $C(a,tu,+s,+l)}const n=QTe.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const u=ZTe.exec(n[2]);u&&(n[2]=u[1],n[3]=u[2],n[4]=u[3])}const[s,l]=wq(n[1]||tu,n[2]);return $C(l,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},r3e=[YTe,t3e],n3e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,a3e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,s3e=e=>{const t=n3e.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=a3e.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let n=t[3],a=t[1]||tu;return[a,n]=wq(a,n),$C(n,a,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},i3e=[XTe,s3e],o3e=[r3e,i3e],l3e=H$(...o3e),wq=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:tu,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},bp=1024,c3e="Breadcrumbs",u3e=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:c3e,setup(r){t.console&&qje(m3e(r)),t.dom&&mq(h3e(r,t.dom)),t.xhr&&pq(g3e(r)),t.fetch&&YH(p3e(r)),t.history&&tv(y3e(r)),t.sentry&&r.on("beforeSendEvent",f3e(r))}}}),d3e=u3e;function f3e(e){return function(r){wt()===e&&Dl({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:xc(r)},{event:r})}}function h3e(e,t){return function(n){if(wt()!==e)return;let a,s,l=typeof t=="object"?t.serializeAttribute:void 0,u=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;u&&u>bp&&(ws&&Me.warn(`\`dom.maxStringLength\` cannot exceed ${bp}, but a value of ${u} was configured. Sentry will use ${bp} instead.`),u=bp),typeof l=="string"&&(l=[l]);try{const f=n.event,m=x3e(f)?f.target:f;a=xa(m,{keyAttrs:l,maxStringLength:u}),s=X$(m)}catch{a="<unknown>"}if(a.length===0)return;const d={category:`ui.${n.name}`,message:a};s&&(d.data={"ui.component_name":s}),Dl(d,{event:n.event,name:n.name,global:n.global})}}function m3e(e){return function(r){if(wt()!==e)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:KH(r.level),message:dP(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${dP(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;Dl(n,{input:r.args,level:r.level})}}function g3e(e){return function(r){if(wt()!==e)return;const{startTimestamp:n,endTimestamp:a}=r,s=r.xhr[Cc];if(!n||!a||!s)return;const{method:l,url:u,status_code:d,body:f}=s,m={method:l,url:u,status_code:d},g={xhr:r.xhr,input:f,startTimestamp:n,endTimestamp:a},y={category:"xhr",data:m,type:"http",level:VH(d)};e.emit("beforeOutgoingRequestBreadcrumb",y,g),Dl(y,g)}}function p3e(e){return function(r){if(wt()!==e)return;const{startTimestamp:n,endTimestamp:a}=r;if(a&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.fetchData.method,r.fetchData.url,r.error){const s=r.fetchData,l={data:r.error,input:r.args,startTimestamp:n,endTimestamp:a},u={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",u,l),Dl(u,l)}else{const s=r.response,l={...r.fetchData,status_code:s?.status};r.fetchData.request_body_size,r.fetchData.response_body_size,s?.status;const u={input:r.args,response:s,startTimestamp:n,endTimestamp:a},d={category:"fetch",data:l,type:"http",level:VH(l.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),Dl(d,u)}}}function y3e(e){return function(r){if(wt()!==e)return;let n=r.from,a=r.to;const s=Lc(Et.location.href);let l=n?Lc(n):void 0;const u=Lc(a);l?.path||(l=s),s.protocol===u.protocol&&s.host===u.host&&(a=u.relative),s.protocol===l.protocol&&s.host===l.host&&(n=l.relative),Dl({category:"navigation",data:{from:n,to:a}})}}function x3e(e){return!!e&&!!e.target}const b3e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],v3e="BrowserApiErrors",w3e=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:v3e,setupOnce(){t.setTimeout&&da(Et,"setTimeout",r8),t.setInterval&&da(Et,"setInterval",r8),t.requestAnimationFrame&&da(Et,"requestAnimationFrame",S3e),t.XMLHttpRequest&&"XMLHttpRequest"in Et&&da(XMLHttpRequest.prototype,"send",C3e);const r=t.eventTarget;r&&(Array.isArray(r)?r:b3e).forEach(a=>N3e(a,t))}}}),k3e=w3e;function r8(e){return function(...t){const r=t[0];return t[0]=Zd(r,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${yo(e)}`}}),e.apply(this,t)}}function S3e(e){return function(t){return e.apply(this,[Zd(t,{mechanism:{data:{handler:yo(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function C3e(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in r&&typeof r[a]=="function"&&da(r,a,function(s){const l={mechanism:{data:{handler:yo(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${a}`}},u=_j(s);return u&&(l.mechanism.data.handler=yo(u)),Zd(s,l)})}),e.apply(this,t)}}function N3e(e,t){const n=Et[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(da(n,"addEventListener",function(a){return function(s,l,u){try{E3e(l)&&(l.handleEvent=Zd(l.handleEvent,{mechanism:{data:{handler:yo(l),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&_3e(this,s,l),a.apply(this,[s,Zd(l,{mechanism:{data:{handler:yo(l),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),da(n,"removeEventListener",function(a){return function(s,l,u){try{const d=l.__sentry_wrapped__;d&&a.call(this,s,d,u)}catch{}return a.call(this,s,l,u)}}))}function E3e(e){return typeof e.handleEvent=="function"}function _3e(e,t,r){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,r)}const j3e=()=>({name:"BrowserSession",setupOnce(){if(typeof Et.document>"u"){ws&&Me.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}OP({ignoreDuration:!0}),MP(),tv(({from:e,to:t})=>{e!==void 0&&e!==t&&(OP({ignoreDuration:!0}),MP())})}}),A3e="GlobalHandlers",T3e=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:A3e,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(O3e(r),n8("onerror")),t.onunhandledrejection&&(M3e(r),n8("onunhandledrejection"))}}}),I3e=T3e;function O3e(e){K$(t=>{const{stackParser:r,attachStacktrace:n}=kq();if(wt()!==e||JH())return;const{msg:a,url:s,line:l,column:u,error:d}=t,f=P3e(Kj(r,d||a,void 0,n,!1),s,l,u);f.level="error",EH(f,{originalException:d,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function M3e(e){G$(t=>{const{stackParser:r,attachStacktrace:n}=kq();if(wt()!==e||JH())return;const a=R3e(t),s=Vd(a)?D3e(a):Kj(r,a,void 0,n,!0);s.level="error",EH(s,{originalException:a,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function R3e(e){if(Vd(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function D3e(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function P3e(e,t,r,n){const a=e.exception=e.exception||{},s=a.values=a.values||[],l=s[0]=s[0]||{},u=l.stacktrace=l.stacktrace||{},d=u.frames=u.frames||[],f=n,m=r,g=L3e(t)??Af();return d.length===0&&d.push({colno:f,filename:g,function:tu,in_app:!0,lineno:m}),e}function n8(e){ws&&Me.log(`Global Handler attached: ${e}`)}function kq(){return wt()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function L3e(e){if(!(!no(e)||e.length===0))return e.startsWith("data:")?`<${Nl(e,!1)}>`:e}const U3e=()=>({name:"HttpContext",preprocessEvent(e){if(!Et.navigator&&!Et.location&&!Et.document)return;const t=$j(),r={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:r}}}),F3e="cause",B3e=5,z3e="LinkedErrors",$3e=((e={})=>{const t=e.limit||B3e,r=e.key||F3e;return{name:z3e,preprocessEvent(n,a,s){const l=s.getOptions();Hje(Hj,l.stackParser,r,t,n,a)}}}),H3e=$3e;function q3e(){return K3e()?(ws&&uu(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function K3e(){if(typeof Et.window>"u")return!1;const e=Et;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const r=Af(),n=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Et===Et.top&&n.some(s=>r.startsWith(`${s}://`)))}function G3e(e){return[Dje(),Ije(),k3e(),d3e(),I3e(),H3e(),Vje(),U3e(),j3e()]}function W3e(e={}){const t=!e.skipBrowserExtensionCheck&&q3e();let r=e.defaultIntegrations==null?G3e():e.defaultIntegrations;const n={...e,enabled:t?!1:e.enabled,stackParser:LNe(e.stackParser||l3e),integrations:V_e({integrations:e.integrations,defaultIntegrations:r}),transport:e.transport||VTe};return pje(jAe,n)}const tr=vt,Jj="sentryReplaySession",V3e="replay_event",Qj="Unable to send Replay",Y3e=3e5,X3e=9e5,J3e=5e3,Q3e=5500,Z3e=6e4,e4e=5e3,t4e=3,a8=15e4,vp=5e3,r4e=3e3,n4e=300,Zj=2e7,a4e=4999,s4e=5e4,s8=36e5;var i4e=Object.defineProperty,o4e=(e,t,r)=>t in e?i4e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i8=(e,t,r)=>o4e(e,typeof t!="symbol"?t+"":t,r),Ur=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ur||{});function l4e(e){return e.nodeType===e.ELEMENT_NODE}function Jh(e){return e?.host?.shadowRoot===e}function Qh(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function c4e(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function u4e(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function kx(e){try{const t=e.rules||e.cssRules;return t?c4e(Array.from(t,Sq).join("")):null}catch{return null}}function d4e(e){let t="";for(let r=0;r<e.style.length;r++){const n=e.style,a=n[r],s=n.getPropertyPriority(a);t+=`${a}:${n.getPropertyValue(a)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function Sq(e){let t;if(h4e(e))try{t=kx(e.styleSheet)||u4e(e)}catch{}else if(m4e(e)){let r=e.cssText;const n=e.selectorText.includes(":"),a=typeof e.style.all=="string"&&e.style.all;if(a&&(r=d4e(e)),n&&(r=f4e(r)),n||a)return r}return t||e.cssText}function f4e(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function h4e(e){return"styleSheet"in e}function m4e(e){return"selectorText"in e}class Cq{constructor(){i8(this,"idNodeMap",new Map),i8(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){const n=this.getNode(t);if(n){const a=this.nodeMetaMap.get(n);a&&this.nodeMetaMap.set(r,a)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function g4e(){return new Cq}function rv({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function _0({isMasked:e,element:t,value:r,maskInputFn:n}){let a=r||"";return e?(n&&(a=n(a,t)),"*".repeat(a.length)):a}function ef(e){return e.toLowerCase()}function HC(e){return e.toUpperCase()}const o8="__rrweb_original__";function p4e(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let n=0;n<e.width;n+=r)for(let a=0;a<e.height;a+=r){const s=t.getImageData,l=o8 in s?s[o8]:s;if(new Uint32Array(l.call(t,n,a,Math.min(r,e.width-n),Math.min(r,e.height-a)).data.buffer).some(d=>d!==0))return!1}return!0}function eA(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?ef(t):null}function Sx(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}function Nq(e,t){let r;try{r=new URL(e,t??window.location.href)}catch{return null}const n=/\.([0-9a-z]+)(?:$)/i;return r.pathname.match(n)?.[1]??null}const l8={};function Eq(e){const t=l8[e];if(t)return t;const r=window.document;let n=window[e];if(r&&typeof r.createElement=="function")try{const a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);const s=a.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(a)}catch{}return l8[e]=n.bind(window)}function qC(...e){return Eq("setTimeout")(...e)}function _q(...e){return Eq("clearTimeout")(...e)}function jq(e){try{return e.contentDocument}catch{}}let y4e=1;const x4e=new RegExp("[^a-z0-9-_:]"),j0=-2;function tA(){return y4e++}function b4e(e){if(e instanceof HTMLFormElement)return"form";const t=ef(e.tagName);return x4e.test(t)?"div":t}function v4e(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let sd,c8;const w4e=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,k4e=/^(?:[a-z+]+:)?\/\//i,S4e=/^www\..*/i,C4e=/^(data:)([^,]*),(.*)/i;function N4e(e,t){if(!e||t.size===0)return e;try{const r=e.split(";"),n=[];for(let a of r){if(a=a.trim(),!a)continue;const s=a.indexOf(":");if(s===-1){n.push(a);continue}const l=a.slice(0,s).trim();t.has(l)||n.push(a)}return n.join("; ")+(n.length>0&&e.endsWith(";")?";":"")}catch(r){return console.warn("Error filtering CSS properties:",r),e}}function Cx(e,t){return(e||"").replace(w4e,(r,n,a,s,l,u)=>{const d=a||l||u,f=n||s||"";if(!d)return r;if(k4e.test(d)||S4e.test(d))return`url(${f}${d}${f})`;if(C4e.test(d))return`url(${f}${d}${f})`;if(d[0]==="/")return`url(${f}${v4e(t)+d}${f})`;const m=t.split("/"),g=d.split("/");m.pop();for(const y of g)y!=="."&&(y===".."?m.pop():m.push(y));return`url(${f}${m.join("/")}${f})`})}const E4e=/^[^ \t\n\r\u000c]+/,_4e=/^[, \t\n\r\u000c]+/;function j4e(e,t){if(t.trim()==="")return t;let r=0;function n(s){let l;const u=s.exec(t.substring(r));return u?(l=u[0],r+=l.length,l):""}const a=[];for(;n(_4e),!(r>=t.length);){let s=n(E4e);if(s.slice(-1)===",")s=yd(e,s.substring(0,s.length-1)),a.push(s);else{let l="";s=yd(e,s);let u=!1;for(;;){const d=t.charAt(r);if(d===""){a.push((s+l).trim());break}else if(u)d===")"&&(u=!1);else if(d===","){r+=1,a.push((s+l).trim());break}else d==="("&&(u=!0);l+=d,r+=1}}}return a.join(", ")}const u8=new WeakMap;function yd(e,t){return!t||t.trim()===""?t:nv(e,t)}function A4e(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function nv(e,t){let r=u8.get(e);if(r||(r=e.createElement("a"),u8.set(e,r)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return r.setAttribute("href",t),r.href}function Aq(e,t,r,n,a,s,l){if(!n)return n;if(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#"))return yd(e,n);if(r==="xlink:href"&&n[0]!=="#")return yd(e,n);if(r==="background"&&(t==="table"||t==="td"||t==="th"))return yd(e,n);if(r==="srcset")return j4e(e,n);if(r==="style"){let u=Cx(n,nv(e));return l&&l.size>0&&(u=N4e(u,l)),u}else if(t==="object"&&r==="data")return yd(e,n);return typeof s=="function"?s(r,n,a):n}function Tq(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function T4e(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let a=e.classList.length;a--;){const s=e.classList[a];if(t.test(s))return!0}if(r)return e.matches(r)}catch{}return!1}function I4e(e,t){for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}return!1}function Nc(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Nc(e.parentNode,t,r,n+1)}function xd(e,t){return r=>{const n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(I4e(n,e))return!0}return!!(t&&n.matches(t))}catch{return!1}}}function tf(e,t,r,n,a,s){try{const l=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(l===null)return!1;if(l.tagName==="INPUT"){const f=l.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(f))return!0}let u=-1,d=-1;if(s){if(d=Nc(l,xd(n,a)),d<0)return!0;u=Nc(l,xd(t,r),d>=0?d:1/0)}else{if(u=Nc(l,xd(t,r)),u<0)return!1;d=Nc(l,xd(n,a),u>=0?u:1/0)}return u>=0?d>=0?u<=d:!0:d>=0?!1:!!s}catch{}return!!s}function O4e(e,t,r){const n=e.contentWindow;if(!n)return;let a=!1,s;try{s=n.document.readyState}catch{return}if(s!=="complete"){const u=qC(()=>{a||(t(),a=!0)},r);e.addEventListener("load",()=>{_q(u),a=!0,t()});return}const l="about:blank";if(n.location.href!==l||e.src===l||e.src==="")return qC(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function M4e(e,t,r){let n=!1,a;try{a=e.sheet}catch{return}if(a)return;const s=qC(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{_q(s),n=!0,t()})}function R4e(e,t){const{doc:r,mirror:n,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:u,maskAttributeFn:d,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:b,maskInputOptions:v={},maskTextFn:S,maskInputFn:k,dataURLOptions:N={},inlineImages:E,recordCanvas:_,keepIframeSrcFn:O,newlyAddedElement:j=!1,ignoreCSSAttributes:A}=t,R=D4e(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ur.Document,childNodes:[],compatMode:e.compatMode}:{type:Ur.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ur.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:R};case e.ELEMENT_NODE:return L4e(e,{doc:r,blockClass:a,blockSelector:s,unblockSelector:l,inlineStylesheet:b,maskAttributeFn:d,maskInputOptions:v,maskInputFn:k,dataURLOptions:N,inlineImages:E,recordCanvas:_,keepIframeSrcFn:O,newlyAddedElement:j,rootId:R,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,ignoreCSSAttributes:A});case e.TEXT_NODE:return P4e(e,{doc:r,maskAllText:u,maskTextClass:f,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:y,maskTextFn:S,maskInputOptions:v,maskInputFn:k,rootId:R});case e.CDATA_SECTION_NODE:return{type:Ur.CDATA,textContent:"",rootId:R};case e.COMMENT_NODE:return{type:Ur.Comment,textContent:e.textContent||"",rootId:R};default:return!1}}function D4e(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function P4e(e,t){const{maskAllText:r,maskTextClass:n,unmaskTextClass:a,maskTextSelector:s,unmaskTextSelector:l,maskTextFn:u,maskInputOptions:d,maskInputFn:f,rootId:m}=t,g=e.parentNode&&e.parentNode.tagName;let y=e.textContent;const b=g==="STYLE"?!0:void 0,v=g==="SCRIPT"?!0:void 0,S=g==="TEXTAREA"?!0:void 0;if(b&&y){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(y=kx(e.parentNode.sheet))}catch(N){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${N}`,e)}y=Cx(y,nv(t.doc))}v&&(y="SCRIPT_PLACEHOLDER");const k=tf(e,n,s,a,l,r);if(!b&&!v&&!S&&y&&k&&(y=u?u(y,e.parentElement):y.replace(/[\S]/g,"*")),S&&y&&(d.textarea||k)&&(y=f?f(y,e.parentNode):y.replace(/[\S]/g,"*")),g==="OPTION"&&y){const N=rv({type:null,tagName:g,maskInputOptions:d});y=_0({isMasked:tf(e,n,s,a,l,N),element:e,value:y,maskInputFn:f})}return{type:Ur.Text,textContent:y||"",isStyle:b,rootId:m}}function L4e(e,t){const{doc:r,blockClass:n,blockSelector:a,unblockSelector:s,inlineStylesheet:l,maskInputOptions:u={},maskAttributeFn:d,maskInputFn:f,dataURLOptions:m={},inlineImages:g,recordCanvas:y,keepIframeSrcFn:b,newlyAddedElement:v=!1,rootId:S,maskTextClass:k,unmaskTextClass:N,maskTextSelector:E,unmaskTextSelector:_,ignoreCSSAttributes:O}=t,j=T4e(e,n,a,s),A=b4e(e);let R={};const U=e.attributes.length;for(let W=0;W<U;W++){const G=e.attributes[W];G.name&&!Tq(A,G.name,G.value)&&(R[G.name]=Aq(r,A,ef(G.name),G.value,e,d,O))}if(A==="link"&&l){const W=Array.from(r.styleSheets).find($=>$.href===e.href);let G=null;W&&(G=kx(W)),G&&(R.rel=null,R.href=null,R.crossorigin=null,R._cssText=Cx(G,W.href))}if(A==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const W=kx(e.sheet);W&&(R._cssText=Cx(W,nv(r)))}if(A==="input"||A==="textarea"||A==="select"||A==="option"){const W=e,G=eA(W),$=Sx(W,HC(A),G),z=W.checked;if(G!=="submit"&&G!=="button"&&$){const Y=tf(W,k,E,N,_,rv({type:G,tagName:HC(A),maskInputOptions:u}));R.value=_0({isMasked:Y,element:W,value:$,maskInputFn:f})}z&&(R.checked=z)}if(A==="option"&&(e.selected&&!u.select?R.selected=!0:delete R.selected),A==="canvas"&&y){if(e.__context==="2d")p4e(e)||(R.rr_dataURL=e.toDataURL(m.type,m.quality));else if(!("__context"in e)){const W=e.toDataURL(m.type,m.quality),G=r.createElement("canvas");G.width=e.width,G.height=e.height;const $=G.toDataURL(m.type,m.quality);W!==$&&(R.rr_dataURL=W)}}if(A==="img"&&g){sd||(sd=r.createElement("canvas"),c8=sd.getContext("2d"));const W=e,G=W.currentSrc||W.getAttribute("src")||"<unknown-src>",$=W.crossOrigin,z=()=>{W.removeEventListener("load",z);try{sd.width=W.naturalWidth,sd.height=W.naturalHeight,c8.drawImage(W,0,0),R.rr_dataURL=sd.toDataURL(m.type,m.quality)}catch(Y){if(W.crossOrigin!=="anonymous"){W.crossOrigin="anonymous",W.complete&&W.naturalWidth!==0?z():W.addEventListener("load",z);return}else console.warn(`Cannot inline img src=${G}! Error: ${Y}`)}W.crossOrigin==="anonymous"&&($?R.crossOrigin=$:W.removeAttribute("crossorigin"))};W.complete&&W.naturalWidth!==0?z():W.addEventListener("load",z)}if((A==="audio"||A==="video")&&(R.rr_mediaState=e.paused?"paused":"played",R.rr_mediaCurrentTime=e.currentTime),v||(e.scrollLeft&&(R.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(R.rr_scrollTop=e.scrollTop)),j){const{width:W,height:G}=e.getBoundingClientRect();R={class:R.class,rr_width:`${W}px`,rr_height:`${G}px`}}A==="iframe"&&!b(R.src)&&(!j&&!jq(e)&&(R.rr_src=R.src),delete R.src);let V;try{customElements.get(A)&&(V=!0)}catch{}return{type:Ur.Element,tagName:A,attributes:R,childNodes:[],isSVG:A4e(e)||void 0,needBlock:j,rootId:S,isCustom:V}}function er(e){return e==null?"":e.toLowerCase()}function U4e(e,t){if(t.comment&&e.type===Ur.Comment)return!0;if(e.type===Ur.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Nq(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(er(e.attributes.name).match(/^msapplication-tile(image|color)$/)||er(e.attributes.name)==="application-name"||er(e.attributes.rel)==="icon"||er(e.attributes.rel)==="apple-touch-icon"||er(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&er(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(er(e.attributes.property).match(/^(og|twitter|fb):/)||er(e.attributes.name).match(/^(og|twitter):/)||er(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(er(e.attributes.name)==="robots"||er(e.attributes.name)==="googlebot"||er(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(er(e.attributes.name)==="author"||er(e.attributes.name)==="generator"||er(e.attributes.name)==="framework"||er(e.attributes.name)==="publisher"||er(e.attributes.name)==="progid"||er(e.attributes.property).match(/^article:/)||er(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(er(e.attributes.name)==="google-site-verification"||er(e.attributes.name)==="yandex-verification"||er(e.attributes.name)==="csrf-token"||er(e.attributes.name)==="p:domain_verify"||er(e.attributes.name)==="verify-v1"||er(e.attributes.name)==="verification"||er(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function bd(e,t){const{doc:r,mirror:n,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,skipChild:y=!1,inlineStylesheet:b=!0,maskInputOptions:v={},maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOMOptions:E,dataURLOptions:_={},inlineImages:O=!1,recordCanvas:j=!1,onSerialize:A,onIframeLoad:R,iframeLoadTimeout:U=5e3,onBlockedImageLoad:V,onStylesheetLoad:W,stylesheetLoadTimeout:G=5e3,keepIframeSrcFn:$=()=>!1,newlyAddedElement:z=!1,ignoreCSSAttributes:Y}=t;let{preserveWhiteSpace:le=!0}=t;const H=R4e(e,{doc:r,mirror:n,blockClass:a,blockSelector:s,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,inlineStylesheet:b,maskInputOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,dataURLOptions:_,inlineImages:O,recordCanvas:j,keepIframeSrcFn:$,newlyAddedElement:z,ignoreCSSAttributes:Y});if(!H)return console.warn(e,"not serialized"),null;let ee;n.hasNode(e)?ee=n.getId(e):U4e(H,E)||!le&&H.type===Ur.Text&&!H.isStyle&&!H.textContent.replace(/^\s+|\s+$/gm,"").length?ee=j0:ee=tA();const q=Object.assign(H,{id:ee});if(n.add(e,q),ee===j0)return null;A&&A(e);let te=!y;if(q.type===Ur.Element){te=te&&!q.needBlock;const D=e.shadowRoot;D&&Qh(D)&&(q.isShadowHost=!0)}if((q.type===Ur.Document||q.type===Ur.Element)&&te){E.headWhitespace&&q.type===Ur.Element&&q.tagName==="head"&&(le=!1);const D={doc:r,mirror:n,blockClass:a,blockSelector:s,maskAllText:u,unblockSelector:l,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,skipChild:y,inlineStylesheet:b,maskInputOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOMOptions:E,dataURLOptions:_,inlineImages:O,recordCanvas:j,preserveWhiteSpace:le,onSerialize:A,onIframeLoad:R,iframeLoadTimeout:U,onBlockedImageLoad:V,onStylesheetLoad:W,stylesheetLoadTimeout:G,keepIframeSrcFn:$,ignoreCSSAttributes:Y},M=e.childNodes?Array.from(e.childNodes):[];for(const L of M){const J=bd(L,D);J&&q.childNodes.push(J)}if(l4e(e)&&e.shadowRoot)for(const L of Array.from(e.shadowRoot.childNodes)){const J=bd(L,D);J&&(Qh(e.shadowRoot)&&(J.isShadow=!0),q.childNodes.push(J))}}if(e.parentNode&&Jh(e.parentNode)&&Qh(e.parentNode)&&(q.isShadow=!0),q.type===Ur.Element&&q.tagName==="iframe"&&!q.needBlock&&O4e(e,()=>{const D=jq(e);if(D&&R){const M=bd(D,{doc:D,mirror:n,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:b,maskInputOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOMOptions:E,dataURLOptions:_,inlineImages:O,recordCanvas:j,preserveWhiteSpace:le,onSerialize:A,onIframeLoad:R,iframeLoadTimeout:U,onStylesheetLoad:W,stylesheetLoadTimeout:G,keepIframeSrcFn:$,ignoreCSSAttributes:Y});M&&R(e,M)}},U),q.type===Ur.Element&&q.tagName==="img"&&!e.complete&&q.needBlock){const D=e,M=()=>{if(D.isConnected&&!D.complete&&V)try{const L=D.getBoundingClientRect();L.width>0&&L.height>0&&V(D,q,L)}catch{}D.removeEventListener("load",M)};D.isConnected&&D.addEventListener("load",M)}return q.type===Ur.Element&&q.tagName==="link"&&typeof q.attributes.rel=="string"&&(q.attributes.rel==="stylesheet"||q.attributes.rel==="preload"&&typeof q.attributes.href=="string"&&Nq(q.attributes.href)==="css")&&M4e(e,()=>{if(W){const D=bd(e,{doc:r,mirror:n,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:b,maskInputOptions:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOMOptions:E,dataURLOptions:_,inlineImages:O,recordCanvas:j,preserveWhiteSpace:le,onSerialize:A,onIframeLoad:R,iframeLoadTimeout:U,onStylesheetLoad:W,stylesheetLoadTimeout:G,keepIframeSrcFn:$,ignoreCSSAttributes:Y});D&&W(e,D)}},G),q.type===Ur.Element&&delete q.needBlock,q}function F4e(e,t){const{mirror:r=new Cq,blockClass:n="rr-block",blockSelector:a=null,unblockSelector:s=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:m=null,inlineStylesheet:g=!0,inlineImages:y=!1,recordCanvas:b=!1,maskAllInputs:v=!1,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOM:E=!1,dataURLOptions:_,preserveWhiteSpace:O,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:R,onBlockedImageLoad:U,onStylesheetLoad:V,stylesheetLoadTimeout:W,keepIframeSrcFn:G=()=>!1,ignoreCSSAttributes:$=new Set([])}=t||{};return bd(e,{doc:e,mirror:r,blockClass:n,blockSelector:a,unblockSelector:s,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:g,maskInputOptions:v===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:v===!1?{}:v,maskAttributeFn:S,maskTextFn:k,maskInputFn:N,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:_,inlineImages:y,recordCanvas:b,preserveWhiteSpace:O,onSerialize:j,onIframeLoad:A,iframeLoadTimeout:R,onBlockedImageLoad:U,onStylesheetLoad:V,stylesheetLoadTimeout:W,keepIframeSrcFn:G,newlyAddedElement:!1,ignoreCSSAttributes:$})}function Gn(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const od=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let d8={map:{},getId(){return console.error(od),-1},getNode(){return console.error(od),null},removeNodeFromMap(){console.error(od)},has(){return console.error(od),!1},reset(){console.error(od)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(d8=new Proxy(d8,{get(e,t,r){return t==="map"&&console.error(od),Reflect.get(e,t,r)}}));function A0(e,t,r={}){let n=null,a=0;return function(...s){const l=Date.now();!a&&r.leading===!1&&(a=l);const u=t-(l-a),d=this;u<=0||u>t?(n&&(G4e(n),n=null),a=l,e.apply(d,s)):!n&&r.trailing!==!1&&(n=av(()=>{a=r.leading===!1?0:Date.now(),n=null,e.apply(d,s)},u))}}function Iq(e,t,r,n,a=window){const s=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,n?r:{set(l){av(()=>{r.set.call(this,l)},0),s&&s.set&&s.set.call(this,l)}}),()=>Iq(e,t,s||{},!0)}function rA(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],a=r(n);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=a,()=>{e[t]=n}}catch{return()=>{}}}let Nx=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Nx=()=>new Date().getTime());function Oq(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function Mq(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Rq(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Dq(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Oa(e,t,r,n,a){if(!e)return!1;const s=Dq(e);if(!s)return!1;const l=xd(t,r);if(!a){const f=n&&s.matches(n);return l(s)&&!f}const u=Nc(s,l);let d=-1;return u<0?!1:(n&&(d=Nc(s,xd(null,n))),u>-1&&d<0?!0:u<d)}function B4e(e,t){return t.getId(e)!==-1}function $S(e,t){return t.getId(e)===j0}function Pq(e,t){if(Jh(e))return!1;const r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Pq(e.parentNode,t):!0:!0}function KC(e){return!!e.changedTouches}function z4e(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function Lq(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Uq(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function GC(e){return!!e?.shadowRoot}class $4e{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Fq(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function H4e(e){let t=e,r;for(;r=Fq(t);)t=r;return t}function q4e(e){const t=e.ownerDocument;if(!t)return!1;const r=H4e(e);return t.contains(r)}function Bq(e){const t=e.ownerDocument;return t?t.contains(e)||q4e(e):!1}const f8={};function nA(e){const t=f8[e];if(t)return t;const r=window.document;let n=window[e];if(r&&typeof r.createElement=="function")try{const a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);const s=a.contentWindow;s&&s[e]&&(n=s[e]),r.head.removeChild(a)}catch{}return f8[e]=n.bind(window)}function K4e(...e){return nA("requestAnimationFrame")(...e)}function av(...e){return nA("setTimeout")(...e)}function G4e(...e){return nA("clearTimeout")(...e)}var ht=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ht||{}),ot=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ot||{}),Fn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Fn||{}),Wi=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Wi||{}),ld=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ld||{});function aA(e){try{return e.contentDocument}catch{}}function W4e(e){try{return e.contentWindow}catch{}}function h8(e){return"__ln"in e}class V4e{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=r?.next||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&h8(t.previousSibling)){const n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&h8(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const m8=(e,t)=>`${e}@${t}`;class Y4e{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],r=new Set,n=new V4e,a=d=>{let f=d,m=j0;for(;m===j0;)f=f&&f.nextSibling,m=f&&this.mirror.getId(f);return m},s=d=>{if(!d.parentNode||!Bq(d))return;const f=Jh(d.parentNode)?this.mirror.getId(Fq(d)):this.mirror.getId(d.parentNode),m=a(d);if(f===-1||m===-1)return n.addNode(d);const g=bd(d,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:y=>{Lq(y,this.mirror)&&!Oa(y,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(y),Uq(y,this.mirror)&&this.stylesheetManager.trackLinkElement(y),GC(d)&&this.shadowDomManager.addShadowRoot(d.shadowRoot,this.doc)},onIframeLoad:(y,b)=>{Oa(y,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(y,b),y.contentWindow&&this.canvasManager.addWindow(y.contentWindow),this.shadowDomManager.observeAttachShadow(y))},onStylesheetLoad:(y,b)=>{this.stylesheetManager.attachLinkElement(y,b)},onBlockedImageLoad:(y,b,{width:v,height:S})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:b.id,attributes:{style:{width:`${v}px`,height:`${S}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});g&&(t.push({parentId:f,nextId:m,node:g}),r.add(g.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const d of this.movedSet)g8(this.removes,d,this.mirror)&&!this.movedSet.has(d.parentNode)||s(d);for(const d of this.addedSet)!p8(this.droppedSet,d)&&!g8(this.removes,d,this.mirror)||p8(this.movedSet,d)?s(d):this.droppedSet.add(d);let l=null;for(;n.length;){let d=null;if(l){const f=this.mirror.getId(l.value.parentNode),m=a(l.value);f!==-1&&m!==-1&&(d=l)}if(!d){let f=n.tail;for(;f;){const m=f;if(f=f.previous,m){const g=this.mirror.getId(m.value.parentNode);if(a(m.value)===-1)continue;if(g!==-1){d=m;break}else{const b=m.value;if(b.parentNode&&b.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const v=b.parentNode.host;if(this.mirror.getId(v)!==-1){d=m;break}}}}}}if(!d){for(;n.head;)n.removeNode(n.head.value);break}l=d.previous,n.removeNode(d.value),s(d.value)}const u={texts:this.texts.map(d=>({id:this.mirror.getId(d.node),value:d.value})).filter(d=>!r.has(d.id)).filter(d=>this.mirror.has(d.id)),attributes:this.attributes.map(d=>{const{attributes:f}=d;if(typeof f.style=="string"){const m=JSON.stringify(d.styleDiff),g=JSON.stringify(d._unchangedStyles);m.length<f.style.length&&(m+g).split("var(").length===f.style.split("var(").length&&(f.style=d.styleDiff)}return{id:this.mirror.getId(d.node),attributes:f}}).filter(d=>!r.has(d.id)).filter(d=>this.mirror.has(d.id)),removes:this.removes,adds:t};!u.texts.length&&!u.attributes.length&&!u.removes.length&&!u.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(u))},this.processMutation=t=>{if(!$S(t.target,this.mirror))switch(t.type){case"characterData":{const r=t.target.textContent;!Oa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:tf(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,Dq(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,a=t.target.getAttribute(n);if(n==="value"){const l=eA(r),u=r.tagName;a=Sx(r,u,l);const d=rv({maskInputOptions:this.maskInputOptions,tagName:u,type:l}),f=tf(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,d);a=_0({isMasked:f,element:r,value:a,maskInputFn:this.maskInputFn})}if(Oa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||a===t.oldValue)return;let s=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(a))if(!aA(r))n="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Tq(r.tagName,n)&&(s.attributes[n]=Aq(this.doc,ef(r.tagName),ef(n),a,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const l=this.unattachedDoc.createElement("span");t.oldValue&&l.setAttribute("style",t.oldValue);for(const u of Array.from(r.style)){const d=r.style.getPropertyValue(u),f=r.style.getPropertyPriority(u);d!==l.style.getPropertyValue(u)||f!==l.style.getPropertyPriority(u)?f===""?s.styleDiff[u]=d:s.styleDiff[u]=[d,f]:s._unchangedStyles[u]=[d,f]}for(const u of Array.from(l.style))r.style.getPropertyValue(u)===""&&(s.styleDiff[u]=!1)}break}case"childList":{if(Oa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const n=this.mirror.getId(r),a=Jh(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Oa(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||$S(r,this.mirror)||!B4e(r,this.mirror)||(this.addedSet.has(r)?(WC(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||Pq(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[m8(n,a)]?WC(this.movedSet,r):this.removes.push({parentId:a,id:n,isShadow:Jh(t.target)&&Qh(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if($S(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[m8(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Oa(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(n=>this.genAdds(n)),GC(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function WC(e,t){e.delete(t),t.childNodes?.forEach(r=>WC(e,r))}function g8(e,t,r){return e.length===0?!1:X4e(e,t,r)}function X4e(e,t,r){let n=t.parentNode;for(;n;){const a=r.getId(n);if(e.some(s=>s.id===a))return!0;n=n.parentNode}return!1}function p8(e,t){return e.size===0?!1:zq(e,t)}function zq(e,t){const{parentNode:r}=t;return r?e.has(r)?!0:zq(e,r):!1}let Zh;function J4e(e){Zh=e}function Q4e(){Zh=void 0}const St=e=>Zh?(...r)=>{try{return e(...r)}catch(n){if(Zh&&Zh(n)===!0)return()=>{};throw n}}:e,vd=[];function Sm(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function $q(e,t){const r=new Y4e;vd.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver;const a=window?.Zone?.__symbol__?.("MutationObserver");a&&window[a]&&(n=window[a]);const s=new n(St(l=>{e.onMutation&&e.onMutation(l)===!1||r.processMutations.bind(r)(l)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Z4e({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};const a=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let l=[],u;const d=A0(St(g=>{const y=Date.now()-u;e(l.map(b=>(b.timeOffset-=y,b)),g),l=[],u=null}),s),f=St(A0(St(g=>{const y=Sm(g),{clientX:b,clientY:v}=KC(g)?g.changedTouches[0]:g;u||(u=Nx()),l.push({x:b,y:v,id:n.getId(y),timeOffset:Nx()-u}),d(typeof DragEvent<"u"&&g instanceof DragEvent?ot.Drag:g instanceof MouseEvent?ot.MouseMove:ot.TouchMove)}),a,{trailing:!1})),m=[Gn("mousemove",f,r),Gn("touchmove",f,r),Gn("drag",f,r)];return St(()=>{m.forEach(g=>g())})}function e5e({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:a,unblockSelector:s,sampling:l}){if(l.mouseInteraction===!1)return()=>{};const u=l.mouseInteraction===!0||l.mouseInteraction===void 0?{}:l.mouseInteraction,d=[];let f=null;const m=g=>y=>{const b=Sm(y);if(Oa(b,n,a,s,!0))return;let v=null,S=g;if("pointerType"in y){switch(y.pointerType){case"mouse":v=Wi.Mouse;break;case"touch":v=Wi.Touch;break;case"pen":v=Wi.Pen;break}v===Wi.Touch?Fn[g]===Fn.MouseDown?S="TouchStart":Fn[g]===Fn.MouseUp&&(S="TouchEnd"):Wi.Pen}else KC(y)&&(v=Wi.Touch);v!==null?(f=v,(S.startsWith("Touch")&&v===Wi.Touch||S.startsWith("Mouse")&&v===Wi.Mouse)&&(v=null)):Fn[g]===Fn.Click&&(v=f,f=null);const k=KC(y)?y.changedTouches[0]:y;if(!k)return;const N=r.getId(b),{clientX:E,clientY:_}=k;St(e)({type:Fn[S],id:N,x:E,y:_,...v!==null&&{pointerType:v}})};return Object.keys(Fn).filter(g=>Number.isNaN(Number(g))&&!g.endsWith("_Departed")&&u[g]!==!1).forEach(g=>{let y=ef(g);const b=m(g);if(window.PointerEvent)switch(Fn[g]){case Fn.MouseDown:case Fn.MouseUp:y=y.replace("mouse","pointer");break;case Fn.TouchStart:case Fn.TouchEnd:return}d.push(Gn(y,b,t))}),St(()=>{d.forEach(g=>g())})}function Hq({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:a,unblockSelector:s,sampling:l}){const u=St(A0(St(d=>{const f=Sm(d);if(!f||Oa(f,n,a,s,!0))return;const m=r.getId(f);if(f===t&&t.defaultView){const g=Oq(t.defaultView);e({id:m,x:g.left,y:g.top})}else e({id:m,x:f.scrollLeft,y:f.scrollTop})}),l.scroll||100));return Gn("scroll",u,t)}function t5e({viewportResizeCb:e},{win:t}){let r=-1,n=-1;const a=St(A0(St(()=>{const s=Mq(),l=Rq();(r!==s||n!==l)&&(e({width:Number(l),height:Number(s)}),r=s,n=l)}),200));return Gn("resize",a,t)}const r5e=["INPUT","TEXTAREA","SELECT"],y8=new WeakMap;function n5e({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:a,unblockSelector:s,ignoreClass:l,ignoreSelector:u,maskInputOptions:d,maskInputFn:f,sampling:m,userTriggeredOnInput:g,maskTextClass:y,unmaskTextClass:b,maskTextSelector:v,unmaskTextSelector:S}){function k(R){let U=Sm(R);const V=R.isTrusted,W=U&&HC(U.tagName);if(W==="OPTION"&&(U=U.parentElement),!U||!W||r5e.indexOf(W)<0||Oa(U,n,a,s,!0))return;const G=U;if(G.classList.contains(l)||u&&G.matches(u))return;const $=eA(U);let z=Sx(G,W,$),Y=!1;const le=rv({maskInputOptions:d,tagName:W,type:$}),H=tf(U,y,v,b,S,le);($==="radio"||$==="checkbox")&&(Y=U.checked),z=_0({isMasked:H,element:U,value:z,maskInputFn:f}),N(U,g?{text:z,isChecked:Y,userTriggered:V}:{text:z,isChecked:Y});const ee=U.name;$==="radio"&&ee&&Y&&t.querySelectorAll(`input[type="radio"][name="${ee}"]`).forEach(q=>{if(q!==U){const te=_0({isMasked:H,element:q,value:Sx(q,W,$),maskInputFn:f});N(q,g?{text:te,isChecked:!Y,userTriggered:!1}:{text:te,isChecked:!Y})}})}function N(R,U){const V=y8.get(R);if(!V||V.text!==U.text||V.isChecked!==U.isChecked){y8.set(R,U);const W=r.getId(R);St(e)({...U,id:W})}}const _=(m.input==="last"?["change"]:["input","change"]).map(R=>Gn(R,St(k),t)),O=t.defaultView;if(!O)return()=>{_.forEach(R=>R())};const j=O.Object.getOwnPropertyDescriptor(O.HTMLInputElement.prototype,"value"),A=[[O.HTMLInputElement.prototype,"value"],[O.HTMLInputElement.prototype,"checked"],[O.HTMLSelectElement.prototype,"value"],[O.HTMLTextAreaElement.prototype,"value"],[O.HTMLSelectElement.prototype,"selectedIndex"],[O.HTMLOptionElement.prototype,"selected"]];return j&&j.set&&_.push(...A.map(R=>Iq(R[0],R[1],{set(){St(k)({target:this,isTrusted:!1})}},!1,O))),St(()=>{_.forEach(R=>R())})}function Ex(e){const t=[];function r(n,a){if(wp("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||wp("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||wp("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||wp("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const l=Array.from(n.parentRule.cssRules).indexOf(n);a.unshift(l)}else if(n.parentStyleSheet){const l=Array.from(n.parentStyleSheet.cssRules).indexOf(n);a.unshift(l)}return a}return r(e,t)}function cl(e,t,r){let n,a;return e?(e.ownerNode?n=t.getId(e.ownerNode):a=r.getId(e),{styleId:a,id:n}):{}}function a5e({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const a=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:St((m,g,y)=>{const[b,v]=y,{id:S,styleId:k}=cl(g,t,r.styleMirror);return(S&&S!==-1||k&&k!==-1)&&e({id:S,styleId:k,adds:[{rule:b,index:v}]}),m.apply(g,y)})});const s=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:St((m,g,y)=>{const[b]=y,{id:v,styleId:S}=cl(g,t,r.styleMirror);return(v&&v!==-1||S&&S!==-1)&&e({id:v,styleId:S,removes:[{index:b}]}),m.apply(g,y)})});let l;n.CSSStyleSheet.prototype.replace&&(l=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:St((m,g,y)=>{const[b]=y,{id:v,styleId:S}=cl(g,t,r.styleMirror);return(v&&v!==-1||S&&S!==-1)&&e({id:v,styleId:S,replace:b}),m.apply(g,y)})}));let u;n.CSSStyleSheet.prototype.replaceSync&&(u=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:St((m,g,y)=>{const[b]=y,{id:v,styleId:S}=cl(g,t,r.styleMirror);return(v&&v!==-1||S&&S!==-1)&&e({id:v,styleId:S,replaceSync:b}),m.apply(g,y)})}));const d={};kp("CSSGroupingRule")?d.CSSGroupingRule=n.CSSGroupingRule:(kp("CSSMediaRule")&&(d.CSSMediaRule=n.CSSMediaRule),kp("CSSConditionRule")&&(d.CSSConditionRule=n.CSSConditionRule),kp("CSSSupportsRule")&&(d.CSSSupportsRule=n.CSSSupportsRule));const f={};return Object.entries(d).forEach(([m,g])=>{f[m]={insertRule:g.prototype.insertRule,deleteRule:g.prototype.deleteRule},g.prototype.insertRule=new Proxy(f[m].insertRule,{apply:St((y,b,v)=>{const[S,k]=v,{id:N,styleId:E}=cl(b.parentStyleSheet,t,r.styleMirror);return(N&&N!==-1||E&&E!==-1)&&e({id:N,styleId:E,adds:[{rule:S,index:[...Ex(b),k||0]}]}),y.apply(b,v)})}),g.prototype.deleteRule=new Proxy(f[m].deleteRule,{apply:St((y,b,v)=>{const[S]=v,{id:k,styleId:N}=cl(b.parentStyleSheet,t,r.styleMirror);return(k&&k!==-1||N&&N!==-1)&&e({id:k,styleId:N,removes:[{index:[...Ex(b),S]}]}),y.apply(b,v)})})}),St(()=>{n.CSSStyleSheet.prototype.insertRule=a,n.CSSStyleSheet.prototype.deleteRule=s,l&&(n.CSSStyleSheet.prototype.replace=l),u&&(n.CSSStyleSheet.prototype.replaceSync=u),Object.entries(d).forEach(([m,g])=>{g.prototype.insertRule=f[m].insertRule,g.prototype.deleteRule=f[m].deleteRule})})}function qq({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);const a=r.nodeName==="#document"?r.defaultView?.Document:r.ownerDocument?.defaultView?.ShadowRoot,s=a?.prototype?Object.getOwnPropertyDescriptor(a?.prototype,"adoptedStyleSheets"):void 0;return n===null||n===-1||!a||!s?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(l){const u=s.set?.call(this,l);if(n!==null&&n!==-1)try{t.adoptStyleSheets(l,n)}catch{}return u}}),St(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function s5e({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:a}){const s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:St((u,d,f)=>{const[m,g,y]=f;if(r.has(m))return s.apply(d,[m,g,y]);const{id:b,styleId:v}=cl(d.parentRule?.parentStyleSheet,t,n.styleMirror);return(b&&b!==-1||v&&v!==-1)&&e({id:b,styleId:v,set:{property:m,value:g,priority:y},index:Ex(d.parentRule)}),u.apply(d,f)})});const l=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:St((u,d,f)=>{const[m]=f;if(r.has(m))return l.apply(d,[m]);const{id:g,styleId:y}=cl(d.parentRule?.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,remove:{property:m},index:Ex(d.parentRule)}),u.apply(d,f)})}),St(()=>{a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=l})}function i5e({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:a,sampling:s,doc:l}){const u=St(f=>A0(St(m=>{const g=Sm(m);if(!g||Oa(g,t,r,n,!0))return;const{currentTime:y,volume:b,muted:v,playbackRate:S}=g;e({type:f,id:a.getId(g),currentTime:y,volume:b,muted:v,playbackRate:S})}),s.media||500)),d=[Gn("play",u(ld.Play),l),Gn("pause",u(ld.Pause),l),Gn("seeked",u(ld.Seeked),l),Gn("volumechange",u(ld.VolumeChange),l),Gn("ratechange",u(ld.RateChange),l)];return St(()=>{d.forEach(f=>f())})}function o5e({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],a=new WeakMap,s=r.FontFace;r.FontFace=function(d,f,m){const g=new s(d,f,m);return a.set(g,{family:d,buffer:typeof f!="string",descriptors:m,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),g};const l=rA(t.fonts,"add",function(u){return function(d){return av(St(()=>{const f=a.get(d);f&&(e(f),a.delete(d))}),0),u.apply(this,[d])}});return n.push(()=>{r.FontFace=s}),n.push(l),St(()=>{n.forEach(u=>u())})}function l5e(e){const{doc:t,mirror:r,blockClass:n,blockSelector:a,unblockSelector:s,selectionCb:l}=e;let u=!0;const d=St(()=>{const f=t.getSelection();if(!f||u&&f?.isCollapsed)return;u=f.isCollapsed||!1;const m=[],g=f.rangeCount||0;for(let y=0;y<g;y++){const b=f.getRangeAt(y),{startContainer:v,startOffset:S,endContainer:k,endOffset:N}=b;Oa(v,n,a,s,!0)||Oa(k,n,a,s,!0)||m.push({start:r.getId(v),startOffset:S,end:r.getId(k),endOffset:N})}l({ranges:m})});return d(),Gn("selectionchange",d)}function c5e({doc:e,customElementCb:t}){const r=e.defaultView;return!r||!r.customElements?()=>{}:rA(r.customElements,"define",function(a){return function(s,l,u){try{t({define:{name:s}})}catch{}return a.apply(this,[s,l,u])}})}function u5e(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};let n;e.recordDOM&&(n=$q(e,e.doc));const a=Z4e(e),s=e5e(e),l=Hq(e),u=t5e(e,{win:r}),d=n5e(e),f=i5e(e);let m=()=>{},g=()=>{},y=()=>{},b=()=>{};e.recordDOM&&(m=a5e(e,{win:r}),g=qq(e,e.doc),y=s5e(e,{win:r}),e.collectFonts&&(b=o5e(e)));const v=l5e(e),S=c5e(e),k=[];for(const N of e.plugins)k.push(N.observer(N.callback,r,N.options));return St(()=>{vd.forEach(N=>N.reset()),n?.disconnect(),a(),s(),l(),u(),d(),f(),m(),g(),y(),b(),v(),S(),k.forEach(N=>N())})}function wp(e){return typeof window[e]<"u"}function kp(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class VC{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,a){const s=n||this.getIdToRemoteIdMap(t),l=a||this.getRemoteIdToIdMap(t);let u=s.get(r);return u||(u=this.generateIdFn(),s.set(r,u),l.set(u,r)),u}getIds(t,r){const n=this.getIdToRemoteIdMap(t),a=this.getRemoteIdToIdMap(t);return r.map(s=>this.getId(t,s,n,a))}getRemoteId(t,r,n){const a=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const s=a.get(r);return s||-1}getRemoteIds(t,r){const n=this.getRemoteIdToIdMap(t);return r.map(a=>this.getRemoteId(t,a,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}class d5e{constructor(){this.crossOriginIframeMirror=new VC(tA),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class f5e{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new VC(tA),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new VC(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const n=aA(t);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(t){const r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;const a=this.crossOriginIframeMap.get(t.source);if(!a)return;const s=this.transformCrossOriginEvent(a,r.data.event);s&&this.wrappedEmit(s,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case ht.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);const n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:ht.IncrementalSnapshot,data:{source:ot.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ht.Meta:case ht.Load:case ht.DomContentLoaded:return!1;case ht.Plugin:return r;case ht.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case ht.IncrementalSnapshot:switch(r.data.source){case ot.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);const a=this.crossOriginIframeRootIdMap.get(t);a&&this.patchRootIdOnNode(n.node,a)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case ot.Drag:case ot.TouchMove:case ot.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case ot.ViewportResize:return!1;case ot.MediaInteraction:case ot.MouseInteraction:case ot.Scroll:case ot.CanvasMutation:case ot.Input:return this.replaceIds(r.data,t,["id"]),r;case ot.StyleSheetRule:case ot.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case ot.Font:return r;case ot.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case ot.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),r.data.styles?.forEach(n=>{this.replaceStyleIds(n,t,["styleId"])}),r}}return!1}replace(t,r,n,a){for(const s of a)!Array.isArray(r[s])&&typeof r[s]!="number"||(Array.isArray(r[s])?r[s]=t.getIds(n,r[s]):r[s]=t.getId(n,r[s]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==Ur.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}}class h5e{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class m5e{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!Qh(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const n=$q({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Hq({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),av(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(qq({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const r=aA(t),n=W4e(t);!r||!n||this.patchAttachShadow(n.Element,r)}patchAttachShadow(t,r){const n=this;this.restoreHandlers.push(rA(t.prototype,"attachShadow",function(a){return function(s){const l=a.call(this,s);return this.shadowRoot&&Bq(this)&&n.addShadowRoot(this.shadowRoot,r),l}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var x8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sp=0;Sp<x8.length;Sp++)g5e[x8.charCodeAt(Sp)]=Sp;class b8{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class p5e{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new $4e,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const n={id:r,styleIds:[]},a=[];for(const s of t){let l;this.styleMirror.has(s)?l=this.styleMirror.getId(s):(l=this.styleMirror.add(s),a.push({styleId:l,rules:Array.from(s.rules||CSSRule,(u,d)=>({rule:Sq(u),index:d}))})),n.styleIds.push(l)}a.length>0&&(n.styles=a),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class y5e{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,r){const n=this.nodeMap.get(t);return n&&Array.from(n).some(a=>a!==r)}add(t,r){this.active||(this.active=!0,K4e(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}destroy(){}}let Nr,_x;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ts=g4e();function io(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:a="rr-block",blockSelector:s=null,unblockSelector:l=null,ignoreClass:u="rr-ignore",ignoreSelector:d=null,maskAllText:f=!1,maskTextClass:m="rr-mask",unmaskTextClass:g=null,maskTextSelector:y=null,unmaskTextSelector:b=null,inlineStylesheet:v=!0,maskAllInputs:S,maskInputOptions:k,slimDOMOptions:N,maskAttributeFn:E,maskInputFn:_,maskTextFn:O,maxCanvasSize:j=null,packFn:A,sampling:R={},dataURLOptions:U={},mousemoveWait:V,recordDOM:W=!0,recordCanvas:G=!1,recordCrossOriginIframes:$=!1,recordAfter:z=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Y=!1,collectFonts:le=!1,inlineImages:H=!1,plugins:ee,keepIframeSrcFn:q=()=>!1,ignoreCSSAttributes:te=new Set([]),errorHandler:D,onMutation:M,getCanvasManager:L}=e;J4e(D);const J=$?window.parent===window:!0;let se=!1;if(!J)try{window.parent.document&&(se=!1)}catch{se=!0}if(J&&!t)throw new Error("emit function is required");if(!J&&!se)return()=>{};V!==void 0&&R.mousemove===void 0&&(R.mousemove=V),Ts.reset();const je=S===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:k!==void 0?k:{},Re=N===!0||N==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:N==="all",headMetaDescKeywords:N==="all"}:N||{};z4e();let Le,Ce=0;const Q=me=>{for(const Pe of ee||[])Pe.eventProcessor&&(me=Pe.eventProcessor(me));return A&&!se&&(me=A(me)),me};Nr=(me,Pe)=>{const Te=me;if(Te.timestamp=Nx(),vd[0]?.isFrozen()&&Te.type!==ht.FullSnapshot&&!(Te.type===ht.IncrementalSnapshot&&Te.data.source===ot.Mutation)&&vd.forEach(Ye=>Ye.unfreeze()),J)t?.(Q(Te),Pe);else if(se){const Ye={type:"rrweb",event:Q(Te),origin:window.location.origin,isCheckout:Pe};window.parent.postMessage(Ye,"*")}if(Te.type===ht.FullSnapshot)Le=Te,Ce=0;else if(Te.type===ht.IncrementalSnapshot){if(Te.data.source===ot.Mutation&&Te.data.isAttachIframe)return;Ce++;const Ye=n&&Ce>=n,Be=r&&Le&&Te.timestamp-Le.timestamp>r;(Ye||Be)&&Z(!0)}};const Ee=me=>{Nr({type:ht.IncrementalSnapshot,data:{source:ot.Mutation,...me}})},we=me=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.Scroll,...me}}),ae=me=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.CanvasMutation,...me}}),nt=me=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.AdoptedStyleSheet,...me}}),De=new p5e({mutationCb:Ee,adoptedStyleSheetCb:nt}),Ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new d5e:new f5e({mirror:Ts,mutationCb:Ee,stylesheetManager:De,recordCrossOriginIframes:$,wrappedEmit:Nr});for(const me of ee||[])me.getMirror&&me.getMirror({nodeMirror:Ts,crossOriginIframeMirror:Ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ve.crossOriginIframeStyleMirror});const Ze=new y5e,ce=b5e(L,{mirror:Ts,win:window,mutationCb:me=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.CanvasMutation,...me}}),recordCanvas:G,blockClass:a,blockSelector:s,unblockSelector:l,maxCanvasSize:j,sampling:R.canvas,dataURLOptions:U,errorHandler:D}),Ae=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new h5e:new m5e({mutationCb:Ee,scrollCb:we,bypassOptions:{onMutation:M,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:f,maskTextClass:m,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:b,inlineStylesheet:v,maskInputOptions:je,dataURLOptions:U,maskAttributeFn:E,maskTextFn:O,maskInputFn:_,recordCanvas:G,inlineImages:H,sampling:R,slimDOMOptions:Re,iframeManager:Ve,stylesheetManager:De,canvasManager:ce,keepIframeSrcFn:q,processedNodeManager:Ze,ignoreCSSAttributes:te},mirror:Ts}),Z=(me=!1)=>{if(!W)return;Nr({type:ht.Meta,data:{href:window.location.href,width:Rq(),height:Mq()}},me),De.reset(),Ae.init(),vd.forEach(Te=>Te.lock());const Pe=F4e(document,{mirror:Ts,blockClass:a,blockSelector:s,unblockSelector:l,maskAllText:f,maskTextClass:m,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:b,inlineStylesheet:v,maskAllInputs:je,maskAttributeFn:E,maskInputFn:_,maskTextFn:O,slimDOM:Re,dataURLOptions:U,recordCanvas:G,inlineImages:H,onSerialize:Te=>{Lq(Te,Ts)&&Ve.addIframe(Te),Uq(Te,Ts)&&De.trackLinkElement(Te),GC(Te)&&Ae.addShadowRoot(Te.shadowRoot,document)},onIframeLoad:(Te,Ye)=>{Ve.attachIframe(Te,Ye),Te.contentWindow&&ce.addWindow(Te.contentWindow),Ae.observeAttachShadow(Te)},onStylesheetLoad:(Te,Ye)=>{De.attachLinkElement(Te,Ye)},onBlockedImageLoad:(Te,Ye,{width:Be,height:Zt})=>{Ee({adds:[],removes:[],texts:[],attributes:[{id:Ye.id,attributes:{style:{width:`${Be}px`,height:`${Zt}px`}}}]})},keepIframeSrcFn:q,ignoreCSSAttributes:te});if(!Pe)return console.warn("Failed to snapshot the document");Nr({type:ht.FullSnapshot,data:{node:Pe,initialOffset:Oq(window)}}),vd.forEach(Te=>Te.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&De.adoptStyleSheets(document.adoptedStyleSheets,Ts.getId(document))};_x=Z;try{const me=[],Pe=Ye=>St(u5e)({onMutation:M,mutationCb:Ee,mousemoveCb:(Be,Zt)=>Nr({type:ht.IncrementalSnapshot,data:{source:Zt,positions:Be}}),mouseInteractionCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.MouseInteraction,...Be}}),scrollCb:we,viewportResizeCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.ViewportResize,...Be}}),inputCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.Input,...Be}}),mediaInteractionCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.MediaInteraction,...Be}}),styleSheetRuleCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.StyleSheetRule,...Be}}),styleDeclarationCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.StyleDeclaration,...Be}}),canvasMutationCb:ae,fontCb:Be=>Nr({type:ht.IncrementalSnapshot,data:{source:ot.Font,...Be}}),selectionCb:Be=>{Nr({type:ht.IncrementalSnapshot,data:{source:ot.Selection,...Be}})},customElementCb:Be=>{Nr({type:ht.IncrementalSnapshot,data:{source:ot.CustomElement,...Be}})},blockClass:a,ignoreClass:u,ignoreSelector:d,maskAllText:f,maskTextClass:m,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:b,maskInputOptions:je,inlineStylesheet:v,sampling:R,recordDOM:W,recordCanvas:G,inlineImages:H,userTriggeredOnInput:Y,collectFonts:le,doc:Ye,maskAttributeFn:E,maskInputFn:_,maskTextFn:O,keepIframeSrcFn:q,blockSelector:s,unblockSelector:l,slimDOMOptions:Re,dataURLOptions:U,mirror:Ts,iframeManager:Ve,stylesheetManager:De,shadowDomManager:Ae,processedNodeManager:Ze,canvasManager:ce,ignoreCSSAttributes:te,plugins:ee?.filter(Be=>Be.observer)?.map(Be=>({observer:Be.observer,options:Be.options,callback:Zt=>Nr({type:ht.Plugin,data:{plugin:Be.name,payload:Zt}})}))||[]},{});Ve.addLoadListener(Ye=>{try{me.push(Pe(Ye.contentDocument))}catch(Be){console.warn(Be)}});const Te=()=>{Z(),me.push(Pe(document))};return document.readyState==="interactive"||document.readyState==="complete"?Te():(me.push(Gn("DOMContentLoaded",()=>{Nr({type:ht.DomContentLoaded,data:{}}),z==="DOMContentLoaded"&&Te()})),me.push(Gn("load",()=>{Nr({type:ht.Load,data:{}}),z==="load"&&Te()},window))),()=>{me.forEach(Ye=>Ye()),Ze.destroy(),_x=void 0,Q4e()}}catch(me){console.warn(me)}}function x5e(e){if(!_x)throw new Error("please take full snapshot after start recording");_x(e)}io.mirror=Ts;io.takeFullSnapshot=x5e;function b5e(e,t){try{return e?e(t):new b8}catch{return console.warn("Unable to initialize CanvasManager"),new b8}}var v8;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(v8||(v8={}));const v5e=3,w5e=5;function sA(e){return e>9999999999?e:e*1e3}function HS(e){return e>9999999999?e/1e3:e}function Cm(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:ht.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ms(t,10,1e3)}}),t.category==="console")))}const k5e="button,a";function Kq(e){return e.closest(k5e)||e}function Gq(e){const t=Wq(e);return!t||!(t instanceof Element)?t:Kq(t)}function Wq(e){return S5e(e)?e.target:e}function S5e(e){return typeof e=="object"&&!!e&&"target"in e}let ul;function C5e(e){return ul||(ul=[],N5e()),ul.push(e),()=>{const t=ul?ul.indexOf(e):-1;t>-1&&ul.splice(t,1)}}function N5e(){da(tr,"open",function(e){return function(...t){if(ul)try{ul.forEach(r=>r())}catch{}return e.apply(tr,t)}})}const E5e=new Set([ot.Mutation,ot.StyleSheetRule,ot.StyleDeclaration,ot.AdoptedStyleSheet,ot.CanvasMutation,ot.Selection,ot.MediaInteraction]);function _5e(e,t,r){e.handleClick(t,r)}class j5e{constructor(t,r,n=Cm){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=C5e(()=>{this._lastMutation=w8()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(T5e(r,this._ignoreSelector)||!I5e(t))return;const n={timestamp:HS(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(a=>a.node===n.node&&Math.abs(a.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=HS(t)}registerScroll(t=Date.now()){this._lastScroll=HS(t)}registerClick(t){const r=Kq(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){const t=[],r=w8();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(const n of t){const a=this._clicks.indexOf(n);a>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,a=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!n&&!a,{clickCount:l,clickBreadcrumb:u}=t;if(s){const d=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,f=d<this._timeout*1e3?"mutation":"timeout",m={type:"default",message:u.message,timestamp:u.timestamp,category:"ui.slowClickDetected",data:{...u.data,url:tr.location.href,route:r.getCurrentRoute(),timeAfterClickMs:d,endReason:f,clickCount:l||1}};this._addBreadcrumbEvent(r,m);return}if(l>1){const d={type:"default",message:u.message,timestamp:u.timestamp,category:"ui.multiClick",data:{...u.data,url:tr.location.href,route:r.getCurrentRoute(),clickCount:l,metric:!0}};this._addBreadcrumbEvent(r,d)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=km(()=>this._checkClicks(),1e3)}}const A5e=["A","BUTTON","INPUT"];function T5e(e,t){return!!(!A5e.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function I5e(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function w8(){return Date.now()/1e3}function O5e(e,t){try{if(!M5e(t))return;const{source:r}=t.data;if(E5e.has(r)&&e.registerMutation(t.timestamp),r===ot.Scroll&&e.registerScroll(t.timestamp),R5e(t)){const{type:n,id:a}=t.data,s=io.mirror.getNode(a);s instanceof HTMLElement&&n===Fn.Click&&e.registerClick(s)}}catch{}}function M5e(e){return e.type===v5e}function R5e(e){return e.data.source===ot.MouseInteraction}function di(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var iA=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(iA||{});const D5e=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function P5e(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const r in e)if(D5e.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}const L5e=e=>t=>{if(!e.isEnabled())return;const r=U5e(t);if(!r)return;const n=t.name==="click",a=n?t.event:void 0;n&&e.clickDetector&&a?.target&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&_5e(e.clickDetector,r,Gq(t.event)),Cm(e,r)};function Vq(e,t){const r=io.mirror.getId(e),n=r&&io.mirror.getNode(r),a=n&&io.mirror.getMeta(n),s=a&&B5e(a)?a:null;return{message:t,data:s?{nodeId:r,node:{id:r,tagName:s.tagName,textContent:Array.from(s.childNodes).map(l=>l.type===iA.Text&&l.textContent).filter(Boolean).map(l=>l.trim()).join(""),attributes:P5e(s.attributes)}}:{}}}function U5e(e){const{target:t,message:r}=F5e(e);return di({category:`ui.${e.name}`,...Vq(t,r)})}function F5e(e){const t=e.name==="click";let r,n=null;try{n=t?Gq(e.event):Wq(e.event),r=xa(n,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:n,message:r}}function B5e(e){return e.type===iA.Element}function z5e(e,t){if(!e.isEnabled())return;e.updateUserActivity();const r=$5e(t);r&&Cm(e,r)}function $5e(e){const{metaKey:t,shiftKey:r,ctrlKey:n,altKey:a,key:s,target:l}=e;if(!l||H5e(l)||!s)return null;const u=t||n||a,d=s.length===1;if(!u&&d)return null;const f=xa(l,{maxStringLength:200})||"<unknown>",m=Vq(l,f);return di({category:"ui.keyDown",message:f,data:{...m.data,metaKey:t,shiftKey:r,ctrlKey:n,altKey:a,key:s}})}function H5e(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const q5e={resource:Y5e,paint:W5e,navigation:V5e};function qS(e,t){return({metric:r})=>{t.replayPerformanceEntries.push(e(r))}}function K5e(e){return e.map(G5e).filter(Boolean)}function G5e(e){const t=q5e[e.entryType];return t?t(e):null}function rf(e){return((wa()||tr.performance.timeOrigin)+e)/1e3}function W5e(e){const{duration:t,entryType:r,name:n,startTime:a}=e,s=rf(a);return{type:r,name:n,start:s,end:s+t,data:void 0}}function V5e(e){const{entryType:t,name:r,decodedBodySize:n,duration:a,domComplete:s,encodedBodySize:l,domContentLoadedEventStart:u,domContentLoadedEventEnd:d,domInteractive:f,loadEventStart:m,loadEventEnd:g,redirectCount:y,startTime:b,transferSize:v,type:S}=e;return a===0?null:{type:`${t}.${S}`,start:rf(b),end:rf(s),name:r,data:{size:v,decodedBodySize:n,encodedBodySize:l,duration:a,domInteractive:f,domContentLoadedEventStart:u,domContentLoadedEventEnd:d,loadEventStart:m,loadEventEnd:g,domComplete:s,redirectCount:y}}}function Y5e(e){const{entryType:t,initiatorType:r,name:n,responseEnd:a,startTime:s,decodedBodySize:l,encodedBodySize:u,responseStatus:d,transferSize:f}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:rf(s),end:rf(a),name:n,data:{size:f,statusCode:d,decodedBodySize:l,encodedBodySize:u}}}function X5e(e){const t=e.entries[e.entries.length-1],r=t?.element?[t.element]:void 0;return oA(e,"largest-contentful-paint",r)}function J5e(e){return e.sources!==void 0}function Q5e(e){const t=[],r=[];for(const n of e.entries)if(J5e(n)){const a=[];for(const s of n.sources)if(s.node){r.push(s.node);const l=io.mirror.getId(s.node);l&&a.push(l)}t.push({value:n.value,nodeIds:a.length?a:void 0})}return oA(e,"cumulative-layout-shift",r,t)}function Z5e(e){const t=e.entries[e.entries.length-1],r=t?.target?[t.target]:void 0;return oA(e,"interaction-to-next-paint",r)}function oA(e,t,r,n){const a=e.value,s=e.rating,l=rf(a);return{type:"web-vital",name:t,start:l,end:l,data:{value:a,size:a,rating:s,nodeIds:r?r.map(u=>io.mirror.getId(u)):void 0,attributions:n}}}function e6e(e){function t(a){e.performanceEntries.includes(a)||e.performanceEntries.push(a)}function r({entries:a}){a.forEach(t)}const n=[];return["navigation","paint","resource"].forEach(a=>{n.push(au(a,r))}),n.push(Yj(qS(X5e,e)),Vj(qS(Q5e,e)),lq(qS(Z5e,e))),()=>{n.forEach(a=>a())}}const at=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,t6e='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function r6e(){const e=new Blob([t6e]);return URL.createObjectURL(e)}const k8=["log","warn","error"],Qp="[Replay] ";function KS(e,t="info"){Dl({category:"console",data:{logger:"replay"},level:t,message:`${Qp}${e}`},{level:t})}function n6e(){let e=!1,t=!1;const r={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return at?(k8.forEach(n=>{r[n]=(...a)=>{Me[n](Qp,...a),t&&KS(a.join(""),KH(n))}}),r.exception=(n,...a)=>{a.length&&r.error&&r.error(...a),Me.error(Qp,n),e?NH(n,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&KS(n,"error")},r.infoTick=(...n)=>{Me.log(Qp,...n),t&&setTimeout(()=>KS(n[0]),0)}):k8.forEach(n=>{r[n]=()=>{}}),r}const st=n6e();class lA extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Zj}.`)}}class Yq{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>Zj)throw new lA;this.events.push(t)}finish(){return new Promise(t=>{const r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(r=>r.timestamp).sort()[0];return t?sA(t):null}}class a6e{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){at&&st.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,r){const n=this._getAndIncrementId();return new Promise((a,s)=>{const l=({data:u})=>{const d=u;if(d.method===t&&d.id===n){if(this._worker.removeEventListener("message",l),!d.success){at&&st.error("Error in compression worker: ",d.response),s(new Error("Error in compression worker"));return}a(d.response)}};this._worker.addEventListener("message",l),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}}class s6e{constructor(t){this._worker=new a6e(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const r=sA(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>Zj?Promise.reject(new lA):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{at&&st.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class i6e{constructor(t){this._fallback=new Yq,this._compression=new s6e(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){at&&st.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:r,waitForCheckout:n}=this._fallback,a=[];for(const s of t)a.push(this._compression.addEvent(s));this._compression.hasCheckout=r,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(a),this._fallback.clear()}catch(s){at&&st.exception(s,"Failed to add events when switching buffers.")}}}function o6e({useCompression:e,workerUrl:t}){if(e&&window.Worker){const r=l6e(t);if(r)return r}return at&&st.log("Using simple buffer"),new Yq}function l6e(e){try{const t=e||c6e();if(!t)return;at&&st.log(`Using compression worker${e?` from ${e}`:""}`);const r=new Worker(t);return new i6e(r)}catch(t){at&&st.exception(t,"Failed to create compression worker")}}function c6e(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?r6e():""}function cA(){try{return"sessionStorage"in tr&&!!tr.sessionStorage}catch{return!1}}function u6e(e){d6e(),e.session=void 0}function d6e(){if(cA())try{tr.sessionStorage.removeItem(Jj)}catch{}}function Xq(e){return e===void 0?!1:Math.random()<e}function sv(e){if(cA())try{tr.sessionStorage.setItem(Jj,JSON.stringify(e))}catch{}}function Jq(e){const t=Date.now(),r=e.id||Fa(),n=e.started||t,a=e.lastActivity||t,s=e.segmentId||0,l=e.sampled,u=e.previousSessionId,d=e.dirty||!1;return{id:r,started:n,lastActivity:a,segmentId:s,sampled:l,previousSessionId:u,dirty:d}}function f6e(e,t){return Xq(e)?"session":t?"buffer":!1}function S8({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){const a=f6e(e,t),s=Jq({sampled:a,previousSessionId:n});return r&&sv(s),s}function h6e(){if(!cA())return null;try{const e=tr.sessionStorage.getItem(Jj);if(!e)return null;const t=JSON.parse(e);return at&&st.infoTick("Loading existing session"),Jq(t)}catch{return null}}function YC(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function Qq(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return YC(e.started,t,n)||YC(e.lastActivity,r,n)}function Zq(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!Qq(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function GS({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:r},n){const a=n.stickySession&&h6e();return a?Zq(a,{sessionIdleExpire:e,maxReplayDuration:t})?(at&&st.infoTick("Session in sessionStorage is expired, creating new one..."),S8(n,{previousSessionId:a.id})):a:(at&&st.infoTick("Creating new session"),S8(n,{previousSessionId:r}))}function m6e(e){return e.type===ht.Custom}function uA(e,t,r){return tK(e,t)?(eK(e,t,r),!0):!1}function g6e(e,t,r){return tK(e,t)?eK(e,t,r):Promise.resolve(null)}async function eK(e,t,r){const{eventBuffer:n}=e;if(!n||n.waitForCheckout&&!r)return null;const a=e.recordingMode==="buffer";try{r&&a&&n.clear(),r&&(n.hasCheckout=!0,n.waitForCheckout=!1);const s=e.getOptions(),l=p6e(t,s.beforeAddRecordingEvent);return l?await n.addEvent(l):void 0}catch(s){const l=s&&s instanceof lA,u=l?"addEventSizeExceeded":"addEvent",d=wt();if(d){const f=l?"buffer_overflow":"internal_sdk_error";d.recordDroppedEvent(f,"replay")}if(l&&a)return n.clear(),n.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:u})}}function tK(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const r=sA(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(at&&st.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function p6e(e,t){try{if(typeof t=="function"&&m6e(e))return t(e)}catch(r){return at&&st.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function dA(e){return!e.type}function XC(e){return e.type==="transaction"}function y6e(e){return e.type==="replay_event"}function C8(e){return e.type==="feedback"}function x6e(e){return(t,r)=>{if(!e.isEnabled()||!dA(t)&&!XC(t))return;const n=r.statusCode;if(!(!n||n<200||n>=300)){if(XC(t)){b6e(e,t);return}v6e(e,t)}}}function b6e(e,t){const r=e.getContext();t.contexts?.trace?.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function v6e(e,t){const r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||km(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(a){e.handleException(a)}})}function w6e(e){return t=>{!e.isEnabled()||!dA(t)||k6e(e,t)}}function k6e(e,t){const r=t.exception?.values?.[0]?.value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const n=di({category:"replay.hydrate-error",data:{url:Af()}});Cm(e,n)}}function S6e(e){const t=wt();t&&t.on("beforeAddBreadcrumb",r=>C6e(e,r))}function C6e(e,t){if(!e.isEnabled()||!rK(t))return;const r=N6e(t);r&&Cm(e,r)}function N6e(e){return!rK(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?E6e(e):di(e)}function E6e(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return di(e);let r=!1;const n=t.map(a=>{if(!a)return a;if(typeof a=="string")return a.length>vp?(r=!0,`${a.slice(0,vp)}`):a;if(typeof a=="object")try{const s=Ms(a,7);return JSON.stringify(s).length>vp?(r=!0,`${JSON.stringify(s,null,2).slice(0,vp)}`):s}catch{}return a});return di({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function rK(e){return!!e.category}function _6e(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function nK(){const e=Bt().getPropagationContext().dsc;e&&delete e.replay_id;const t=Xn();if(t){const r=wo(t);delete r.replay_id}}function j6e(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:ht.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function A6e(e,t){return e.recordingMode!=="buffer"||t.message===Qj||!t.exception||t.type?!1:Xq(e.getOptions().errorSampleRate)}function T6e(e){return Object.assign((t,r)=>{if(!e.isEnabled()||e.isPaused())return t;if(y6e(t))return delete t.breadcrumbs,t;if(!dA(t)&&!XC(t)&&!C8(t))return t;if(!e.checkAndHandleExpiredSession())return nK(),t;if(C8(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),j6e(e,t),t;if(_6e(t,r)&&!e.getOptions()._experiments.captureExceptions)return at&&st.log("Ignoring error from rrweb internals",t),null;const a=A6e(e,t);if((a||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),a&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const l=e.session;l.dirty=!0,e.getOptions().stickySession&&sv(l)}return t},{id:"Replay"})}function iv(e,t){return t.map(({type:r,start:n,end:a,name:s,data:l})=>{const u=e.throttledAddEvent({type:ht.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:s,startTimestamp:n,endTimestamp:a,data:l}}});return typeof u=="string"?Promise.resolve(null):u})}function I6e(e){const{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function O6e(e){return t=>{if(!e.isEnabled())return;const r=I6e(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(iv(e,[r]),!1)))}}function M6e(e,t){return at&&e.getOptions()._experiments.traceInternals?!1:wje(t,wt())}function aK(e,t){e.isEnabled()&&t!==null&&(M6e(e,t.name)||e.addUpdate(()=>(iv(e,[t]),!0)))}function ov(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const r=yq(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function sK(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function jx(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function iK(e,t){if(!t)return null;const{startTimestamp:r,endTimestamp:n,url:a,method:s,statusCode:l,request:u,response:d}=t;return{type:e,start:r/1e3,end:n/1e3,name:a,data:{method:s,statusCode:l,request:u,response:d}}}function T0(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function _l(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};const n={headers:e,size:t},{body:a,warnings:s}=R6e(r);return n.body=a,s?.length&&(n._meta={warnings:s}),n}function JC(e,t){return Object.entries(e).reduce((r,[n,a])=>{const s=n.toLowerCase();return t.includes(s)&&e[n]&&(r[s]=a),r},{})}function R6e(e){if(!e||typeof e!="string")return{body:e};const t=e.length>a8,r=D6e(e);if(t){const n=e.slice(0,a8);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function D6e(e){const t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function Ax(e,t){const r=P6e(e);return ao(r,t)}function P6e(e,t=tr.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(tr.location.origin))return e;const r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;const n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}async function L6e(e,t,r){try{const n=await F6e(e,t,r),a=iK("resource.fetch",n);aK(r.replay,a)}catch(n){at&&st.exception(n,"Failed to capture fetch breadcrumb")}}function U6e(e,t){const{input:r,response:n}=t,a=r?bq(r):void 0,s=ov(a),l=n?sK(n.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),l!==void 0&&(e.data.response_body_size=l)}async function F6e(e,t,r){const n=Date.now(),{startTimestamp:a=n,endTimestamp:s=n}=t,{url:l,method:u,status_code:d=0,request_body_size:f,response_body_size:m}=e.data,g=Ax(l,r.networkDetailAllowUrls)&&!Ax(l,r.networkDetailDenyUrls),y=g?B6e(r,t.input,f):T0(f),b=await z6e(g,r,t.response,m);return{startTimestamp:a,endTimestamp:s,url:l,method:u,statusCode:d,request:y,response:b}}function B6e({networkCaptureBodies:e,networkRequestHeaders:t},r,n){const a=r?q6e(r,t):{};if(!e)return _l(a,n,void 0);const s=bq(r),[l,u]=xq(s,st),d=_l(a,n,l);return u?jx(d,u):d}async function z6e(e,{networkCaptureBodies:t,networkResponseHeaders:r},n,a){if(!e&&a!==void 0)return T0(a);const s=n?oK(n.headers,r):{};if(!n||!t&&a!==void 0)return _l(s,a,void 0);const[l,u]=await H6e(n),d=$6e(l,{networkCaptureBodies:t,responseBodySize:a,captureDetails:e,headers:s});return u?jx(d,u):d}function $6e(e,{networkCaptureBodies:t,responseBodySize:r,captureDetails:n,headers:a}){try{const s=e?.length&&r===void 0?ov(e):r;return n?t?_l(a,s,e):_l(a,s,void 0):T0(s)}catch(s){return at&&st.exception(s,"Failed to serialize response body"),_l(a,r,void 0)}}async function H6e(e){const t=K6e(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await G6e(t)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(at&&st.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(at&&st.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function oK(e,t){const r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function q6e(e,t){return e.length===1&&typeof e[0]!="string"?N8(e[0],t):e.length===2?N8(e[1],t):{}}function N8(e,t){if(!e)return{};const r=e.headers;return r?r instanceof Headers?oK(r,t):Array.isArray(r)?{}:JC(r,t):{}}function K6e(e){try{return e.clone()}catch(t){at&&st.exception(t,"Failed to clone response body")}}function G6e(e){return new Promise((t,r)=>{const n=km(()=>r(new Error("Timeout while trying to read response body")),500);W6e(e).then(a=>t(a),a=>r(a)).finally(()=>clearTimeout(n))})}async function W6e(e){return await e.text()}async function V6e(e,t,r){try{const n=X6e(e,t,r),a=iK("resource.xhr",n);aK(r.replay,a)}catch(n){at&&st.exception(n,"Failed to capture xhr breadcrumb")}}function Y6e(e,t){const{xhr:r,input:n}=t;if(!r)return;const a=ov(n),s=r.getResponseHeader("content-length")?sK(r.getResponseHeader("content-length")):Z6e(r.response,r.responseType);a!==void 0&&(e.data.request_body_size=a),s!==void 0&&(e.data.response_body_size=s)}function X6e(e,t,r){const n=Date.now(),{startTimestamp:a=n,endTimestamp:s=n,input:l,xhr:u}=t,{url:d,method:f,status_code:m=0,request_body_size:g,response_body_size:y}=e.data;if(!d)return null;if(!u||!Ax(d,r.networkDetailAllowUrls)||Ax(d,r.networkDetailDenyUrls)){const A=T0(g),R=T0(y);return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:m,request:A,response:R}}const b=u[Cc],v=b?JC(b.request_headers,r.networkRequestHeaders):{},S=JC(vq(u),r.networkResponseHeaders),[k,N]=r.networkCaptureBodies?xq(l,st):[void 0],[E,_]=r.networkCaptureBodies?J6e(u):[void 0],O=_l(v,g,k),j=_l(S,y,E);return{startTimestamp:a,endTimestamp:s,url:d,method:f,statusCode:m,request:N?jx(O,N):O,response:_?jx(j,_):j}}function J6e(e){const t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return Q6e(e.response,e.responseType)}catch(r){t.push(r)}return at&&st.warn("Failed to get xhr response body",...t),[void 0]}function Q6e(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(r){return at&&st.exception(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return at&&st.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Z6e(e,t){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ov(r)}catch{return}}function eIe(e){const t=wt();try{const{networkDetailAllowUrls:r,networkDetailDenyUrls:n,networkCaptureBodies:a,networkRequestHeaders:s,networkResponseHeaders:l}=e.getOptions(),u={replay:e,networkDetailAllowUrls:r,networkDetailDenyUrls:n,networkCaptureBodies:a,networkRequestHeaders:s,networkResponseHeaders:l};t&&t.on("beforeAddBreadcrumb",(d,f)=>tIe(u,d,f))}catch{}}function tIe(e,t,r){if(t.data)try{rIe(t)&&aIe(r)&&(Y6e(t,r),V6e(t,r,e)),nIe(t)&&sIe(r)&&(U6e(t,r),L6e(t,r,e))}catch(n){at&&st.exception(n,"Error when enriching network breadcrumb")}}function rIe(e){return e.category==="xhr"}function nIe(e){return e.category==="fetch"}function aIe(e){return e?.xhr}function sIe(e){return e?.response}function iIe(e){const t=wt();mq(L5e(e)),tv(O6e(e)),S6e(e),eIe(e);const r=T6e(e);z_e(r),t&&(t.on("beforeSendEvent",w6e(e)),t.on("afterSendEvent",x6e(e)),t.on("createDsc",n=>{const a=e.getSessionId();a&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(n.replay_id=a)}),t.on("spanStart",n=>{e.lastActiveSpan=n}),t.on("spanEnd",n=>{e.lastActiveSpan=n}),t.on("beforeSendFeedback",async(n,a)=>{const s=e.getSessionId();a?.includeReplay&&e.isEnabled()&&s&&n.contexts?.feedback&&(n.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),n.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function oIe(e){try{return Promise.all(iv(e,[lIe(tr.performance.memory)]))}catch{return[]}}function lIe(e){const{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function cIe(e,t,r){return _je(e,t,{...r,setTimeoutImpl:km})}const Cp=vt.navigator;function uIe(){return/iPhone|iPad|iPod/i.test(Cp?.userAgent??"")||/Macintosh/i.test(Cp?.userAgent??"")&&Cp?.maxTouchPoints&&Cp?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function dIe(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){at&&st.warn("Received replay event after session expired.");return}const a=n||!t;t=!0,e.clickDetector&&O5e(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&a&&e.setInitialState(),!uA(e,r,a))return!0;if(!a)return!1;const s=e.session;if(hIe(e,a),e.recordingMode==="buffer"&&s&&e.eventBuffer&&!s.dirty){const l=e.eventBuffer.getEarliestTimestamp();l&&(at&&st.log(`Updating session start time to earliest event in buffer to ${new Date(l)}`),s.started=l,e.getOptions().stickySession&&sv(s))}return s?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function fIe(e){const t=e.getOptions();return{type:ht.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function hIe(e,t){!t||!e.session||e.session.segmentId!==0||uA(e,fIe(e),!1)}function mIe(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function gIe(e,t,r,n){return Kl(xH(e,Rj(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function pIe({recordingData:e,headers:t}){let r;const n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{const s=new TextEncoder().encode(n);r=new Uint8Array(s.length+e.length),r.set(s),r.set(e,s.length)}return r}async function yIe({client:e,scope:t,replayId:r,event:n}){const a=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:r,integrations:a};e.emit("preprocessEvent",n,s);const l=await CH(e.getOptions(),n,s,t,e,Ci());if(!l)return null;e.emit("postprocessEvent",l,s),l.platform=l.platform||"javascript";const u=e.getSdkMetadata(),{name:d,version:f,settings:m}=u?.sdk||{};return l.sdk={...l.sdk,name:d||"sentry.javascript.unknown",version:f||"0.0.0",settings:m},l}async function xIe({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:a,session:s}){const l=pIe({recordingData:e,headers:{segment_id:r}}),{urls:u,errorIds:d,traceIds:f,initialTimestamp:m}=n,g=wt(),y=Bt(),b=g?.getTransport(),v=g?.getDsn();if(!g||!b||!v||!s.sampled)return Promise.resolve({});const S={type:V3e,replay_start_timestamp:m/1e3,timestamp:a/1e3,error_ids:d,trace_ids:f,urls:u,replay_id:t,segment_id:r,replay_type:s.sampled},k=await yIe({scope:y,client:g,replayId:t,event:S});if(!k)return g.recordDroppedEvent("event_processor","replay"),at&&st.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete k.sdkProcessingMetadata;const N=gIe(k,l,v,g.getOptions().tunnel);let E;try{E=await b.send(N)}catch(O){const j=new Error(Qj);try{j.cause=O}catch{}throw j}if(typeof E.statusCode=="number"&&(E.statusCode<200||E.statusCode>=300))throw new lK(E.statusCode);const _=PH({},E);if(DH(_,"replay"))throw new fA(_);return E}class lK extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class fA extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function cK(e,t={count:0,interval:e4e}){const{recordingData:r,onError:n}=e;if(r.length)try{return await xIe(e),!0}catch(a){if(a instanceof lK||a instanceof fA)throw a;if(_H("Replays",{_retryCount:t.count}),n&&n(a),t.count>=t4e){const s=new Error(`${Qj} - max retries exceeded`);try{s.cause=a}catch{}throw s}return t.interval*=++t.count,new Promise((s,l)=>{km(async()=>{try{await cK(e,t),s(!0)}catch(u){l(u)}},t.interval)})}}const uK="__THROTTLED",bIe="__SKIPPED";function vIe(e,t,r){const n=new Map,a=u=>{const d=u-r;n.forEach((f,m)=>{m<d&&n.delete(m)})},s=()=>[...n.values()].reduce((u,d)=>u+d,0);let l=!1;return(...u)=>{const d=Math.floor(Date.now()/1e3);if(a(d),s()>=t){const m=l;return l=!0,m?bIe:uK}l=!1;const f=n.get(d)||0;return n.set(d,f+1),e(...u)}}class wIe{constructor({options:t,recordingOptions:r}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Y3e,sessionIdleExpire:X3e},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=cIe(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=vIe((l,u)=>g6e(this,l,u),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:a}=this.getOptions(),s=n?{threshold:Math.min(r4e,n),timeout:n,scrollTimeout:n4e,ignoreSelector:a?a.join(","):""}:void 0;if(s&&(this.clickDetector=new j5e(this,s)),at){const l=t._experiments;st.setConfig({captureExceptions:!!l.captureExceptions,traceInternals:!!l.traceInternals})}this._handleVisibilityChange=()=>{tr.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const l=di({category:"ui.blur"});this._doChangeToBackgroundTasks(l)},this._handleWindowFocus=()=>{const l=di({category:"ui.focus"});this._doChangeToForegroundTasks(l)},this._handleKeyboardEvent=l=>{z5e(this,l)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){at&&st.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:r,sessionSampleRate:n}=this._options,a=r<=0&&n<=0;if(this._requiresManualStart=a,!a){if(this._initializeSessionForSampling(t),!this.session){at&&st.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",at&&st.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){at&&st.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){at&&st.log("Buffering is in progress, call `flush()` to save the replay");return}at&&st.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=GS({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){at&&st.log("Buffering is in progress, call `flush()` to save the replay");return}at&&st.infoTick("Starting replay in buffer mode");const t=GS({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=io({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:Z3e}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:dIe(this),...uIe(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{at&&st.log(`Stopping Replay${r?` triggered by ${r}`:""}`),nK(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,u6e(this)}catch(n){this.handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),at&&st.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),at&&st.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();at&&st.log("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const r=t();this.recordingMode==="buffer"||!this._isEnabled||r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&YC(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${tr.location.pathname}${tr.location.hash}${tr.location.search}`,r=`${tr.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){const n=this._throttledAddEvent(t,r);if(n===uK){const a=di({category:"replay.throttled"});this.addUpdate(()=>!uA(this,{type:w5e,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a,metric:!0}}))}return n}getCurrentRoute(){const t=this.lastActiveSpan||Xn(),r=t&&Rn(t),a=(r&&Nt(r).data||{})[Us];if(!(!r||!a||!["route","custom"].includes(a)))return Nt(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=o6e({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const r=this._options.errorSampleRate>0,n=GS({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return Zq(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{tr.document.addEventListener("visibilitychange",this._handleVisibilityChange),tr.addEventListener("blur",this._handleWindowBlur),tr.addEventListener("focus",this._handleWindowFocus),tr.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(iIe(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=e6e(this)}_removeListeners(){try{tr.document.removeEventListener("visibilitychange",this._handleVisibilityChange),tr.removeEventListener("blur",this._handleWindowBlur),tr.removeEventListener("focus",this._handleWindowFocus),tr.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||Qq(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){at&&st.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:ht.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=K5e(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const r=this._context.initialTimestamp/1e3;t=t.filter(n=>n.start>=r)}return Promise.all(iv(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:r}=this;if(!t||!r||this._requiresManualStart||t.segmentId)return;const n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){at&&st.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await oIe(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await cK({replayId:t,recordingData:s,segmentId:a,eventContext:n,session:this.session,timestamp:r,onError:l=>this.handleException(l)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const n=wt();if(n){const a=r instanceof fA?"ratelimit_backoff":"send_error";n.recordDroppedEvent(a,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){at&&st.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,a=Date.now()-r;this._debouncedFlush.cancel();const s=a<this._options.minReplayDuration,l=a>this._options.maxReplayDuration+5e3;if(s||l){at&&st.log(`Session duration (${Math.floor(a/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const u=this.eventBuffer;u&&this.session.segmentId===0&&!u.hasCheckout&&at&&st.log("Flushing initial segment without checkout.");const d=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(f){this.handleException(f)}finally{this._flushLock=void 0,d&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&sv(this.session)}_onMutationHandler(t){const{ignoreMutations:r}=this._options._experiments;if(r?.length&&t.some(u=>{const d=mIe(u.target),f=r.join(",");return d?.matches(f)}))return!1;const n=t.length,a=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,l=a&&n>a;if(n>s||l){const u=di({category:"replay.mutations",data:{count:n,limit:l}});this._createCustomBreadcrumb(u)}return l?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function zh(e,t){return[...e,...t].join(",")}function kIe({mask:e,unmask:t,block:r,unblock:n,ignore:a}){const s=["base","iframe[srcdoc]:not([src])"],l=zh(e,[".sentry-mask","[data-sentry-mask]"]),u=zh(t,[]);return{maskTextSelector:l,unmaskTextSelector:u,blockSelector:zh(r,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:zh(n,[]),ignoreSelector:zh(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function SIe({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:a,value:s}){return!n||a.unmaskTextSelector&&e.matches(a.unmaskTextSelector)?s:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const E8='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',CIe=["content-length","content-type","accept"],NIe=Symbol.for("sentry__originalRequestBody");let _8=!1,j8=!1;function EIe(){if(typeof Request>"u"||j8)return;const e=Request;try{const t=function(r,n){const a=new e(r,n);return n?.body!=null&&(a[NIe]=n.body),a};t.prototype=e.prototype,vt.Request=t,j8=!0}catch{}}const _Ie=(e=>new jIe(e));class jIe{constructor({flushMinDelay:t=J3e,flushMaxDelay:r=Q3e,minReplayDuration:n=a4e,maxReplayDuration:a=s8,stickySession:s=!0,useCompression:l=!0,workerUrl:u,_experiments:d={},maskAllText:f=!0,maskAllInputs:m=!0,blockAllMedia:g=!0,mutationBreadcrumbLimit:y=750,mutationLimit:b=1e4,slowClickTimeout:v=7e3,slowClickIgnoreSelectors:S=[],networkDetailAllowUrls:k=[],networkDetailDenyUrls:N=[],networkCaptureBodies:E=!0,networkRequestHeaders:_=[],networkResponseHeaders:O=[],mask:j=[],maskAttributes:A=["title","placeholder","aria-label"],unmask:R=[],block:U=[],unblock:V=[],ignore:W=[],maskFn:G,beforeAddRecordingEvent:$,beforeErrorSampling:z,onError:Y,attachRawBodyFromRequest:le=!1}={}){this.name="Replay";const H=kIe({mask:j,unmask:R,block:U,unblock:V,ignore:W});if(this._recordingOptions={maskAllInputs:m,maskAllText:f,maskInputOptions:{password:!0},maskTextFn:G,maskInputFn:G,maskAttributeFn:(ee,q,te)=>SIe({maskAttributes:A,maskAllText:f,privacyOptions:H,key:ee,value:q,el:te}),...H,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ee=>{try{ee.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!d.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,s4e),maxReplayDuration:Math.min(a,s8),stickySession:s,useCompression:l,workerUrl:u,blockAllMedia:g,maskAllInputs:m,maskAllText:f,mutationBreadcrumbLimit:y,mutationLimit:b,slowClickTimeout:v,slowClickIgnoreSelectors:S,networkDetailAllowUrls:k,networkDetailDenyUrls:N,networkCaptureBodies:E,networkRequestHeaders:A8(_),networkResponseHeaders:A8(O),beforeAddRecordingEvent:$,beforeErrorSampling:z,onError:Y,attachRawBodyFromRequest:le,_experiments:d},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${E8}`:E8,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&RC())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return _8}set _isInitialized(t){_8=t}afterAllSetup(t){!RC()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&EIe(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const r=AIe(this._initialOptions,t);this._replay=new wIe({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const r=t.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}function AIe(e,t){const r=t.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...e},a=ru(r.replaysSessionSampleRate),s=ru(r.replaysOnErrorSampleRate);return a==null&&s==null&&uu(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),a!=null&&(n.sessionSampleRate=a),s!=null&&(n.errorSampleRate=s),n}function A8(e){return[...CIe,...e.map(t=>t.toLowerCase())]}function TIe(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function dK(e){try{return new URL(e,Et.location.origin).href}catch{return}}function IIe(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function fK(e){try{return new Headers(e)}catch{return}}const T8=new WeakMap,WS=new Map,hK={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function OIe(e,t){const{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:s,enableHTTPTimings:l,tracePropagationTargets:u,onRequestSpanStart:d,onRequestSpanEnd:f}={...hK,...t},m=typeof s=="function"?s:v=>!0,g=v=>MIe(v,u),y={},b=e.getOptions().propagateTraceparent;r&&(e.addEventProcessor(v=>(v.type==="transaction"&&v.spans&&v.spans.forEach(S=>{if(S.op==="http.client"){const k=WS.get(S.span_id);k&&(S.timestamp=k/1e3,WS.delete(S.span_id))}}),v)),a&&oAe(v=>{if(v.response){const S=T8.get(v.response);S&&v.endTimestamp&&WS.set(S,v.endTimestamp)}}),YH(v=>{const S=Qje(v,m,g,y,{propagateTraceparent:b,onRequestSpanEnd:f});if(v.response&&v.fetchData.__span&&T8.set(v.response,v.fetchData.__span),S){const k=dK(v.fetchData.url),N=k?Lc(k).host:void 0;S.setAttributes({"http.url":k?Nl(k):void 0,"server.address":N}),l&&I8(S),d?.(S,{headers:v.headers})}})),n&&pq(v=>{const S=RIe(v,m,g,y,b,f);S&&(l&&I8(S),d?.(S,{headers:fK(v.xhr.__sentry_xhr_v3__?.request_headers)}))})}function I8(e){const{url:t}=Nt(e).data;if(!t||typeof t!="string")return;const r=au("resource",({entries:n})=>{n.forEach(a=>{IIe(a)&&a.name.endsWith(t)&&(e.setAttributes(hq(a)),setTimeout(r))})})}function MIe(e,t){const r=Af();if(r){let n,a;try{n=new URL(e,r),a=new URL(r).origin}catch{return!1}const s=n.origin===a;return t?ao(n.toString(),t)||s&&ao(n.pathname,t):s}else{const n=!!e.match(/^\/(?!\/)/);return t?ao(e,t):n}}function RIe(e,t,r,n,a,s){const l=e.xhr,u=l?.[Cc];if(!l||l.__sentry_own_request__||!u)return;const{url:d,method:f}=u,m=zs()&&t(d);if(e.endTimestamp&&m){const N=l.__sentry_xhr_span_id__;if(!N)return;const E=n[N];E&&u.status_code!==void 0&&(rH(E,u.status_code),E.end(),s?.(E,{headers:fK(vq(l)),error:e.error}),delete n[N]);return}const g=dK(d),y=Lc(g||d),b=Nl(vje(d)),v=!!Xn(),S=m&&v?Mf({name:`${f} ${b}`,attributes:{url:Nl(d),type:"xhr","http.method":f,"http.url":g?Nl(g):void 0,"server.address":y?.host,[Vr]:"auto.http.browser",[vo]:"http.client",...y?.search&&{"http.query":y?.search},...y?.hash&&{"http.fragment":y?.hash}}}):new Rl;l.__sentry_xhr_span_id__=S.spanContext().spanId,n[l.__sentry_xhr_span_id__]=S,r(d)&&DIe(l,zs()&&v?S:void 0,a);const k=wt();return k&&k.emit("beforeOutgoingRequestSpan",S,e),S}function DIe(e,t,r){const{"sentry-trace":n,baggage:a,traceparent:s}=qH({span:t,propagateTraceparent:r});n&&PIe(e,n,a,s)}function PIe(e,t,r,n){const a=e.__sentry_xhr_v3__?.request_headers;if(!(a?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),n&&!a?.traceparent&&e.setRequestHeader("traceparent",n),r){const s=a?.baggage;(!s||!TIe(s))&&e.setRequestHeader("baggage",r)}}catch{}}function LIe(){Et.document?Et.document.addEventListener("visibilitychange",()=>{const e=Xn();if(!e)return;const t=Rn(e);if(Et.document.hidden&&t){const r="cancelled",{op:n,status:a}=Nt(t);ws&&Me.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),a||t.setStatus({code:qr,message:r}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ws&&Me.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const UIe=3600,mK="sentry_previous_trace",FIe="sentry.previous_trace";function BIe(e,{linkPreviousTrace:t,consistentTraceSampling:r}){const n=t==="session-storage";let a=n?HIe():void 0;e.on("spanStart",l=>{if(Rn(l)!==l)return;const u=Bt().getPropagationContext();a=zIe(a,l,u),n&&$Ie(a)});let s=!0;r&&e.on("beforeSampling",l=>{if(!a)return;const u=Bt(),d=u.getPropagationContext();if(s&&d.parentSpanId){s=!1;return}u.setPropagationContext({...d,dsc:{...d.dsc,sample_rate:String(a.sampleRate),sampled:String(QC(a.spanContext))},sampleRand:a.sampleRand}),l.parentSampled=QC(a.spanContext),l.parentSampleRate=a.sampleRate,l.spanAttributes={...l.spanAttributes,[tH]:a.sampleRate}})}function zIe(e,t,r){const n=Nt(t);function a(){try{return Number(r.dsc?.sample_rate)??Number(n.data?.[jj])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:n.start_timestamp,sampleRate:a(),sampleRand:r.sampleRand};if(!e)return s;const l=e.spanContext;return l.traceId===n.trace_id?e:(Date.now()/1e3-e.startTimestamp<=UIe&&(ws&&Me.log(`Adding previous_trace \`${JSON.stringify(l)}\` link to span \`${JSON.stringify({op:n.op,...t.spanContext()})}\``),t.addLink({context:l,attributes:{[dEe]:"previous_trace"}}),t.setAttribute(FIe,`${l.traceId}-${l.spanId}-${QC(l)?1:0}`)),s)}function $Ie(e){try{Et.sessionStorage.setItem(mK,JSON.stringify(e))}catch(t){ws&&Me.warn("Could not store previous trace in sessionStorage",t)}}function HIe(){try{const e=Et.sessionStorage?.getItem(mK);return JSON.parse(e)}catch{return}}function QC(e){return e.traceFlags===1}const qIe="BrowserTracing",KIe={...Gp,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...hK},GIe=((e={})=>{const t={name:void 0,source:void 0},r=Et.document,{enableInp:n,enableElementTiming:a,enableLongTask:s,enableLongAnimationFrame:l,_experiments:{enableInteractions:u,enableStandaloneClsSpans:d,enableStandaloneLcpSpans:f},beforeStartSpan:m,idleTimeout:g,finalTimeout:y,childSpanTimeout:b,markBackgroundSpan:v,traceFetch:S,traceXHR:k,trackFetchStreamPerformance:N,shouldCreateSpanForRequest:E,enableHTTPTimings:_,ignoreResourceSpans:O,ignorePerformanceApiSpans:j,instrumentPageLoad:A,instrumentNavigation:R,detectRedirects:U,linkPreviousTrace:V,consistentTraceSampling:W,enableReportPageLoaded:G,onRequestSpanStart:$,onRequestSpanEnd:z}={...KIe,...e};let Y,le,H;function ee(q,te,D=!0){const M=te.op==="pageload",L=te.name,J=m?m(te):te,se=J.attributes||{};if(L!==J.name&&(se[Us]="custom",J.attributes=se),!D){const Le=du();Mf({...J,startTime:Le}).end(Le);return}t.name=J.name,t.source=se[Us];const je=SH(J,{idleTimeout:g,finalTimeout:y,childSpanTimeout:b,disableAutoFinish:M,beforeSpanEnd:Le=>{Y?.(),yTe(Le,{recordClsOnPageloadSpan:!d,recordLcpOnPageloadSpan:!f,ignoreResourceSpans:O,ignorePerformanceApiSpans:j}),M8(q,void 0);const Ce=Bt(),Q=Ce.getPropagationContext();Ce.setPropagationContext({...Q,traceId:je.spanContext().traceId,sampled:ql(je),dsc:wo(Le)}),M&&(H=void 0)},trimIdleSpanEndTimestamp:!G});M&&G&&(H=je),M8(q,je);function Re(){r&&["interactive","complete"].includes(r.readyState)&&q.emit("idleSpanEnableAutoFinish",je)}M&&!G&&r&&(r.addEventListener("readystatechange",()=>{Re()}),Re())}return{name:qIe,setup(q){if(BEe(),Y=uTe({recordClsStandaloneSpans:d||!1,recordLcpStandaloneSpans:f||!1,client:q}),n&&HTe(),a&&ATe(),l&&vt.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?fTe():s&&dTe(),u&&hTe(),U&&r){const D=()=>{le=ln()};addEventListener("click",D,{capture:!0}),addEventListener("keydown",D,{capture:!0,passive:!0})}function te(){const D=I0(q);D&&!Nt(D).timestamp&&(ws&&Me.log(`[Tracing] Finishing current active span with op: ${Nt(D).op}`),D.setAttribute(C0,"cancelled"),D.end())}q.on("startNavigationSpan",(D,M)=>{if(wt()!==q)return;if(M?.isRedirect){ws&&Me.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ee(q,{op:"navigation.redirect",...D},!1);return}le=void 0,te(),Ci().setPropagationContext({traceId:bo(),sampleRand:Math.random(),propagationSpanId:zs()?void 0:so()});const L=Bt();L.setPropagationContext({traceId:bo(),sampleRand:Math.random(),propagationSpanId:zs()?void 0:so()}),L.setSDKProcessingMetadata({normalizedRequest:void 0}),ee(q,{op:"navigation",...D,parentSpan:null,forceTransaction:!0})}),q.on("startPageLoadSpan",(D,M={})=>{if(wt()!==q)return;te();const L=M.sentryTrace||O8("sentry-trace"),J=M.baggage||O8("baggage"),se=IEe(L,J),je=Bt();je.setPropagationContext(se),zs()||(je.getPropagationContext().propagationSpanId=so()),je.setSDKProcessingMetadata({normalizedRequest:$j()}),ee(q,{op:"pageload",...D})}),q.on("endPageloadSpan",()=>{G&&H&&(H.setAttribute(C0,"reportPageLoaded"),H.end())})},afterAllSetup(q){let te=Af();if(V!=="off"&&BIe(q,{linkPreviousTrace:V,consistentTraceSampling:W}),Et.location){if(A){const D=wa();WIe(q,{name:Et.location.pathname,startTime:D?D/1e3:void 0,attributes:{[Us]:"url",[Vr]:"auto.pageload.browser"}})}R&&tv(({to:D,from:M})=>{if(M===void 0&&te?.indexOf(D)!==-1){te=void 0;return}te=void 0;const L=zj(D),J=I0(q),se=J&&U&&XIe(J,le);VIe(q,{name:L?.pathname||Et.location.pathname,attributes:{[Us]:"url",[Vr]:"auto.navigation.browser"}},{url:D,isRedirect:se})})}v&&LIe(),u&&YIe(q,g,y,b,t),n&&GTe(),OIe(q,{traceFetch:S,traceXHR:k,trackFetchStreamPerformance:N,tracePropagationTargets:q.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:E,enableHTTPTimings:_,onRequestSpanStart:$,onRequestSpanEnd:z})}}});function WIe(e,t,r){e.emit("startPageLoadSpan",t,r),Bt().setTransactionName(t.name);const n=I0(e);return n&&e.emit("afterStartPageLoadSpan",n),n}function VIe(e,t,r){const{url:n,isRedirect:a}=r||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:a}),e.emit("startNavigationSpan",t,{isRedirect:a});const s=Bt();return s.setTransactionName(t.name),n&&!a&&s.setSDKProcessingMetadata({normalizedRequest:{...$j(),url:n}}),I0(e)}function O8(e){return Et.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function YIe(e,t,r,n,a){const s=Et.document;let l;const u=()=>{const d="ui.action.click",f=I0(e);if(f){const m=Nt(f).op;if(["navigation","pageload"].includes(m)){ws&&Me.warn(`[Tracing] Did not create ${d} span because a pageload or navigation span is in progress.`);return}}if(l&&(l.setAttribute(C0,"interactionInterrupted"),l.end(),l=void 0),!a.name){ws&&Me.warn(`[Tracing] Did not create ${d} transaction because _latestRouteName is missing.`);return}l=SH({name:a.name,op:d,attributes:{[Us]:a.source||"url"}},{idleTimeout:t,finalTimeout:r,childSpanTimeout:n})};s&&addEventListener("click",u,{capture:!0})}const gK="_sentry_idleSpan";function I0(e){return e[gK]}function M8(e,t){ba(e,gK,t)}const R8=1.5;function XIe(e,t){const r=Nt(e),n=du(),a=r.start_timestamp;return!(n-a>R8||t&&n-t<=R8)}function JIe(e){const t={...e};return HH(t,"react"),_H("react",{version:x.version}),W3e(t)}JIe({dsn:"sentry_dsn_replace",integrations:[GIe(),_Ie()],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const D8=new nE(sE),QIe=async()=>{try{await D8.initialize(),LW.createRoot(document.getElementById("root")).render(i.jsx(x.StrictMode,{children:i.jsx(iee,{instance:D8,children:i.jsx(ANe,{})})}))}catch(e){console.error("Failed to initialize MSAL:",e)}};QIe();
